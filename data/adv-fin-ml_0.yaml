- en: '**Praise for** ***Advances in Financial Machine Learning***'
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: '**对** ***《金融机器学习进展》的赞誉***'
- en: In his new book *Advances in Financial Machine Learning* , noted financial scholar
    Marcos López de Prado strikes a well-aimed karate chop at the naive and often
    statistically overfit techniques that are so prevalent in the financial world
    today. He points out that not only are business-as-usual approaches largely impotent
    in today's high-tech finance, but in many cases they are actually prone to lose
    money. But López de Prado does more than just expose the mathematical and statistical
    sins of the finance world. Instead, he offers a technically sound roadmap for
    finance professionals to join the wave of machine learning. What is particularly
    refreshing is the author's empirical approach—his focus is on real-world data
    analysis, not on purely theoretical methods that may look pretty on paper but
    which, in many cases, are largely ineffective in practice. The book is geared
    to finance professionals who are already familiar with statistical data analysis
    techniques, but it is well worth the effort for those who want to do real state-of-the-art
    work in the field.”
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在他的新书《金融机器学习进展》中，著名金融学者马尔科斯·洛佩斯·德·普拉多对当前金融界普遍存在的天真且通常统计过拟合的技术进行了精准的抨击。他指出，传统的业务方式在当今高科技金融领域几乎无能为力，而且在许多情况下，实际上更容易亏损。但洛佩斯·德·普拉多不仅仅是揭露金融世界的数学和统计错误。相反，他为金融专业人士提供了一条技术上可靠的路线图，以便他们能够加入机器学习的浪潮。特别令人耳目一新的是作者的实证方法——他的重点是现实世界数据分析，而不是那些在纸面上看起来漂亮但在实践中往往效果不佳的纯理论方法。这本书面向那些已经熟悉统计数据分析技术的金融专业人士，但对于那些想在该领域进行真正尖端工作的读者而言，努力阅读也是非常值得的。”
- en: '**Dr. David H. Bailey** , former Complex Systems Lead,'
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**大卫·H·贝利博士**，前复杂系统主管，'
- en: Lawrence Berkeley National Laboratory. Co-discoverer of the
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 劳伦斯·伯克利国家实验室。共同发现者
- en: BBP spigot algorithm
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: BBP水龙头算法
- en: “Finance has evolved from a compendium of heuristics based on historical financial
    statements to a highly sophisticated scientific discipline relying on computer
    farms to analyze massive data streams in real time. The recent highly impressive
    advances in machine learning (ML) are fraught with both promise and peril when
    applied to modern finance. While finance offers up the nonlinearities and large
    data sets upon which ML thrives, it also offers up noisy data and the human element
    which presently lie beyond the scope of standard ML techniques. To err is human,
    but if you really want to f**k things up, use a computer. Against this background,
    Dr. López de Prado has written the first comprehensive book describing the application
    of modern ML to financial modeling. The book blends the latest technological developments
    in ML with critical life lessons learned from the author's decades of financial
    experience in leading academic and industrial institutions. I highly recommend
    this exciting book to both prospective students of financial ML and the professors
    and supervisors who teach and guide them.”
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “金融已从基于历史财务报表的启发式知识汇编发展为一种高度复杂的科学学科，依赖计算机农场实时分析海量数据流。最近在机器学习（ML）方面的显著进展，既充满了机遇，也伴随着风险，特别是在现代金融中应用时。虽然金融提供了非线性和大数据集，这些正是ML所擅长的，但它也提供了嘈杂的数据和目前超出标准ML技术范围的人为因素。人非圣贤，但如果你真的想搞砸事情，使用计算机吧。在这样的背景下，洛佩斯·德·普拉多博士撰写了第一本全面描述现代ML在金融建模中应用的书籍。该书将最新的ML技术发展与作者在领先学术和工业机构中数十年的金融经验中获得的重要人生教训融合在一起。我强烈推荐这本令人振奋的书，给那些希望学习金融ML的潜在学生，以及教授和指导他们的教师。”
- en: '**Prof. Peter Carr** , Chair of the Finance and Risk Engineering'
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**彼得·卡尔教授**，金融与风险工程系主任'
- en: Department, NYU Tandon School of Engineering
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 纽约大学坦登工程学院
- en: “Marcos is a visionary who works tirelessly to advance the finance field. His
    writing is comprehensive and masterfully connects the theory to the application.
    It is not often you find a book that can cross that divide. This book is an essential
    read for both practitioners and technologists working on solutions for the investment
    community.”
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马尔科斯是一位有远见的人， tirelessly致力于推动金融领域的发展。他的著作全面而巧妙地将理论与应用连接起来。很少能找到一本能够跨越这一鸿沟的书。这本书对投资界的从业者和技术专家来说都是必读之作。”
- en: '**Landon Downs** , President and Cofounder, 1QBit'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**兰登·唐斯**，1QBit的总裁兼联合创始人'
- en: “Academics who want to understand modern investment management need to read
    this book. In it, Marcos López de Prado explains how portfolio managers use machine
    learning to derive, test, and employ trading strategies. He does this from a very
    unusual combination of an academic perspective and extensive experience in industry,
    allowing him to both explain in detail what happens in industry and to explain
    how it works. I suspect that some readers will find parts of the book that they
    do not understand or that they disagree with, but everyone interested in understanding
    the application of machine learning to finance will benefit from reading this
    book.”
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “想要理解现代投资管理的学者需要阅读这本书。在书中，马尔科斯·洛佩斯·德·普拉多解释了投资组合经理如何利用机器学习来推导、测试和运用交易策略。他从一种非常不寻常的视角出发，结合了学术视角和丰富的行业经验，使他能够详细解释行业内发生的事情以及其运作方式。我怀疑一些读者可能会发现书中某些部分不理解或与之意见相左，但所有对理解机器学习在金融中的应用感兴趣的人都会从阅读这本书中受益。”
- en: '**Prof. David Easley** , Cornell University. Chair of the'
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**大卫·伊斯利教授**，康奈尔大学。主席'
- en: NASDAQ-OMX Economic Advisory Board
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 纳斯达克-OMX经济顾问委员会
- en: “For many decades, finance has relied on overly simplistic statistical techniques
    to identify patterns in data. Machine learning promises to change that by allowing
    researchers to use modern nonlinear and highly dimensional techniques, similar
    to those used in scientific fields like DNA analysis and astrophysics. At the
    same time, applying those machine learning algorithms to model financial problems would
    be dangerous. Financial problems require very distinct machine learning solutions.
    Dr. López de Prado's book is the first one to characterize what makes standard
    machine learning tools fail when applied to the field of finance, and the first
    one to provide practical solutions to unique challenges faced by asset managers.
    Everyone who wants to understand the future of finance should read this book.”
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “几十年来，金融一直依赖过于简单的统计技术来识别数据中的模式。机器学习有望改变这一现状，使研究人员能够使用现代非线性和高维技术，类似于在DNA分析和天体物理学等科学领域中使用的方法。同时，将这些机器学习算法应用于金融问题建模将是危险的。金融问题需要非常独特的机器学习解决方案。洛佩斯·德·普拉多博士的书是第一本界定了标准机器学习工具在金融领域应用失败原因的书，也是第一本提供针对资产管理者所面临独特挑战的实用解决方案的书。任何想要了解金融未来的人都应该阅读这本书。”
- en: '**Prof. Frank Fabozzi,** EDHEC Business School. Editor of'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**弗兰克·法博齐教授**，EDHEC商学院。编辑'
- en: '*The Journal of Portfolio Management*'
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*投资组合管理期刊*'
- en: '“This is a welcome departure from the knowledge hoarding that plagues quantitative
    finance. López de Prado defines for all readers the next era of finance: industrial
    scale scientific research powered by machines.”'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “这是一种令人欢迎的转变，摆脱了困扰量化金融的知识垄断。洛佩斯·德·普拉多为所有读者定义了金融的下一个时代：由机器驱动的工业规模科学研究。”
- en: '**John Fawcett** , Founder and CEO, Quantopian'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**约翰·福塞特**，创始人兼首席执行官，Quantopian'
- en: “Marcos has assembled in one place an invaluable set of lessons and techniques
    for practitioners seeking to deploy machine learning techniques in finance. If
    machine learning is a new and potentially powerful weapon in the arsenal of quantitative
    finance, Marcos's insightful book is laden with useful advice to help keep a curious
    practitioner from going down any number of blind alleys, or shooting oneself in
    the foot.”
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马尔科斯将一系列宝贵的课程和技巧汇集在一起，为寻求在金融中应用机器学习技术的从业者提供指导。如果机器学习是量化金融工具箱中一种新的且潜在强大的武器，那么马尔科斯的深刻著作充满了有用的建议，可以帮助好奇的从业者避免误入歧途或自食其果。”
- en: '**Ross Garon** , Head of Cubist Systematic Strategies. Managing'
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**罗斯·加龙**，Cubist系统策略负责人。管理'
- en: Director, Point72 Asset Management
  id: totrans-20
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Point72资产管理公司董事
- en: “The first wave of quantitative innovation in finance was led by Markowitz optimization.
    Machine Learning is the second wave, and it will touch every aspect of finance.
    López de Prado's *Advances in Financial Machine Learning* is essential for readers
    who want to be ahead of the technology rather than being replaced by it.”
  id: totrans-21
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “金融领域的第一次定量创新浪潮是由马科维茨优化引领的。机器学习是第二次浪潮，它将影响金融的每个方面。洛佩斯·德·普拉多的*金融机器学习进展*对那些希望在技术前沿而不是被技术取代的读者来说至关重要。”
- en: '**Prof. Campbell Harvey** , Duke University. Former President of'
  id: totrans-22
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**坎贝尔·哈维教授**，杜克大学。前任会长'
- en: the American Finance Association
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 美国金融协会
- en: “How does one make sense of todays’ financial markets in which complex algorithms
    route orders, financial data is voluminous, and trading speeds are measured in
    nanoseconds? In this important book, Marcos López de Prado sets out a new paradigm
    for investment management built on machine learning. Far from being a “black box”
    technique, this book clearly explains the tools and process of financial machine
    learning. For academics and practitioners alike, this book fills an important
    gap in our understanding of investment management in the machine age.”
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “在当今金融市场中，复杂的算法负责路由订单，海量的金融数据，交易速度以纳秒为单位，该如何理解？在这本重要的书中，马科斯·洛佩斯·德·普拉多提出了一个建立在机器学习基础上的投资管理新范式。这本书清晰地解释了金融机器学习的工具和过程，远非“黑箱”技术。对于学术界和从业者而言，这本书填补了我们在机器时代投资管理理解中的重要空白。”
- en: '**Prof. Maureen O''Hara** , Cornell University. Former President of'
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**莫琳·欧哈拉教授**，康奈尔大学。前任会长'
- en: the American Finance Association
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 美国金融协会
- en: “Marcos López de Prado has produced an extremely timely and important book on
    machine learning. The author's academic and professional first-rate credentials
    shine through the pages of this book—indeed, I could think of few, if any, authors
    better suited to explaining both the theoretical and the practical aspects of
    this new and (for most) unfamiliar subject. Both novices and experienced professionals
    will find insightful ideas, and will understand how the subject can be applied
    in novel and useful ways. The Python code will give the novice readers a running start
    and will allow them to gain quickly a hands-on appreciation of the subject. Destined
    to become a classic in this rapidly burgeoning field.”
  id: totrans-27
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马科斯·洛佩斯·德·普拉多出版了一本极为及时且重要的机器学习书籍。作者的学术与职业一流资质在书页间熠熠生辉——确实，我很难想到更合适的作者来解释这个对于大多数人来说既新颖又陌生的主题的理论和实践方面。无论是新手还是经验丰富的专业人士都能找到富有洞察力的观点，并理解如何以新颖和实用的方式应用这一主题。Python
    代码将为初学者提供一个良好的起步，并使他们迅速获得对该主题的实际理解。这本书注定将在这一迅速发展的领域中成为经典。”
- en: '**Prof. Riccardo Rebonato** , EDHEC Business School. Former'
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**里卡多·雷博纳托教授**，EDHEC 商学院。前任'
- en: Global Head of Rates and FX Analytics at PIMCO
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: PIMCO 全球利率与外汇分析主管
- en: “A tour de force on practical aspects of machine learning in finance, brimming
    with ideas on how to employ cutting-edge techniques, such as fractional differentiation
    and quantum computers, to gain insight and competitive advantage. A useful volume
    for finance and machine learning practitioners alike.”
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “一本关于金融领域机器学习实际应用的力作，充满了如何使用尖端技术（如分数微分和量子计算机）获得洞察力和竞争优势的想法。对金融和机器学习从业者而言都是一本实用的书籍。”
- en: '**Dr. Collin P. Williams** , Head of Research, D-Wave Systems'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**科林·P·威廉姆斯博士**，D-Wave 系统公司研究主管'
- en: '**Advances in Financial Machine Learning**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**金融机器学习进展**'
- en: '**MARCOS LÓPEZ DE PRADO**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**马科斯·洛佩斯·德·普拉多**'
- en: '![](Image00527.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00527.jpg)'
- en: 'Cover image: © Erikona/Getty Images'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 封面图像：© Erikona/Getty Images
- en: 'Cover design: Wiley'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 封面设计：Wiley
- en: Copyright © 2018 by John Wiley & Sons, Inc. All rights reserved.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有 © 2018 约翰·威利父子公司。保留所有权利。
- en: Published by John Wiley & Sons, Inc., Hoboken, New Jersey.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 由约翰·威利父子公司出版，位于新泽西州霍博肯。
- en: Published simultaneously in Canada.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 同时在加拿大出版。
- en: The views expressed in this book are the author's and do not necessarily reflect
    those of the organizations he is affiliated with.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 本书所表达的观点属于作者，未必反映其所隶属组织的观点。
- en: No part of this publication may be reproduced, stored in a retrieval system,
    or transmitted in any form or by any means, electronic, mechanical, photocopying,
    recording, scanning, or otherwise, except as permitted under Section 107 or 108
    of the 1976 United States Copyright Act, without either the prior written permission
    of the Publisher, or authorization through payment of the appropriate per-copy
    fee to the Copyright Clearance Center, Inc., 222 Rosewood Drive, Danvers, MA 01923,
    (978) 750-8400, fax (978) 646-8600, or on the Web at [www.copyright.com](http://www.copyright.com)
    . Requests to the Publisher for permission should be addressed to the Permissions
    Department, John Wiley & Sons, Inc., 111 River Street, Hoboken, NJ 07030, (201)
    748-6011, fax (201) 748-6008, or online at [www.wiley.com/go/permissions](http://www.wiley.com/go/permissions)
    .
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 本出版物的任何部分不得以任何形式或任何方式复制、存储在检索系统中或传输，包括电子、机械、复印、录音、扫描或其他方式，除非在1976年美国版权法第107或108节的允许范围内，且未经出版商的事先书面许可，或通过支付适当的每份费用向版权清算中心（Copyright
    Clearance Center, Inc.），地址为222 Rosewood Drive, Danvers, MA 01923, (978) 750-8400,
    传真(978) 646-8600，或通过 [www.copyright.com](http://www.copyright.com) 网上申请。对出版商的许可请求应发送至权限部，约翰·威利与儿子公司（John
    Wiley & Sons, Inc.），地址为111 River Street, Hoboken, NJ 07030, (201) 748-6011, 传真(201)
    748-6008，或在线访问 [www.wiley.com/go/permissions](http://www.wiley.com/go/permissions)。
- en: 'Limit of Liability/Disclaimer of Warranty: While the publisher and author have
    used their best efforts in preparing this book, they make no representations or
    warranties with respect to the accuracy or completeness of the contents of this
    book and specifically disclaim any implied warranties of merchantability or fitness
    for a particular purpose. No warranty may be created or extended by sales representatives
    or written sales materials. The advice and strategies contained herein may not
    be suitable for your situation. You should consult with a professional where appropriate.
    Neither the publisher nor author shall be liable for any loss of profit or any
    other commercial damages, including but not limited to special, incidental, consequential,
    or other damages. The views expressed in this book are the author''s and do not
    necessarily reflect those of the organizations he is affiliated with.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 责任限制/免责声明：虽然出版商和作者在准备本书时已尽最大努力，但他们对本书内容的准确性或完整性不作任何陈述或保证，并明确拒绝任何关于适销性或特定用途适用性的隐含保证。销售代表或书面销售材料可能不会创建或扩展任何保证。本书中包含的建议和策略可能不适合您的情况。您应在适当时咨询专业人士。出版商和作者均不对任何利润损失或其他商业损害负责，包括但不限于特殊、附带、间接或其他损害。本书中表达的观点为作者个人观点，并不一定反映其所隶属组织的观点。
- en: For general information on our other products and services or for technical
    support, please contact our Customer Care Department within the United States
    at (800) 762-2974, outside the United States at (317) 572-3993, or fax (317) 572-4002.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如需有关我们其他产品和服务的一般信息或技术支持，请在美国拨打 (800) 762-2974 联系我们的客户服务部，国际拨打 (317) 572-3993，或传真
    (317) 572-4002。
- en: Wiley publishes in a variety of print and electronic formats and by print-on-demand.
    Some material included with standard print versions of this book may not be included
    in e-books or in print-on-demand. If this book refers to media such as a CD or
    DVD that is not included in the version you purchased, you may download this material
    at [http://booksupport.wiley.com](http://booksupport.wiley.com) . For more information
    about Wiley products, visit [www.wiley.com](http://www.wiley.com) .
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Wiley以多种印刷和电子格式以及按需印刷出版。一些在本书标准印刷版中包含的材料可能不包括在电子书或按需印刷中。如果本书提及的媒体如CD或DVD未包含在您购买的版本中，您可以在
    [http://booksupport.wiley.com](http://booksupport.wiley.com) 下载这些材料。有关Wiley产品的更多信息，请访问
    [www.wiley.com](http://www.wiley.com)。
- en: ISBN 978-1-119-48208-6 (Hardcover)
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ISBN 978-1-119-48208-6（精装）
- en: ISBN 978-1-119-48211-6 (ePDF)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ISBN 978-1-119-48211-6（ePDF）
- en: ISBN 978-1-119-48210-9 (ePub)
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ISBN 978-1-119-48210-9（ePub）
- en: Dedicated to the memory of my coauthor and friend,
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 献给我的合著者和朋友的记忆，
- en: Professor Jonathan M. Borwein, FRSC, FAAAS,
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 乔纳森·M·博尔温教授，FRSC，FAAAS，
- en: FBAS, FAustMS, FAA, FAMS, FRSNSW
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: FBAS，FAustMS，FAA，FAMS，FRSNSW
- en: (1951–2016)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: （1951–2016）
- en: There are very few things which we know, which are not capable of being reduced
    to a mathematical reasoning. And when they cannot, it's a sign our knowledge of
    them is very small and confused. Where a mathematical reasoning can be had, it's
    as great a folly to make use of any other, as to grope for a thing in the dark,
    when you have a candle standing by you.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我们知道的事情非常少，它们都可以简化为数学推理。当它们不能时，说明我们对它们的认识非常有限且混乱。能够进行数学推理时，使用其他任何推理方法都是极大的愚蠢，就像在黑暗中摸索事物时，身边有一根蜡烛却不去使用它。
- en: — *Of the Laws of Chance* , Preface (1692)
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: — *关于机会法则*，序言 (1692)
- en: John Arbuthnot (1667–1735)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 约翰·阿巴斯诺特 (1667–1735)
- en: '**CONTENTS**'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**内容**'
- en: '[About the Author](text00000.html#filepos0000068138)'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[关于作者](text00000.html#filepos0000068138)'
- en: '[PREAMBLE](text00000.html#filepos0000070128)'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[序言](text00000.html#filepos0000070128)'
- en: '[Chapter 1 Financial Machine Learning as a Distinct Subject](text00000.html#filepos0000070518)'
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第1章 财务机器学习作为一个独特主题](text00000.html#filepos0000070518)'
- en: '[1.1 Motivation](text00000.html#filepos0000070783)'
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.1 动机](text00000.html#filepos0000070783)'
- en: '[1.2 The Main Reason Financial Machine Learning Projects Usually Fail](text00000.html#filepos0000074463)'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.2 财务机器学习项目通常失败的主要原因](text00000.html#filepos0000074463)'
- en: '[1.3 Book Structure](text00000.html#filepos0000079805)'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.3 书籍结构](text00000.html#filepos0000079805)'
- en: '[1.4 Target Audience](text00000.html#filepos0000121449)'
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.4 目标受众](text00000.html#filepos0000121449)'
- en: '[1.5 Requisites](text00000.html#filepos0000123483)'
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.5 必备条件](text00000.html#filepos0000123483)'
- en: '[1.6 FAQs](text00000.html#filepos0000124825)'
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.6 常见问题解答](text00000.html#filepos0000124825)'
- en: '[1.7 Acknowledgments](text00000.html#filepos0000140518)'
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[1.7 致谢](text00000.html#filepos0000140518)'
- en: '[Exercises](text00000.html#filepos0000143111)'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00000.html#filepos0000143111)'
- en: '[References](text00000.html#filepos0000147831)'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00000.html#filepos0000147831)'
- en: '[Bibliography](text00000.html#filepos0000149431)'
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00000.html#filepos0000149431)'
- en: '[Notes](text00000.html#filepos0000152288)'
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[笔记](text00000.html#filepos0000152288)'
- en: '[PART 1 DATA ANALYSIS](text00000.html#filepos0000153144)'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第1部分 数据分析](text00000.html#filepos0000153144)'
- en: '[Chapter 2 Financial Data Structures](text00000.html#filepos0000153985)'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第2章 财务数据结构](text00000.html#filepos0000153985)'
- en: '[2.1 Motivation](text00000.html#filepos0000154227)'
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.1 动机](text00000.html#filepos0000154227)'
- en: '[2.2 Essential Types of Financial Data](text00000.html#filepos0000154883)'
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.2 财务数据的基本类型](text00000.html#filepos0000154883)'
- en: '[2.3 Bars](text00000.html#filepos0000165027)'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.3 条形图](text00000.html#filepos0000165027)'
- en: '[2.4 Dealing with Multi-Product Series](text00000.html#filepos0000193959)'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.4 处理多产品系列](text00000.html#filepos0000193959)'
- en: '[2.5 Sampling Features](text00000.html#filepos0000213591)'
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[2.5 特征采样](text00000.html#filepos0000213591)'
- en: '[Exercises](text00000.html#filepos0000222705)'
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00000.html#filepos0000222705)'
- en: '[References](text00000.html#filepos0000227013)'
  id: totrans-78
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00000.html#filepos0000227013)'
- en: '[Chapter 3 Labeling](text00000.html#filepos0000229506)'
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第3章 标记](text00000.html#filepos0000229506)'
- en: '[3.1 Motivation](text00000.html#filepos0000229731)'
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.1 动机](text00000.html#filepos0000229731)'
- en: '[3.2 The Fixed-Time Horizon Method](text00000.html#filepos0000230568)'
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.2 固定时间范围方法](text00000.html#filepos0000230568)'
- en: '[3.3 Computing Dynamic Thresholds](text00000.html#filepos0000235552)'
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.3 计算动态阈值](text00000.html#filepos0000235552)'
- en: '[3.4 The Triple-Barrier Method](text00000.html#filepos0000237025)'
  id: totrans-83
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.4 三重障碍法](text00000.html#filepos0000237025)'
- en: '[3.5 Learning Side and Size](text00001.html#filepos0000244731)'
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.5 学习侧面和规模](text00001.html#filepos0000244731)'
- en: '[3.6 Meta-Labeling](text00001.html#filepos0000250934)'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.6 元标记](text00001.html#filepos0000250934)'
- en: '[3.7 How to Use Meta-Labeling](text00001.html#filepos0000254530)'
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.7 如何使用元标记](text00001.html#filepos0000254530)'
- en: '[3.8 The Quantamental Way](text00001.html#filepos0000259348)'
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.8 量化思维方式](text00001.html#filepos0000259348)'
- en: '[3.9 Dropping Unnecessary Labels](text00001.html#filepos0000262810)'
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[3.9 删除不必要的标签](text00001.html#filepos0000262810)'
- en: '[Exercises](text00001.html#filepos0000264704)'
  id: totrans-89
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00001.html#filepos0000264704)'
- en: '[Bibliography](text00001.html#filepos0000268469)'
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00001.html#filepos0000268469)'
- en: '[Note](text00001.html#filepos0000278857)'
  id: totrans-91
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注](text00001.html#filepos0000278857)'
- en: '[Chapter 4 Sample Weights](text00001.html#filepos0000279229)'
  id: totrans-92
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第4章 示例权重](text00001.html#filepos0000279229)'
- en: '[4.1 Motivation](text00001.html#filepos0000279460)'
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.1 动机](text00001.html#filepos0000279460)'
- en: '[4.2 Overlapping Outcomes](text00001.html#filepos0000280322)'
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.2 重叠结果](text00001.html#filepos0000280322)'
- en: '[4.3 Number of Concurrent Labels](text00001.html#filepos0000286034)'
  id: totrans-95
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.3 同时标签的数量](text00001.html#filepos0000286034)'
- en: '[4.4 Average Uniqueness of a Label](text00001.html#filepos0000289143)'
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.4 标签的平均独特性](text00001.html#filepos0000289143)'
- en: '[4.5 Bagging Classifiers and Uniqueness](text00001.html#filepos0000292458)'
  id: totrans-97
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.5 装袋分类器和独特性](text00001.html#filepos0000292458)'
- en: '[4.6 Return Attribution](text00001.html#filepos0000311001)'
  id: totrans-98
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.6 回报归因](text00001.html#filepos0000311001)'
- en: '[4.7 Time Decay](text00001.html#filepos0000313775)'
  id: totrans-99
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.7 时间衰减](text00001.html#filepos0000313775)'
- en: '[4.8 Class Weights](text00001.html#filepos0000318480)'
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[4.8 类别权重](text00001.html#filepos0000318480)'
- en: '[Exercises](text00001.html#filepos0000321336)'
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00001.html#filepos0000321336)'
- en: '[References](text00001.html#filepos0000325853)'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00001.html#filepos0000325853)'
- en: '[Bibliography](text00001.html#filepos0000326690)'
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00001.html#filepos0000326690)'
- en: '[Chapter 5 Fractionally Differentiated Features](text00001.html#filepos0000329259)'
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第5章 分数微分特征](text00001.html#filepos0000329259)'
- en: '[5.1 Motivation](text00001.html#filepos0000329512)'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.1 动机](text00001.html#filepos0000329512)'
- en: '[5.2 The Stationarity vs. Memory Dilemma](text00001.html#filepos0000330658)'
  id: totrans-106
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.2 平稳性与记忆困境](text00001.html#filepos0000330658)'
- en: '[5.3 Literature Review](text00001.html#filepos0000333813)'
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.3 文献综述](text00001.html#filepos0000333813)'
- en: '[5.4 The Method](text00001.html#filepos0000335994)'
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.4 方法](text00001.html#filepos0000335994)'
- en: '[5.5 Implementation](text00001.html#filepos0000345623)'
  id: totrans-109
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.5 实施](text00001.html#filepos0000345623)'
- en: '[5.6 Stationarity with Maximum Memory Preservation](text00001.html#filepos0000354132)'
  id: totrans-110
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.6 最大内存保存的平稳性](text00001.html#filepos0000354132)'
- en: '[5.7 Conclusion](text00001.html#filepos0000359851)'
  id: totrans-111
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[5.7 结论](text00001.html#filepos0000359851)'
- en: '[Exercises](text00001.html#filepos0000361715)'
  id: totrans-112
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00001.html#filepos0000361715)'
- en: '[References](text00001.html#filepos0000367476)'
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00001.html#filepos0000367476)'
- en: '[Bibliography](text00001.html#filepos0000368610)'
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00001.html#filepos0000368610)'
- en: '[PART 2 MODELLING](text00001.html#filepos0000370348)'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第二部分 建模](text00001.html#filepos0000370348)'
- en: '[Chapter 6 Ensemble Methods](text00001.html#filepos0000371207)'
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第6章 集成方法](text00001.html#filepos0000371207)'
- en: '[6.1 Motivation](text00001.html#filepos0000371440)'
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.1 动机](text00001.html#filepos0000371440)'
- en: '[6.2 The Three Sources of Errors](text00001.html#filepos0000372131)'
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.2 三种误差来源](text00001.html#filepos0000372131)'
- en: '[6.3 Bootstrap Aggregation](text00001.html#filepos0000375734)'
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.3 自助聚合](text00001.html#filepos0000375734)'
- en: '[6.4 Random Forest](text00001.html#filepos0000386869)'
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.4 随机森林](text00001.html#filepos0000386869)'
- en: '[6.5 Boosting](text00001.html#filepos0000392033)'
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.5 提升法](text00001.html#filepos0000392033)'
- en: '[6.6 Bagging vs. Boosting in Finance](text00001.html#filepos0000393930)'
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.6 财务中的袋装法与提升法](text00001.html#filepos0000393930)'
- en: '[6.7 Bagging for Scalability](text00001.html#filepos0000395477)'
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[6.7 可扩展性的袋装法](text00001.html#filepos0000395477)'
- en: '[Exercises](text00001.html#filepos0000397874)'
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00001.html#filepos0000397874)'
- en: '[References](text00001.html#filepos0000400644)'
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00001.html#filepos0000400644)'
- en: '[Bibliography](text00001.html#filepos0000401555)'
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00001.html#filepos0000401555)'
- en: '[Notes](text00001.html#filepos0000402540)'
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[笔记](text00001.html#filepos0000402540)'
- en: '[Chapter 7 Cross-Validation in Finance](text00001.html#filepos0000404229)'
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第7章 财务中的交叉验证](text00001.html#filepos0000404229)'
- en: '[7.1 Motivation](text00001.html#filepos0000404473)'
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[7.1 动机](text00001.html#filepos0000404473)'
- en: '[7.2 The Goal of Cross-Validation](text00001.html#filepos0000405116)'
  id: totrans-130
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[7.2 交叉验证的目标](text00001.html#filepos0000405116)'
- en: '[7.3 Why K-Fold CV Fails in Finance](text00001.html#filepos0000408213)'
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[7.3 为什么K折交叉验证在财务中失败](text00001.html#filepos0000408213)'
- en: '[7.4 A Solution: Purged K-Fold CV](text00001.html#filepos0000414858)'
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[7.4 解决方案：清理的K折交叉验证](text00001.html#filepos0000414858)'
- en: '[7.5 Bugs in Sklearn''s Cross-Validation](text00001.html#filepos0000426899)'
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[7.5 Sklearn的交叉验证中的错误](text00001.html#filepos0000426899)'
- en: '[Exercises](text00001.html#filepos0000428942)'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00001.html#filepos0000428942)'
- en: '[Bibliography](text00001.html#filepos0000432718)'
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00001.html#filepos0000432718)'
- en: '[Chapter 8 Feature Importance](text00001.html#filepos0000434781)'
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第8章 特征重要性](text00001.html#filepos0000434781)'
- en: '[8.1 Motivation](text00001.html#filepos0000435016)'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.1 动机](text00001.html#filepos0000435016)'
- en: '[8.2 The Importance of Feature Importance](text00001.html#filepos0000436227)'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.2 特征重要性的重要性](text00001.html#filepos0000436227)'
- en: '[8.3 Feature Importance with Substitution Effects](text00001.html#filepos0000439835)'
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.3 带替代效应的特征重要性](text00001.html#filepos0000439835)'
- en: '[8.4 Feature Importance without Substitution Effects](text00001.html#filepos0000447153)'
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.4 无替代效应的特征重要性](text00001.html#filepos0000447153)'
- en: '[8.5 Parallelized vs. Stacked Feature Importance](text00001.html#filepos0000458286)'
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.5 并行与堆叠特征重要性](text00001.html#filepos0000458286)'
- en: '[8.6 Experiments with Synthetic Data](text00001.html#filepos0000462771)'
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[8.6 使用合成数据的实验](text00001.html#filepos0000462771)'
- en: '[Exercises](text00001.html#filepos0000469145)'
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00001.html#filepos0000469145)'
- en: '[References](text00001.html#filepos0000473916)'
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00001.html#filepos0000473916)'
- en: '[Note](text00001.html#filepos0000475873)'
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00001.html#filepos0000475873)'
- en: '[Chapter 9 Hyper-Parameter Tuning with Cross-Validation](text00001.html#filepos0000476302)'
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第9章 超参数调整与交叉验证](text00001.html#filepos0000476302)'
- en: '[9.1 Motivation](text00001.html#filepos0000476563)'
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.1 动机](text00001.html#filepos0000476563)'
- en: '[9.2 Grid Search Cross-Validation](text00001.html#filepos0000477372)'
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.2 网格搜索交叉验证](text00001.html#filepos0000477372)'
- en: '[9.3 Randomized Search Cross-Validation](text00001.html#filepos0000482285)'
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.3 随机搜索交叉验证](text00001.html#filepos0000482285)'
- en: '[9.4 Scoring and Hyper-parameter Tuning](text00002.html#filepos0000487673)'
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.4 评分和超参数调优](text00002.html#filepos0000487673)'
- en: '[Exercises](text00002.html#filepos0000492944)'
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000492944)'
- en: '[References](text00002.html#filepos0000498144)'
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000498144)'
- en: '[Bibliography](text00002.html#filepos0000498771)'
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000498771)'
- en: '[Notes](text00002.html#filepos0000501204)'
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000501204)'
- en: '[PART 3 BACKTESTING](text00002.html#filepos0000502254)'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第3部分 回测](text00002.html#filepos0000502254)'
- en: '[Chapter 10 Bet Sizing](text00002.html#filepos0000503563)'
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第10章 投注规模](text00002.html#filepos0000503563)'
- en: '[10.1 Motivation](text00002.html#filepos0000503791)'
  id: totrans-157
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.1 动机](text00002.html#filepos0000503791)'
- en: '[10.2 Strategy-Independent Bet Sizing Approaches](text00002.html#filepos0000504483)'
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.2 独立于策略的投注规模方法](text00002.html#filepos0000504483)'
- en: '[10.3 Bet Sizing from Predicted Probabilities](text00002.html#filepos0000511123)'
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.3 基于预测概率的投注规模](text00002.html#filepos0000511123)'
- en: '[10.4 Averaging Active Bets](text00002.html#filepos0000515184)'
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.4 活动投注的平均值](text00002.html#filepos0000515184)'
- en: '[10.5 Size Discretization](text00002.html#filepos0000516129)'
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.5 尺寸离散化](text00002.html#filepos0000516129)'
- en: '[10.6 Dynamic Bet Sizes and Limit Prices](text00002.html#filepos0000517478)'
  id: totrans-162
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.6 动态投注规模和限制价格](text00002.html#filepos0000517478)'
- en: '[Exercises](text00002.html#filepos0000528797)'
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000528797)'
- en: '[References](text00002.html#filepos0000534486)'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000534486)'
- en: '[Bibliography](text00002.html#filepos0000535154)'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000535154)'
- en: '[Notes](text00002.html#filepos0000536036)'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000536036)'
- en: '[Chapter 11 The Dangers of Backtesting](text00002.html#filepos0000536917)'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第11章 回测的危险](text00002.html#filepos0000536917)'
- en: '[11.1 Motivation](text00002.html#filepos0000537161)'
  id: totrans-168
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.1 动机](text00002.html#filepos0000537161)'
- en: '[11.2 Mission Impossible: The Flawless Backtest](text00002.html#filepos0000538378)'
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.2 不可能的任务：完美回测](text00002.html#filepos0000538378)'
- en: '[11.3 Even If Your Backtest Is Flawless, It Is Probably Wrong](text00002.html#filepos0000542210)'
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.3 即使你的回测完美，它也可能是错误的](text00002.html#filepos0000542210)'
- en: '[11.4 Backtesting Is Not a Research Tool](text00002.html#filepos0000543781)'
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.4 回测不是研究工具](text00002.html#filepos0000543781)'
- en: '[11.5 A Few General Recommendations](text00002.html#filepos0000546295)'
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.5 一些一般性建议](text00002.html#filepos0000546295)'
- en: '[11.6 Strategy Selection](text00002.html#filepos0000550515)'
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.6 策略选择](text00002.html#filepos0000550515)'
- en: '[Exercises](text00002.html#filepos0000561842)'
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000561842)'
- en: '[References](text00002.html#filepos0000563893)'
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000563893)'
- en: '[Bibliography](text00002.html#filepos0000567031)'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000567031)'
- en: '[Note](text00002.html#filepos0000575507)'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注](text00002.html#filepos0000575507)'
- en: '[Chapter 12 Backtesting through Cross-Validation](text00002.html#filepos0000576018)'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第12章 通过交叉验证进行回测](text00002.html#filepos0000576018)'
- en: '[12.1 Motivation](text00002.html#filepos0000576272)'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.1 动机](text00002.html#filepos0000576272)'
- en: '[12.2 The Walk-Forward Method](text00002.html#filepos0000577230)'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.2 前行法](text00002.html#filepos0000577230)'
- en: '[12.3 The Cross-Validation Method](text00002.html#filepos0000581868)'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.3 交叉验证法](text00002.html#filepos0000581868)'
- en: '[12.4 The Combinatorial Purged Cross-Validation Method](text00002.html#filepos0000585069)'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.4 组合清理交叉验证法](text00002.html#filepos0000585069)'
- en: '[12.5 How Combinatorial Purged Cross-Validation Addresses Backtest Overfitting](text00002.html#filepos0000596425)'
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.5 组合清理交叉验证如何解决回测过拟合](text00002.html#filepos0000596425)'
- en: '[Exercises](text00002.html#filepos0000604305)'
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000604305)'
- en: '[References](text00002.html#filepos0000607704)'
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000607704)'
- en: '[Chapter 13 Backtesting on Synthetic Data](text00002.html#filepos0000609384)'
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第13章 在合成数据上回测](text00002.html#filepos0000609384)'
- en: '[13.1 Motivation](text00002.html#filepos0000609631)'
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.1 动机](text00002.html#filepos0000609631)'
- en: '[13.2 Trading Rules](text00002.html#filepos0000610409)'
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.2 交易规则](text00002.html#filepos0000610409)'
- en: '[13.3 The Problem](text00002.html#filepos0000613748)'
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.3 问题](text00002.html#filepos0000613748)'
- en: '[13.4 Our Framework](text00002.html#filepos0000623154)'
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.4 我们的框架](text00002.html#filepos0000623154)'
- en: '[13.5 Numerical Determination of Optimal Trading Rules](text00002.html#filepos0000627390)'
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.5 最优交易规则的数值确定](text00002.html#filepos0000627390)'
- en: '[13.6 Experimental Results](text00002.html#filepos0000636545)'
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.6 实验结果](text00002.html#filepos0000636545)'
- en: '[13.7 Conclusion](text00002.html#filepos0000673037)'
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.7 结论](text00002.html#filepos0000673037)'
- en: '[Exercises](text00002.html#filepos0000675326)'
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000675326)'
- en: '[References](text00002.html#filepos0000678781)'
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000678781)'
- en: '[Notes](text00002.html#filepos0000681006)'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000681006)'
- en: '[Chapter 14 Backtest Statistics](text00002.html#filepos0000682127)'
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第14章 回测统计](text00002.html#filepos0000682127)'
- en: '[14.1 Motivation](text00002.html#filepos0000682364)'
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.1 动机](text00002.html#filepos0000682364)'
- en: '[14.2 Types of Backtest Statistics](text00002.html#filepos0000683413)'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.2 回测统计的类型](text00002.html#filepos0000683413)'
- en: '[14.3 General Characteristics](text00002.html#filepos0000684034)'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.3 一般特征](text00002.html#filepos0000684034)'
- en: '[14.4 Performance](text00002.html#filepos0000689407)'
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.4 绩效](text00002.html#filepos0000689407)'
- en: '[14.5 Runs](text00002.html#filepos0000695945)'
  id: totrans-202
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.5 跑道](text00002.html#filepos0000695945)'
- en: '[14.6 Implementation Shortfall](text00002.html#filepos0000704198)'
  id: totrans-203
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.6 实施短缺](text00002.html#filepos0000704198)'
- en: '[14.7 Efficiency](text00002.html#filepos0000705735)'
  id: totrans-204
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.7 效率](text00002.html#filepos0000705735)'
- en: '[14.8 Classification Scores](text00002.html#filepos0000715741)'
  id: totrans-205
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.8 分类分数](text00002.html#filepos0000715741)'
- en: '[14.9 Attribution](text00002.html#filepos0000723836)'
  id: totrans-206
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.9 归因](text00002.html#filepos0000723836)'
- en: '[Exercises](text00002.html#filepos0000726720)'
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000726720)'
- en: '[References](text00002.html#filepos0000731196)'
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000731196)'
- en: '[Bibliography](text00003.html#filepos0000733327)'
  id: totrans-209
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00003.html#filepos0000733327)'
- en: '[Notes](text00003.html#filepos0000740485)'
  id: totrans-210
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00003.html#filepos0000740485)'
- en: '[Chapter 15 Understanding Strategy Risk](text00003.html#filepos0000741410)'
  id: totrans-211
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第15章 理解策略风险](text00003.html#filepos0000741410)'
- en: '[15.1 Motivation](text00003.html#filepos0000741655)'
  id: totrans-212
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.1 动机](text00003.html#filepos0000741655)'
- en: '[15.2 Symmetric Payouts](text00003.html#filepos0000742743)'
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.2 对称支付](text00003.html#filepos0000742743)'
- en: '[15.3 Asymmetric Payouts](text00003.html#filepos0000749241)'
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.3 非对称支付](text00003.html#filepos0000749241)'
- en: '[15.4 The Probability of Strategy Failure](text00003.html#filepos0000759813)'
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.4 策略失败的概率](text00003.html#filepos0000759813)'
- en: '[Exercises](text00003.html#filepos0000768696)'
  id: totrans-216
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000768696)'
- en: '[References](text00003.html#filepos0000773392)'
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000773392)'
- en: '[Chapter 16 Machine Learning Asset Allocation](text00003.html#filepos0000774986)'
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第16章 机器学习资产配置](text00003.html#filepos0000774986)'
- en: '[16.1 Motivation](text00003.html#filepos0000775237)'
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.1 动机](text00003.html#filepos0000775237)'
- en: '[16.2 The Problem with Convex Portfolio Optimization](text00003.html#filepos0000776692)'
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.2 凸组合优化的问题](text00003.html#filepos0000776692)'
- en: '[16.3 Markowitz''s Curse](text00003.html#filepos0000779564)'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.3 马科维茨的诅咒](text00003.html#filepos0000779564)'
- en: '[16.4 From Geometric to Hierarchical Relationships](text00003.html#filepos0000782378)'
  id: totrans-222
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.4 从几何关系到层次关系](text00003.html#filepos0000782378)'
- en: '[16.5 A Numerical Example](text00003.html#filepos0000807661)'
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.5 数值示例](text00003.html#filepos0000807661)'
- en: '[16.6 Out-of-Sample Monte Carlo Simulations](text00003.html#filepos0000818590)'
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.6 超出样本的蒙特卡洛模拟](text00003.html#filepos0000818590)'
- en: '[16.7 Further Research](text00003.html#filepos0000824738)'
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.7 进一步研究](text00003.html#filepos0000824738)'
- en: '[16.8 Conclusion](text00003.html#filepos0000828570)'
  id: totrans-226
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.8 结论](text00003.html#filepos0000828570)'
- en: '[APPENDICES](text00003.html#filepos0000831910)'
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[附录](text00003.html#filepos0000831910)'
- en: '[16.A.1 Correlation-based Metric](text00003.html#filepos0000832025)'
  id: totrans-228
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.1 基于相关性的度量](text00003.html#filepos0000832025)'
- en: '[16.A.2 Inverse Variance Allocation](text00003.html#filepos0000835480)'
  id: totrans-229
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.2 反向方差配置](text00003.html#filepos0000835480)'
- en: '[16.A.3 Reproducing the Numerical Example](text00003.html#filepos0000836832)'
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.3 复制数值示例](text00003.html#filepos0000836832)'
- en: '[16.A.4 Reproducing the Monte Carlo Experiment](text00003.html#filepos0000838327)'
  id: totrans-231
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.4 复制蒙特卡洛实验](text00003.html#filepos0000838327)'
- en: '[Exercises](text00003.html#filepos0000839659)'
  id: totrans-232
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000839659)'
- en: '[References](text00003.html#filepos0000843310)'
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000843310)'
- en: '[Notes](text00003.html#filepos0000848703)'
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00003.html#filepos0000848703)'
- en: '[PART 4 USEFUL FINANCIAL FEATURES](text00003.html#filepos0000849866)'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第4部分 有用的金融特征](text00003.html#filepos0000849866)'
- en: '[Chapter 17 Structural Breaks](text00003.html#filepos0000850574)'
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第17章 结构性断裂](text00003.html#filepos0000850574)'
- en: '[17.1 Motivation](text00003.html#filepos0000850809)'
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.1 动机](text00003.html#filepos0000850809)'
- en: '[17.2 Types of Structural Break Tests](text00003.html#filepos0000852108)'
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.2 结构性断裂测试的类型](text00003.html#filepos0000852108)'
- en: '[17.3 CUSUM Tests](text00003.html#filepos0000853372)'
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3 CUSUM测试](text00003.html#filepos0000853372)'
- en: '[17.4 Explosiveness Tests](text00003.html#filepos0000860239)'
  id: totrans-240
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.4 爆炸性测试](text00003.html#filepos0000860239)'
- en: '[Exercises](text00003.html#filepos0000895025)'
  id: totrans-241
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000895025)'
- en: '[References](text00003.html#filepos0000898694)'
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000898694)'
- en: '[Chapter 18 Entropy Features](text00003.html#filepos0000901244)'
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第18章 熵特征](text00003.html#filepos0000901244)'
- en: '[18.1 Motivation](text00003.html#filepos0000901478)'
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.1 动机](text00003.html#filepos0000901478)'
- en: '[18.2 Shannon''s Entropy](text00003.html#filepos0000902479)'
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.2 香农熵](text00003.html#filepos0000902479)'
- en: '[18.3 The Plug-in (or Maximum Likelihood) Estimator](text00003.html#filepos0000907003)'
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.3 插件（或最大似然）估计器](text00003.html#filepos0000907003)'
- en: '[18.4 Lempel-Ziv Estimators](text00003.html#filepos0000910957)'
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.4 兰佩尔-齐夫估计器](text00003.html#filepos0000910957)'
- en: '[18.5 Encoding Schemes](text00003.html#filepos0000922307)'
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.5 编码方案](text00003.html#filepos0000922307)'
- en: '[18.6 Entropy of a Gaussian Process](text00003.html#filepos0000927410)'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.6 高斯过程的熵](text00003.html#filepos0000927410)'
- en: '[18.7 Entropy and the Generalized Mean](text00003.html#filepos0000929817)'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.7 熵与广义均值](text00003.html#filepos0000929817)'
- en: '[18.8 A Few Financial Applications of Entropy](text00003.html#filepos0000937381)'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.8 熵的一些金融应用](text00003.html#filepos0000937381)'
- en: '[Exercises](text00003.html#filepos0000951076)'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00003.html#filepos0000951076)'
- en: '[References](text00003.html#filepos0000957166)'
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000957166)'
- en: '[Bibliography](text00003.html#filepos0000961991)'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00003.html#filepos0000961991)'
- en: '[Note](text00003.html#filepos0000963140)'
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注意](text00003.html#filepos0000963140)'
- en: '[Chapter 19 Microstructural Features](text00003.html#filepos0000963505)'
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第19章 微观结构特征](text00003.html#filepos0000963505)'
- en: '[19.1 Motivation](text00003.html#filepos0000963747)'
  id: totrans-257
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.1 动机](text00003.html#filepos0000963747)'
- en: '[19.2 Review of the Literature](text00003.html#filepos0000964629)'
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.2 文献回顾](text00003.html#filepos0000964629)'
- en: '[19.3 First Generation: Price Sequences](text00004.html#filepos0000966533)'
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.3 第一代：价格序列](text00004.html#filepos0000966533)'
- en: '[19.4 Second Generation: Strategic Trade Models](text00004.html#filepos0000980046)'
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.4 第二代：战略交易模型](text00004.html#filepos0000980046)'
- en: '[19.5 Third Generation: Sequential Trade Models](text00004.html#filepos0000992251)'
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.5 第三代：顺序交易模型](text00004.html#filepos0000992251)'
- en: '[19.6 Additional Features from Microstructural Datasets](text00004.html#filepos0001000562)'
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.6 微观结构数据集的附加特征](text00004.html#filepos0001000562)'
- en: '[19.7 What Is Microstructural Information?](text00004.html#filepos0001010555)'
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.7 什么是微观结构信息？](text00004.html#filepos0001010555)'
- en: '[Exercises](text00004.html#filepos0001016132)'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001016132)'
- en: '[References](text00004.html#filepos0001024369)'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献列表](text00004.html#filepos0001024369)'
- en: '[PART 5 HIGH-PERFORMANCE COMPUTING RECIPES](text00004.html#filepos0001033677)'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第5部分 高性能计算食谱](text00004.html#filepos0001033677)'
- en: '[Chapter 20 Multiprocessing and Vectorization](text00004.html#filepos0001034475)'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第20章 多处理与向量化](text00004.html#filepos0001034475)'
- en: '[20.1 Motivation](text00004.html#filepos0001034726)'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1 动机](text00004.html#filepos0001034726)'
- en: '[20.2 Vectorization Example](text00004.html#filepos0001035757)'
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.2 向量化示例](text00004.html#filepos0001035757)'
- en: '[20.3 Single-Thread vs. Multithreading vs. Multiprocessing](text00004.html#filepos0001037784)'
  id: totrans-270
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.3 单线程与多线程与多处理](text00004.html#filepos0001037784)'
- en: '[20.4 Atoms and Molecules](text00004.html#filepos0001041072)'
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.4 原子与分子](text00004.html#filepos0001041072)'
- en: '[20.5 Multiprocessing Engines](text00004.html#filepos0001051513)'
  id: totrans-272
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.5 多处理引擎](text00004.html#filepos0001051513)'
- en: '[20.6 Multiprocessing Example](text00004.html#filepos0001063528)'
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.6 多处理示例](text00004.html#filepos0001063528)'
- en: '[Exercises](text00004.html#filepos0001069003)'
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001069003)'
- en: '[Reference](text00004.html#filepos0001071440)'
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00004.html#filepos0001071440)'
- en: '[Bibliography](text00004.html#filepos0001071768)'
  id: totrans-276
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00004.html#filepos0001071768)'
- en: '[Notes](text00004.html#filepos0001073018)'
  id: totrans-277
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00004.html#filepos0001073018)'
- en: '[Chapter 21 Brute Force and Quantum Computers](text00004.html#filepos0001074501)'
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第21章 粗暴搜索与量子计算机](text00004.html#filepos0001074501)'
- en: '[21.1 Motivation](text00004.html#filepos0001074752)'
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.1 动机](text00004.html#filepos0001074752)'
- en: '[21.2 Combinatorial Optimization](text00004.html#filepos0001075635)'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.2 组合优化](text00004.html#filepos0001075635)'
- en: '[21.3 The Objective Function](text00004.html#filepos0001078039)'
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.3 目标函数](text00004.html#filepos0001078039)'
- en: '[21.4 The Problem](text00004.html#filepos0001081801)'
  id: totrans-282
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.4 问题](text00004.html#filepos0001081801)'
- en: '[21.5 An Integer Optimization Approach](text00004.html#filepos0001083348)'
  id: totrans-283
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.5 整数优化方法](text00004.html#filepos0001083348)'
- en: '[21.6 A Numerical Example](text00004.html#filepos0001091530)'
  id: totrans-284
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.6 数值示例](text00004.html#filepos0001091530)'
- en: '[Exercises](text00004.html#filepos0001094307)'
  id: totrans-285
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001094307)'
- en: '[References](text00004.html#filepos0001097918)'
  id: totrans-286
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00004.html#filepos0001097918)'
- en: '[Chapter 22 High-Performance Computational Intelligence and Forecasting Technologies](text00004.html#filepos0001099298)'
  id: totrans-287
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第22章 高性能计算智能与预测技术](text00004.html#filepos0001099298)'
- en: '[22.1 Motivation](text00004.html#filepos0001099723)'
  id: totrans-288
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.1 动机](text00004.html#filepos0001099723)'
- en: '[22.2 Regulatory Response to the Flash Crash of 2010](text00004.html#filepos0001101136)'
  id: totrans-289
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.2 对2010年闪电崩盘的监管响应](text00004.html#filepos0001101136)'
- en: '[22.3 Background](text00004.html#filepos0001102867)'
  id: totrans-290
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.3 背景](text00004.html#filepos0001102867)'
- en: '[22.4 HPC Hardware](text00004.html#filepos0001108331)'
  id: totrans-291
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.4 HPC 硬件](text00004.html#filepos0001108331)'
- en: '[22.5 HPC Software](text00004.html#filepos0001117874)'
  id: totrans-292
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.5 HPC 软件](text00004.html#filepos0001117874)'
- en: '[22.6 Use Cases](text00004.html#filepos0001126185)'
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.6 用例](text00004.html#filepos0001126185)'
- en: '[22.7 Summary and Call for Participation](text00004.html#filepos0001154614)'
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.7 总结与参与邀请](text00004.html#filepos0001154614)'
- en: '[22.8 Acknowledgments](text00004.html#filepos0001158907)'
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.8 致谢](text00004.html#filepos0001158907)'
- en: '[References](text00004.html#filepos0001159700)'
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00004.html#filepos0001159700)'
- en: '[Notes](text00004.html#filepos0001169042)'
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00004.html#filepos0001169042)'
- en: '[Index](text00004.html#filepos0001170766)'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[索引](text00004.html#filepos0001170766)'
- en: '[EULA](text00005.html#filepos0001245663)'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[最终用户许可协议 (EULA)](text00005.html#filepos0001245663)'
- en: '**List of Tables**'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: '**表格列表**'
- en: Chapter 1
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 1 章
- en: '[**Table 1.1**](text00000.html#filepos0000092591)'
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 1.1**](text00000.html#filepos0000092591)'
- en: '[**Table 1.2**](text00000.html#filepos0000116919)'
  id: totrans-303
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 1.2**](text00000.html#filepos0000116919)'
- en: Chapter 2
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 2 章
- en: '[**Table 2.1**](text00000.html#filepos0000155381)'
  id: totrans-305
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 2.1**](text00000.html#filepos0000155381)'
- en: Chapter 5
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 5 章
- en: '[**Table 5.1**](text00001.html#filepos0000359372)'
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 5.1**](text00001.html#filepos0000359372)'
- en: Chapter 13
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 13 章
- en: '[**Table 13.1**](text00002.html#filepos0000637238)'
  id: totrans-309
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 13.1**](text00002.html#filepos0000637238)'
- en: Chapter 14
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 14 章
- en: '[**Table 14.1**](text00002.html#filepos0000719725)'
  id: totrans-311
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 14.1**](text00002.html#filepos0000719725)'
- en: Chapter 16
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 16 章
- en: '[**Table 16.1**](text00003.html#filepos0000812181)'
  id: totrans-313
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 16.1**](text00003.html#filepos0000812181)'
- en: Chapter 17
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 17 章
- en: '[**Table 17.1**](text00003.html#filepos0000872808)'
  id: totrans-315
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**表 17.1**](text00003.html#filepos0000872808)'
- en: '**List of Illustrations**'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '**插图列表**'
- en: Chapter 2
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 2 章
- en: '[**Figure 2.1**](text00000.html#filepos0000174100)'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 2.1**](text00000.html#filepos0000174100)'
- en: '[**Figure 2.2**](text00000.html#filepos0000209254)'
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 2.2**](text00000.html#filepos0000209254)'
- en: '[**Figure 2.3**](text00000.html#filepos0000221897)'
  id: totrans-320
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 2.3**](text00000.html#filepos0000221897)'
- en: Chapter 3
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 3 章
- en: '[**Figure 3.1**](text00000.html#filepos0000244523)'
  id: totrans-322
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 3.1**](text00000.html#filepos0000244523)'
- en: '[**Figure 3.2**](text00001.html#filepos0000256656)'
  id: totrans-323
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 3.2**](text00001.html#filepos0000256656)'
- en: Chapter 4
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 4 章
- en: '[**Figure 4.1**](text00001.html#filepos0000290928)'
  id: totrans-325
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 4.1**](text00001.html#filepos0000290928)'
- en: '[**Figure 4.2**](text00001.html#filepos0000310792)'
  id: totrans-326
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 4.2**](text00001.html#filepos0000310792)'
- en: '[**Figure 4.3**](text00001.html#filepos0000318296)'
  id: totrans-327
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 4.3**](text00001.html#filepos0000318296)'
- en: Chapter 5
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 5 章
- en: '[**Figure 5.1**](text00001.html#filepos0000341782)'
  id: totrans-329
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 5.1**](text00001.html#filepos0000341782)'
- en: '[**Figure 5.2**](text00001.html#filepos0000342705)'
  id: totrans-330
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 5.2**](text00001.html#filepos0000342705)'
- en: '[**Figure 5.3**](text00001.html#filepos0000350067)'
  id: totrans-331
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 5.3**](text00001.html#filepos0000350067)'
- en: '[**Figure 5.4**](text00001.html#filepos0000353033)'
  id: totrans-332
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 5.4**](text00001.html#filepos0000353033)'
- en: '[**Figure 5.5**](text00001.html#filepos0000357571)'
  id: totrans-333
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 5.5**](text00001.html#filepos0000357571)'
- en: Chapter 6
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 6 章
- en: '[**Figure 6.1**](text00001.html#filepos0000380113)'
  id: totrans-335
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 6.1**](text00001.html#filepos0000380113)'
- en: '[**Figure 6.2**](text00001.html#filepos0000384361)'
  id: totrans-336
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 6.2**](text00001.html#filepos0000384361)'
- en: '[**Figure 6.3**](text00001.html#filepos0000393759)'
  id: totrans-337
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 6.3**](text00001.html#filepos0000393759)'
- en: Chapter 7
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 7 章
- en: '[**Figure 7.1**](text00001.html#filepos0000407324)'
  id: totrans-339
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 7.1**](text00001.html#filepos0000407324)'
- en: '[**Figure 7.2**](text00001.html#filepos0000421908)'
  id: totrans-340
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 7.2**](text00001.html#filepos0000421908)'
- en: '[**Figure 7.3**](text00001.html#filepos0000425442)'
  id: totrans-341
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 7.3**](text00001.html#filepos0000425442)'
- en: Chapter 8
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 8 章
- en: '[**Figure 8.1**](text00001.html#filepos0000456463)'
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 8.1**](text00001.html#filepos0000456463)'
- en: '[**Figure 8.2**](text00001.html#filepos0000467068)'
  id: totrans-344
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 8.2**](text00001.html#filepos0000467068)'
- en: '[**Figure 8.3**](text00001.html#filepos0000468012)'
  id: totrans-345
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 8.3**](text00001.html#filepos0000468012)'
- en: '[**Figure 8.4**](text00001.html#filepos0000468942)'
  id: totrans-346
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 8.4**](text00001.html#filepos0000468942)'
- en: Chapter 9
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 9 章
- en: '[**Figure 9.1**](text00001.html#filepos0000486173)'
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 9.1**](text00001.html#filepos0000486173)'
- en: '[**Figure 9.2**](text00002.html#filepos0000491183)'
  id: totrans-349
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 9.2**](text00002.html#filepos0000491183)'
- en: Chapter 10
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 10 章
- en: '[**Figure 10.1**](text00002.html#filepos0000514747)'
  id: totrans-351
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 10.1**](text00002.html#filepos0000514747)'
- en: '[**Figure 10.2**](text00002.html#filepos0000517025)'
  id: totrans-352
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 10.2**](text00002.html#filepos0000517025)'
- en: '[**Figure 10.3**](text00002.html#filepos0000528355)'
  id: totrans-353
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 10.3**](text00002.html#filepos0000528355)'
- en: Chapter 11
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 11 章
- en: '[**Figure 11.1**](text00002.html#filepos0000560950)'
  id: totrans-355
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 11.1**](text00002.html#filepos0000560950)'
- en: '[**Figure 11.2**](text00002.html#filepos0000561260)'
  id: totrans-356
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 11.2**](text00002.html#filepos0000561260)'
- en: Chapter 12
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 12 章
- en: '[**Figure 12.1**](text00002.html#filepos0000588582)'
  id: totrans-358
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 12.1**](text00002.html#filepos0000588582)'
- en: '[**Figure 12.2**](text00002.html#filepos0000590228)'
  id: totrans-359
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 12.2**](text00002.html#filepos0000590228)'
- en: Chapter 13
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 13 章
- en: '[**Figure 13.1**](text00002.html#filepos0000656032)'
  id: totrans-361
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.1**](text00002.html#filepos0000656032)'
- en: '[**Figure 13.2**](text00002.html#filepos0000656993)'
  id: totrans-362
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.2**](text00002.html#filepos0000656993)'
- en: '[**Figure 13.3**](text00002.html#filepos0000657941)'
  id: totrans-363
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.3**](text00002.html#filepos0000657941)'
- en: '[**Figure 13.4**](text00002.html#filepos0000658257)'
  id: totrans-364
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.4**](text00002.html#filepos0000658257)'
- en: '[**Figure 13.5**](text00002.html#filepos0000658573)'
  id: totrans-365
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.5**](text00002.html#filepos0000658573)'
- en: '[**Figure 13.6**](text00002.html#filepos0000660487)'
  id: totrans-366
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.6**](text00002.html#filepos0000660487)'
- en: '[**Figure 13.7**](text00002.html#filepos0000661506)'
  id: totrans-367
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.7**](text00002.html#filepos0000661506)'
- en: '[**Figure 13.8**](text00002.html#filepos0000662374)'
  id: totrans-368
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.8**](text00002.html#filepos0000662374)'
- en: '[**Figure 13.9**](text00002.html#filepos0000663316)'
  id: totrans-369
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.9**](text00002.html#filepos0000663316)'
- en: '[**Figure 13.10**](text00002.html#filepos0000663985)'
  id: totrans-370
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.10**](text00002.html#filepos0000663985)'
- en: '[**Figure 13.11**](text00002.html#filepos0000664707)'
  id: totrans-371
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.11**](text00002.html#filepos0000664707)'
- en: '[**Figure 13.12**](text00002.html#filepos0000665024)'
  id: totrans-372
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.12**](text00002.html#filepos0000665024)'
- en: '[**Figure 13.13**](text00002.html#filepos0000665315)'
  id: totrans-373
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.13**](text00002.html#filepos0000665315)'
- en: '[**Figure 13.14**](text00002.html#filepos0000665606)'
  id: totrans-374
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.14**](text00002.html#filepos0000665606)'
- en: '[**Figure 13.15**](text00002.html#filepos0000665897)'
  id: totrans-375
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.15**](text00002.html#filepos0000665897)'
- en: '[**Figure 13.16**](text00002.html#filepos0000668111)'
  id: totrans-376
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.16**](text00002.html#filepos0000668111)'
- en: '[**Figure 13.17**](text00002.html#filepos0000669207)'
  id: totrans-377
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.17**](text00002.html#filepos0000669207)'
- en: '[**Figure 13.18**](text00002.html#filepos0000670124)'
  id: totrans-378
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.18**](text00002.html#filepos0000670124)'
- en: '[**Figure 13.19**](text00002.html#filepos0000670441)'
  id: totrans-379
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.19**](text00002.html#filepos0000670441)'
- en: '[**Figure 13.20**](text00002.html#filepos0000670758)'
  id: totrans-380
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.20**](text00002.html#filepos0000670758)'
- en: '[**Figure 13.21**](text00002.html#filepos0000671514)'
  id: totrans-381
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.21**](text00002.html#filepos0000671514)'
- en: '[**Figure 13.22**](text00002.html#filepos0000671831)'
  id: totrans-382
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.22**](text00002.html#filepos0000671831)'
- en: '[**Figure 13.23**](text00002.html#filepos0000672122)'
  id: totrans-383
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.23**](text00002.html#filepos0000672122)'
- en: '[**Figure 13.24**](text00002.html#filepos0000672413)'
  id: totrans-384
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.24**](text00002.html#filepos0000672413)'
- en: '[**Figure 13.25**](text00002.html#filepos0000672704)'
  id: totrans-385
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 13.25**](text00002.html#filepos0000672704)'
- en: Chapter 14
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 14 章
- en: '[**Figure 14.1**](text00002.html#filepos0000702619)'
  id: totrans-387
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 14.1**](text00002.html#filepos0000702619)'
- en: '[**Figure 14.2**](text00002.html#filepos0000710176)'
  id: totrans-388
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 14.2**](text00002.html#filepos0000710176)'
- en: '[**Figure 14.3**](text00002.html#filepos0000712035)'
  id: totrans-389
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 14.3**](text00002.html#filepos0000712035)'
- en: Chapter 15
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 15 章
- en: '[**Figure 15.1**](text00003.html#filepos0000747868)'
  id: totrans-391
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 15.1**](text00003.html#filepos0000747868)'
- en: '[**Figure 15.2**](text00003.html#filepos0000757396)'
  id: totrans-392
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 15.2**](text00003.html#filepos0000757396)'
- en: '[**Figure 15.3**](text00003.html#filepos0000759335)'
  id: totrans-393
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 15.3**](text00003.html#filepos0000759335)'
- en: Chapter 16
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 16 章
- en: '[**Figure 16.1**](text00003.html#filepos0000780859)'
  id: totrans-395
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.1**](text00003.html#filepos0000780859)'
- en: '[**Figure 16.2**](text00003.html#filepos0000784189)'
  id: totrans-396
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.2**](text00003.html#filepos0000784189)'
- en: '[**Figure 16.3**](text00003.html#filepos0000797066)'
  id: totrans-397
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.3**](text00003.html#filepos0000797066)'
- en: '[**Figure 16.4**](text00003.html#filepos0000808681)'
  id: totrans-398
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.4**](text00003.html#filepos0000808681)'
- en: '[**Figure 16.5**](text00003.html#filepos0000809164)'
  id: totrans-399
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.5**](text00003.html#filepos0000809164)'
- en: '[**Figure 16.6**](text00003.html#filepos0000809811)'
  id: totrans-400
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.6**](text00003.html#filepos0000809811)'
- en: '[**Figure 16.7**](text00003.html#filepos0000822841)'
  id: totrans-401
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.7**](text00003.html#filepos0000822841)'
- en: '[**Figure 16.8**](text00003.html#filepos0000827020)'
  id: totrans-402
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 16.8**](text00003.html#filepos0000827020)'
- en: Chapter 17
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 17 章
- en: '[**Figure 17.1**](text00003.html#filepos0000869015)'
  id: totrans-404
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 17.1**](text00003.html#filepos0000869015)'
- en: '[**Figure 17.2**](text00003.html#filepos0000885567)'
  id: totrans-405
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 17.2**](text00003.html#filepos0000885567)'
- en: '[**Figure 17.3**](text00003.html#filepos0000886781)'
  id: totrans-406
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 17.3**](text00003.html#filepos0000886781)'
- en: Chapter 18
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 18 章
- en: '[**Figure 18.1**](text00003.html#filepos0000929074)'
  id: totrans-408
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 18.1**](text00003.html#filepos0000929074)'
- en: '[**Figure 18.2**](text00003.html#filepos0000936629)'
  id: totrans-409
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 18.2**](text00003.html#filepos0000936629)'
- en: Chapter 19
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 19 章
- en: '[**Figure 19.1**](text00004.html#filepos0000987148)'
  id: totrans-411
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 19.1**](text00004.html#filepos0000987148)'
- en: '[**Figure 19.2**](text00004.html#filepos0000989018)'
  id: totrans-412
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 19.2**](text00004.html#filepos0000989018)'
- en: '[**Figure 19.3**](text00004.html#filepos0000992042)'
  id: totrans-413
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 19.3**](text00004.html#filepos0000992042)'
- en: Chapter 20
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 20 章
- en: '[**Figure 20.1**](text00004.html#filepos0001043753)'
  id: totrans-415
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 20.1**](text00004.html#filepos0001043753)'
- en: '[**Figure 20.2**](text00004.html#filepos0001051311)'
  id: totrans-416
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 20.2**](text00004.html#filepos0001051311)'
- en: Chapter 21
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 21 章
- en: '[**Figure 21.1**](text00004.html#filepos0001085945)'
  id: totrans-418
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 21.1**](text00004.html#filepos0001085945)'
- en: Chapter 22
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第 22 章
- en: '[**Figure 22.1**](text00004.html#filepos0001110151)'
  id: totrans-420
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.1**](text00004.html#filepos0001110151)'
- en: '[**Figure 22.2**](text00004.html#filepos0001114364)'
  id: totrans-421
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.2**](text00004.html#filepos0001114364)'
- en: '[**Figure 22.3**](text00004.html#filepos0001115509)'
  id: totrans-422
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.3**](text00004.html#filepos0001115509)'
- en: '[**Figure 22.4**](text00004.html#filepos0001128887)'
  id: totrans-423
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.4**](text00004.html#filepos0001128887)'
- en: '[**Figure 22.5**](text00004.html#filepos0001133138)'
  id: totrans-424
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.5**](text00004.html#filepos0001133138)'
- en: '[**Figure 22.6**](text00004.html#filepos0001140885)'
  id: totrans-425
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.6**](text00004.html#filepos0001140885)'
- en: '[**Figure 22.7**](text00004.html#filepos0001142959)'
  id: totrans-426
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.7**](text00004.html#filepos0001142959)'
- en: '[**Figure 22.8**](text00004.html#filepos0001145415)'
  id: totrans-427
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.8**](text00004.html#filepos0001145415)'
- en: '[**Figure 22.9**](text00004.html#filepos0001149194)'
  id: totrans-428
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.9**](text00004.html#filepos0001149194)'
- en: '[**Figure 22.10**](text00004.html#filepos0001153202)'
  id: totrans-429
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[**图 22.10**](text00004.html#filepos0001153202)'
- en: '**About the Author**'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: '**关于作者**'
- en: '**Marcos López de Prado** manages several multibillion-dollar funds for institutional
    investors using machine learning algorithms. Over the past 20 years, his work
    has combined advanced mathematics with supercomputing technologies to deliver
    billions of dollars in net profits for investors and firms. A proponent of research
    by collaboration, Marcos has published with more than 30 leading academics, resulting
    in some of the most-read papers in finance.'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: '**马科斯·洛佩斯·德·普拉多**使用机器学习算法为机构投资者管理多个数十亿资金的基金。在过去的20年中，他的工作将高级数学与超级计算技术结合起来，为投资者和公司带来了数十亿美元的净利润。作为合作研究的倡导者，马科斯与30多位顶尖学者合作发表论文，结果是一些在金融领域阅读量最大的论文。'
- en: Since 2010, Marcos has also been a Research Fellow at Lawrence Berkeley National
    Laboratory (U.S. Department of Energy's Office of Science), where he conducts
    research focused on the mathematics of large-scale financial problems and high-performance
    computing at the Computational Research department. For the past seven years he
    has lectured at Cornell University, where he currently teaches a graduate course
    in financial big data and machine learning in the Operations Research department.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 自2010年以来，马科斯还在劳伦斯伯克利国家实验室（美国能源部科学办公室）担任研究员，他的研究重点是大规模金融问题的数学和计算研究部门的高性能计算。在过去的七年里，他在康奈尔大学授课，目前在运筹学系教授金融大数据和机器学习的研究生课程。
- en: 'Marcos is the recipient of the 1999 National Award for Academic Excellence,
    which the government of Spain bestows upon the best graduate student nationally.
    He earned a PhD in financial economics (2003) and a second PhD in mathematical
    finance (2011) from Universidad Complutense de Madrid. Between his two doctorates,
    Marcos was a postdoctoral research fellow of RCC at Harvard University for three
    years, during which he published more than a dozen articles in JCR-indexed scientific
    journals. Marcos has an ![](Image00526.jpg) #2 and an Einstein #4, according to
    the American Mathematical Society.'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '马科斯是1999年国家学术优秀奖的获得者，该奖项由西班牙政府授予全国最优秀的研究生。他于2003年获得马德里自治大学的金融经济学博士学位，并于2011年获得数学金融博士学位。在获得两个博士学位之间，马科斯在哈佛大学担任RCC的博士后研究员三年，期间他在JCR索引的科学期刊上发表了十多篇文章。根据美国数学学会的标准，马科斯拥有一个
    ![](Image00526.jpg) #2 和一个爱因斯坦 #4。'
- en: '**Preamble**'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '**前言**'
- en: '[Chapter 1 Financial Machine Learning as a Distinct Subject](text00000.html#filepos0000070518)'
  id: totrans-435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第一章 金融机器学习作为一个独立的学科](text00000.html#filepos0000070518)'
- en: '**CHAPTER 1**'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: '**第一章**'
- en: '**Financial Machine Learning as a Distinct Subject**'
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: '**金融机器学习作为一个独立的学科**'
- en: '**1.1 Motivation**'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.1 动机**'
- en: Machine learning (ML) is changing virtually every aspect of our lives. Today
    ML algorithms accomplish tasks that until recently only expert humans could perform.
    As it relates to finance, this is the most exciting time to adopt a disruptive
    technology that will transform how everyone invests for generations. This book
    explains scientifically sound ML tools that have worked for me over the course
    of two decades, and have helped me to manage large pools of funds for some of
    the most demanding institutional investors.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习（ML）正在改变我们生活的几乎每个方面。今天，机器学习算法可以完成直到最近只有专业人士才能完成的任务。与金融相关，这是采用一种颠覆性技术的最激动人心的时刻，这将改变每个人在未来几代人的投资方式。这本书解释了在我二十年的职业生涯中使用的科学合理的机器学习工具，帮助我管理一些最苛刻的机构投资者的大量资金。
- en: Books about investments largely fall in one of two categories. On one hand we
    find books written by authors who have not practiced what they teach. They contain
    extremely elegant mathematics that describes a world that does not exist. Just
    because a theorem is true in a logical sense does not mean it is true in a physical
    sense. On the other hand we find books written by authors who offer explanations
    absent of any rigorous academic theory. They misuse mathematical tools to describe
    actual observations. Their models are overfit and fail when implemented. Academic
    investigation and publication are divorced from practical application to financial
    markets, and many applications in the trading/investment world are not grounded
    in proper science.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 关于投资的书籍大致可分为两类。一方面，我们发现一些书籍的作者并没有实践他们所教授的内容。这些书籍包含了极其优雅的数学，描述了一个并不存在的世界。一个定理在逻辑上是真实的，并不意味着它在物理上也是真实的。另一方面，我们也看到一些书籍的作者提供的解释缺乏任何严谨的学术理论。他们错误使用数学工具来描述实际观察。他们的模型过拟合，在实施时失败。学术研究和出版与金融市场的实际应用脱节，而在交易/投资领域的许多应用并没有基于适当的科学。
- en: A first motivation for writing this book is to cross the proverbial divide that
    separates academia and the industry. I have been on both sides of the rift, and
    I understand how difficult it is to cross it and how easy it is to get entrenched
    on one side. Virtue is in the balance. This book will not advocate a theory merely
    because of its mathematical beauty, and will not propose a solution just because
    it appears to work. My goal is to transmit the kind of knowledge that only comes
    from experience, formalized in a rigorous manner.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 写这本书的首要动机是为了跨越学术界与行业之间的隐喻鸿沟。我曾在这两方面都有所经历，因此我了解跨越这一鸿沟有多么困难，以及在一侧固守有多么容易。美德在于平衡。这本书不会仅仅因为某个理论在数学上美观而加以倡导，也不会仅仅因为某个解决方案看起来有效而提出。我希望传递的是那种仅来自经验的知识，并以严谨的方式加以形式化。
- en: A second motivation is inspired by the desire that finance serves a purpose.
    Over the years some of my articles, published in academic journals and newspapers,
    have expressed my displeasure with the current role that finance plays in our
    society. Investors are lured to gamble their wealth on wild hunches originated
    by charlatans and encouraged by mass media. One day in the near future, ML will
    dominate finance, science will curtail guessing, and investing will not mean gambling.
    I would like the reader to play a part in that revolution.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个动机源于希望金融能服务于某种目的。多年来，我在学术期刊和报纸上发表的一些文章表达了我对金融在我们社会中当前角色的不满。投资者被诱导将财富押注于来自江湖骗子的荒谬猜测，并受到大众媒体的鼓励。在不久的将来，机器学习将主导金融，科学将限制猜测，投资不再意味着赌博。我希望读者能在这场革命中发挥一份力量。
- en: A third motivation is that many investors fail to grasp the complexity of ML
    applications to investments. This seems to be particularly true for discretionary
    firms moving into the “quantamental” space. I am afraid their high expectations
    will not be met, not because ML failed, but because they used ML incorrectly.
    Over the coming years, many firms will invest with off-the-shelf ML algorithms,
    directly imported from academia or Silicon Valley, and my forecast is that they
    will lose money (to better ML solutions). Beating the wisdom of the crowds is
    harder than recognizing faces or driving cars. With this book my hope is that
    you will learn how to solve some of the challenges that make finance a particularly
    difficult playground for ML, like backtest overfitting. Financial ML is a subject
    in its own right, related to but separate from standard ML, and this book unravels
    it for you.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个动机是许多投资者未能理解机器学习应用于投资的复杂性。这在向“量化基本面”领域转型的自由裁量公司中尤其明显。我担心他们的高期望将无法实现，这并不是因为机器学习失败，而是因为他们错误地使用了机器学习。在未来几年中，许多公司将使用从学术界或硅谷直接引进的现成机器学习算法进行投资，我的预测是，他们将因此亏损（相较于更好的机器学习解决方案）。战胜群体智慧比识别面孔或驾驶汽车要困难得多。通过这本书，我希望你能学会解决一些使金融成为机器学习特别困难的挑战，比如回测过拟合。金融机器学习是一个独立的主题，虽然与标准机器学习有关但又有所不同，这本书将为你解开这一主题。
- en: '**1.2 The Main Reason Financial Machine Learning Projects Usually Fail**'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2 金融机器学习项目通常失败的主要原因**'
- en: The rate of failure in quantitative finance is high, particularly so in financial
    ML. The few who succeed amass a large amount of assets and deliver consistently
    exceptional performance to their investors. However, that is a rare outcome, for
    reasons explained in this book. Over the past two decades, I have seen many faces
    come and go, firms started and shut down. In my experience, there is one critical
    mistake that underlies all those failures.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 定量金融的失败率很高，尤其是在金融机器学习领域。少数成功者积累了大量资产，并持续为投资者提供卓越的业绩。然而，这是一种罕见的结果，原因在本书中有说明。在过去的二十年中，我见过许多面孔来来往往，许多公司创立又关闭。根据我的经验，所有这些失败的根本原因在于一个关键错误。
- en: '**1.2.1 The Sisyphus Paradigm**'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2.1 西西弗斯范式**'
- en: Discretionary portfolio managers (PMs) make investment decisions that do not
    follow a particular theory or rationale (if there were one, they would be systematic
    PMs). They consume raw news and analyses, but mostly rely on their judgment or
    intuition. They may rationalize those decisions based on some story, but there
    is always a story for every decision. Because nobody fully understands the logic
    behind their bets, investment firms ask them to work independently from one another,
    in silos, to ensure diversification. If you have ever attended a meeting of discretionary
    PMs, you probably noticed how long and aimless they can be. Each attendee seems
    obsessed about one particular piece of anecdotal information, and giant argumentative
    leaps are made without fact-based, empirical evidence. This does not mean that
    discretionary PMs cannot be successful. On the contrary, a few of them are. The
    point is, they cannot naturally work as a team. Bring 50 discretionary PMs together,
    and they will influence one another until eventually you are paying 50 salaries
    for the work of one. Thus it makes sense for them to work in silos so they interact
    as little as possible.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 自由裁量投资组合经理（PMs）做出的投资决策并不遵循特定的理论或理由（如果有，他们就是系统性PMs）。他们消费原始新闻和分析，但主要依赖于自己的判断或直觉。他们可能根据某个故事来合理化这些决策，但每个决策背后总有一个故事。因为没有人完全理解他们下注背后的逻辑，投资公司要求他们彼此独立工作，形成孤岛，以确保多样化。如果你曾经参加过自由裁量PM的会议，可能会注意到它们是多么漫长而无目的。每位与会者似乎对某个特定的轶事信息着迷，并在没有基于事实的实证证据的情况下做出巨大的争论跳跃。这并不意味着自由裁量PM不能成功。相反，其中一些确实能成功。关键是，他们不能自然地作为一个团队工作。把50个自由裁量PM放在一起，他们会互相影响，最终你为一人的工作支付50份薪水。因此，他们在孤岛中工作是有意义的，以尽量减少互动。
- en: Wherever I have seen that formula applied to quantitative or ML projects, it
    has led to disaster. The boardroom's mentality is, let us do with quants what
    has worked with discretionary PMs. Let us hire 50 PhDs and demand that each of
    them produce an investment strategy within six months. This approach always backfires,
    because each PhD will frantically search for investment opportunities and eventually
    settle for (1) a false positive that looks great in an overfit backtest or (2)
    standard factor investing, which is an overcrowded strategy with a low Sharpe
    ratio, but at least has academic support. Both outcomes will disappoint the investment
    board, and the project will be cancelled. Even if 5 of those PhDs identified a
    true discovery, the profits would not suffice to cover for the expenses of 50,
    so those 5 will relocate somewhere else, searching for a proper reward.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我在哪些定量或机器学习项目中看到这个公式的应用，最终都导致了灾难。董事会的心态是，让我们对定量分析师做与自由裁量基金经理相同的事情。让我们雇佣50名博士，并要求每个人在六个月内提出一个投资策略。这种方法总是适得其反，因为每位博士都会疯狂寻找投资机会，最终只能满足于（1）在过度拟合回测中看起来不错的假阳性，或（2）标准因子投资，这是一种竞争激烈且夏普比率低的策略，但至少有学术支持。这两种结果都会让投资委员会失望，项目将被取消。即使其中5名博士发现了真正的机会，利润也不足以覆盖50人的费用，因此这5人会转向其他地方，寻找适当的回报。
- en: '**1.2.2 The Meta-Strategy Paradigm**'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2.2 元策略范式**'
- en: 'If you have been asked to develop ML strategies on your own, the odds are stacked
    against you. It takes almost as much effort to produce one true investment strategy
    as to produce a hundred, and the complexities are overwhelming: data curation
    and processing, HPC infrastructure, software development, feature analysis, execution
    simulators, backtesting, etc. Even if the firm provides you with shared services
    in those areas, you are like a worker at a BMW factory who has been asked to build
    an entire car by using all the workshops around you. One week you need to be a
    master welder, another week an electrician, another week a mechanical engineer,
    another week a painter . . . You will try, fail, and circle back to welding. How
    does that make sense?'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你被要求独自开发机器学习策略，胜算对你来说几乎是微乎其微的。产生一个真实投资策略所需的努力几乎与产生一百个相同，而复杂性是压倒性的：数据整理和处理、高性能计算基础设施、软件开发、特征分析、执行模拟器、回测等。即使公司在这些领域提供共享服务，你就像在BMW工厂工作的工人，被要求利用周围的所有车间建造一辆完整的汽车。一周你需要成为一名熟练的焊工，另一周成为电工，再一周成为机械工程师，又一周成为油漆工……你会尝试、失败，然后回到焊接。这样有什么意义呢？
- en: Every successful quantitative firm I am aware of applies the meta-strategy paradigm
    (López de Prado [2014]). Accordingly, this book was written as a research manual
    for teams, not for individuals. Through its chapters you will learn how to set
    up a research factory, as well as the various stations of the assembly line. The
    role of each quant is to specialize in a particular task, to become the best there
    is at it, while having a holistic view of the entire process. This book outlines
    the factory plan, where teamwork yields discoveries at a predictable rate, with
    no reliance on lucky strikes. This is how Berkeley Lab and other U.S. National
    Laboratories routinely make scientific discoveries, such as adding 16 elements
    to the periodic table, or laying out the groundwork for MRIs and PET scans. ^([1](text00000.html#filepos0000152402))
    No particular individual is responsible for these discoveries, as they are the
    outcome of team efforts where everyone contributes. Of course, setting up these
    financial laboratories takes time, and requires people who know what they are
    doing and have done it before. But what do you think has a higher chance of success,
    this proven paradigm of organized collaboration or the Sisyphean alternative of
    having every single quant rolling their immense boulder up the mountain?
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 我所了解的每一家成功的定量公司都应用了元策略范式（López de Prado [2014]）。因此，这本书是为团队而非个人编写的研究手册。通过本书的章节，你将学习如何建立一个研究工厂，以及装配线的各个站点。每个量化分析师的角色是专注于特定任务，成为该领域的最佳，同时对整个过程有整体的看法。这本书概述了工厂计划，其中团队合作以可预测的速度产生发现，而不依赖于运气。这就是伯克利实验室和其他美国国家实验室如何定期进行科学发现的方式，比如向元素周期表中添加16种元素，或为MRI和PET扫描奠定基础。^([1](text00000.html#filepos0000152402))
    没有特定个人对这些发现负责，因为它们是团队努力的结果，每个人都有所贡献。当然，建立这些金融实验室需要时间，并且需要那些知道自己在做什么并且曾经做过的人。但你认为，这种经过验证的有组织合作范式成功的可能性更高，还是每个量化分析师像西西弗斯一样把巨石推上山的徒劳替代方式更高？
- en: '**1.3 Book Structure**'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3 书籍结构**'
- en: This book disentangles a web of interconnected topics and presents them in an
    ordered fashion. Each chapter assumes that you have read the previous ones. Part
    1 will help you structure your financial data in a way that is amenable to ML
    algorithms. Part 2 discusses how to do research with ML algorithms on that data.
    Here the emphasis is on doing research and making an actual discovery through
    a scientific process, as opposed to searching aimlessly until some serendipitous
    (likely false) result pops up. Part 3 explains how to backtest your discovery
    and evaluate the probability that it is false.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书解开了一系列相互关联的话题，并将其以有序的方式呈现。每一章都假设你已经阅读了前面的内容。第一部分将帮助你以适合机器学习（ML）算法的方式结构化你的财务数据。第二部分讨论如何使用这些数据进行机器学习算法研究。这里强调的是通过科学过程进行研究并取得实际发现，而不是无目的地搜索直到出现某个偶然（可能是错误的）结果。第三部分解释了如何对你的发现进行回测，并评估其错误的可能性。
- en: These three parts give an overview of the entire process, from data analysis
    to model research to discovery evaluation. With that knowledge, Part 4 goes back
    to the data and explains innovative ways to extract informative features. Finally,
    much of this work requires a lot of computational power, so Part 5 wraps up the
    book with some useful HPC recipes.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个部分概述了整个过程，从数据分析到模型研究再到发现评估。有了这些知识，第4部分回到数据，解释创新的方法以提取信息特征。最后，这项工作需要大量的计算能力，因此第5部分用一些有用的高性能计算食谱结束本书。
- en: '**1.3.1 Structure by Production Chain**'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3.1 按生产链结构**'
- en: Mining gold or silver was a relatively straightforward endeavor during the 16th
    and 17th centuries. In less than a hundred years, the Spanish treasure fleet quadrupled
    the amount of precious metals in circulation throughout Europe. Those times are
    long gone, and today prospectors must deploy complex industrial methods to extract
    microscopic bullion particles out of tons of earth. That does not mean that gold
    production is at historical lows. On the contrary, nowadays miners extract 2,500
    metric tons of microscopic gold every year, compared to the average annual 1.54
    metric tons taken by the Spanish conquistadors throughout the entire 16th century!
    ^([2](text00000.html#filepos0000152653)) Visible gold is an infinitesimal portion
    of the overall amount of gold on Earth. *El Dorado* was always there . . . if
    only Pizarro could have exchanged the sword for a microscope.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 在16世纪和17世纪，开采黄金或白银是一项相对简单的事业。在不到一百年的时间里，西班牙的财富舰队使欧洲流通的贵金属数量增加了四倍。那样的时代早已过去，今天的勘探者必须采用复杂的工业方法，从吨土中提取微小的金属颗粒。但这并不意味着黄金生产处于历史低点。相反，如今矿工每年提取2,500公吨的微观黄金，而西班牙征服者在整个16世纪的平均年产量仅为1.54公吨！^([2](text00000.html#filepos0000152653))
    可见的黄金只是地球上黄金总量的微不足道的一部分。*埃尔多拉多*一直存在……如果皮萨罗能用显微镜交换他的剑就好了。
- en: The discovery of investment strategies has undergone a similar evolution. If
    a decade ago it was relatively common for an individual to discover macroscopic
    alpha (i.e., using simple mathematical tools like econometrics), currently the
    chances of that happening are quickly converging to zero. Individuals searching
    nowadays for macroscopic alpha, regardless of their experience or knowledge, are
    fighting overwhelming odds. The only true alpha left is microscopic, and finding
    it requires capital-intensive industrial methods. Just like with gold, microscopic
    alpha does not mean smaller overall profits. Microscopic alpha today is much more
    abundant than macroscopic alpha has ever been in history. There is a lot of money
    to be made, but you will need to use heavy ML tools.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 投资策略的发现经历了类似的演变。如果说十年前个人发现宏观阿尔法（即使用简单的数学工具如计量经济学）相对普遍，那么目前这种机会正在迅速接近于零。如今，无论经验或知识如何，个人在寻找宏观阿尔法时都面临巨大的困难。唯一真正的阿尔法是微观的，找到它需要资本密集型的工业方法。就像黄金一样，微观阿尔法并不意味着整体利润更小。今天的微观阿尔法比历史上任何时候的宏观阿尔法都要丰富得多。这里有很多钱可赚，但你需要使用强大的机器学习工具。
- en: Let us review some of the stations involved in the chain of production within
    a modern asset manager.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下现代资产管理公司生产链中涉及的一些环节。
- en: '***1.3.1.1 Data Curators***'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.1 数据策展人***'
- en: This is the station responsible for collecting, cleaning, indexing, storing,
    adjusting, and delivering all data to the production chain. The values could be
    tabulated or hierarchical, aligned or misaligned, historical or real-time feeds,
    etc. Team members are experts in market microstructure and data protocols such
    as FIX. They must develop the data handlers needed to understand the context in
    which that data arises. For example, was a quote cancelled and replaced at a different
    level, or cancelled without replacement? Each asset class has its own nuances.
    For instance, bonds are routinely exchanged or recalled; stocks are subjected
    to splits, reverse-splits, voting rights, etc.; futures and options must be rolled;
    currencies are not traded in a centralized order book. The degree of specialization
    involved in this station is beyond the scope of this book, and Chapter 1 will
    discuss only a few aspects of data curation.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 这是负责收集、清理、索引、存储、调整和将所有数据传递给生产链的站点。数据的值可以是表格形式或分层结构、对齐或不对齐、历史数据或实时数据馈送等。团队成员是市场微观结构和数据协议（如FIX）方面的专家。他们必须开发数据处理程序，以理解数据出现的上下文。例如，报价是被取消并在不同级别替换，还是被取消而没有替换？每个资产类别都有其自身的细微差别。例如，债券通常被交换或召回；股票受到拆分、反向拆分、投票权等的影响；期货和期权必须进行滚动；货币不在集中订单簿中交易。这个站点所涉及的专业化程度超出了本书的范围，第1章将仅讨论数据策展的几个方面。
- en: '***1.3.1.2 Feature Analysts***'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.2 特征分析师***'
- en: 'This is the station responsible for transforming raw data into informative
    signals. These informative signals have some predictive power over financial variables.
    Team members are experts in information theory, signal extraction and processing,
    visualization, labeling, weighting, classifiers, and feature importance techniques.
    For example, feature analysts may discover that the probability of a sell-off
    is particularly high when: (1) quoted offers are cancelled-replaced with market
    sell orders, and (2) quoted buy orders are cancelled-replaced with limit buy orders
    deeper in the book. Such a finding is not an investment strategy on its own, and
    can be used in alternative ways: execution, monitoring of liquidity risk, market
    making, position taking, etc. A common error is to believe that feature analysts
    develop strategies. Instead, feature analysts collect and catalogue libraries
    of findings that can be useful to a multiplicity of stations. Chapters 2–9 and
    17–19 are dedicated to this all-important station.'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 这是负责将原始数据转换为信息信号的站点。这些信息信号对金融变量具有一定的预测能力。团队成员是信息理论、信号提取与处理、可视化、标注、加权、分类器和特征重要性技术方面的专家。例如，特征分析师可能会发现，当以下情况发生时，抛售的概率特别高：(1)
    报价被取消—替换为市场卖单，(2) 报价买单被取消—替换为在深层订单簿中的限价买单。这种发现本身并不是一种投资策略，可以以不同方式使用：执行、流动性风险监测、做市、建仓等。一个常见的错误是认为特征分析师会制定策略。相反，特征分析师收集和分类可以对多个站点有用的发现库。第2-9章和第17-19章专门讨论这个至关重要的站点。
- en: '***1.3.1.3 Strategists***'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.3 策略师***'
- en: In this station, informative features are transformed into actual investment
    algorithms. A strategist will parse through the libraries of features looking
    for ideas to develop an investment strategy. These features were discovered by
    different analysts studying a wide range of instruments and asset classes. The
    goal of the strategist is to make sense of all these observations and to formulate
    a general theory that explains them. Therefore, the strategy is merely the experiment
    designed to test the validity of this theory. Team members are data scientists
    with a deep knowledge of financial markets and the economy. Remember, the theory
    needs to explain a large collection of important features. In particular, a theory
    must identify the economic mechanism that causes an agent to lose money to us.
    Is it a behavioral bias? Asymmetric information? Regulatory constraints? Features
    may be discovered by a black box, but the strategy is developed in a white box.
    Gluing together a number of catalogued features does not constitute a theory.
    Once a strategy is finalized, the strategists will prepare code that utilizes
    the full algorithm and submit that prototype to the backtesting team described
    below. Chapters 10 and 16 are dedicated to this station, with the understanding
    that it would be unreasonable for a book to reveal specific investment strategies.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 在本站，信息特征被转化为实际的投资算法。战略家将遍历特征库，寻找开发投资策略的创意。这些特征是不同分析师研究广泛的工具和资产类别时发现的。战略家的目标是理解所有这些观察结果，并制定一个解释它们的通用理论。因此，策略仅仅是为验证该理论的有效性而设计的实验。团队成员是对金融市场和经济有深入了解的数据科学家。请记住，理论需要解释大量重要特征。特别是，理论必须识别导致代理人向我们亏损的经济机制。这是行为偏见？不对称信息？监管约束？特征可能由黑箱发现，但策略是在白箱中开发的。将多个目录特征拼凑在一起并不构成理论。一旦策略最终确定，战略家将准备利用完整算法的代码，并将该原型提交给下述回测团队。第10章和第16章专门讨论本站，理解书中揭示具体投资策略是不合理的。
- en: '***1.3.1.4 Backtesters***'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.4 回测者***'
- en: This station assesses the profitability of an investment strategy under various
    scenarios. One of the scenarios of interest is how the strategy would perform
    if history repeated itself. However, the historical path is merely one of the
    possible outcomes of a stochastic process, and not necessarily the most likely
    going forward. Alternative scenarios must be evaluated, consistent with the knowledge
    of the weaknesses and strengths of a proposed strategy. Team members are data
    scientists with a deep understanding of empirical and experimental techniques.
    A good backtester incorporates in his analysis meta-information regarding how
    the strategy came about. In particular, his analysis must evaluate the probability
    of backtest overfitting by taking into account the number of trials it took to
    distill the strategy. The results of this evaluation will not be reused by other
    stations, for reasons that will become apparent in Chapter 11\. Instead, backtest
    results are communicated to management and not shared with anyone else. Chapters
    11–16 discuss the analyses carried out by this station.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 本站评估投资策略在各种情境下的盈利能力。一个感兴趣的情境是如果历史重演，策略将如何表现。然而，历史路径仅仅是随机过程可能结果之一，并不一定是未来最可能的结果。必须评估替代情境，考虑到对所提议策略的优缺点的了解。团队成员是对经验和实验技术有深入理解的数据科学家。一位优秀的回测者在分析中融入有关策略形成过程的元信息。特别是，他的分析必须考虑用于提炼策略所需的试验次数，以评估回测过拟合的概率。这一评估的结果不会被其他站点重用，原因将在第11章中显现。相反，回测结果会传达给管理层，不会与其他人分享。第11至16章讨论了本站进行的分析。
- en: '***1.3.1.5 Deployment Team***'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.5 部署团队***'
- en: The deployment team is tasked with integrating the strategy code into the production
    line. Some components may be reused by multiple strategies, especially when they
    share common features. Team members are algorithm specialists and hardcore mathematical
    programmers. Part of their job is to ensure that the deployed solution is logically
    identical to the prototype they received. It is also the deployment team's responsibility
    to optimize the implementation sufficiently, such that production latency is minimized.
    As production calculations often are time sensitive, this team will rely heavily
    on process schedulers, automation servers (Jenkins), vectorization, multithreading,
    multiprocessing, graphics processing unit (GPU-NVIDIA), distributed computing
    (Hadoop), high-performance computing (Slurm), and parallel computing techniques
    in general. Chapters 20–22 touch on various aspects interesting to this station,
    as they relate to financial ML.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 部署团队的任务是将策略代码集成到生产线中。有些组件可能会被多个策略重用，特别是在它们共享共同特征时。团队成员是算法专家和核心数学程序员。他们的部分工作是确保已部署的解决方案在逻辑上与他们接收到的原型相同。部署团队还需优化实现，以确保生产延迟最小化。由于生产计算通常是时间敏感的，该团队将大量依赖过程调度器、自动化服务器（Jenkins）、向量化、多线程、多处理、图形处理单元（GPU-NVIDIA）、分布式计算（Hadoop）、高性能计算（Slurm）以及一般并行计算技术。第20-22章涉及与此阶段相关的金融机器学习的各种有趣方面。
- en: '***1.3.1.6 Portfolio Oversight***'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.6 投资组合监督***'
- en: 'Once a strategy is deployed, it follows a *cursus honorum* , which entails
    the following stages or lifecycle:'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦策略被部署，它将遵循一个*cursus honorum*，包括以下阶段或生命周期：
- en: '**Embargo:** Initially, the strategy is run on data observed after the end
    date of the backtest. Such a period may have been reserved by the backtesters,
    or it may be the result of implementation delays. If embargoed performance is
    consistent with backtest results, the strategy is promoted to the next stage.'
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**禁运**：最初，策略在回测结束日期之后观察到的数据上运行。这一时期可能是回测人员保留的，或是实施延迟的结果。如果禁运表现与回测结果一致，策略将被提升到下一个阶段。'
- en: '**Paper trading:** At this point, the strategy is run on a live, real-time
    feed. In this way, performance will account for data parsing latencies, calculation
    latencies, execution delays, and other time lapses between observation and positioning.
    Paper trading will take place for as long as it is needed to gather enough evidence
    that the strategy performs as expected.'
  id: totrans-472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**纸上交易**：此时，策略在实时的实际数据流上运行。这样，表现将考虑数据解析延迟、计算延迟、执行延迟以及观察与定位之间的其他时间间隔。纸上交易将持续，直到收集到足够证据证明策略表现如预期。'
- en: '**Graduation:** At this stage, the strategy manages a real position, whether
    in isolation or as part of an ensemble. Performance is evaluated precisely, including
    attributed risk, returns, and costs.'
  id: totrans-473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**毕业**：在这个阶段，策略管理一个真实的位置，无论是孤立的还是作为一个组合的一部分。表现会被精确评估，包括归因风险、收益和成本。'
- en: '**Re-allocation:** Based on the production performance, the allocation to graduated
    strategies is re-assessed frequently and automatically in the context of a diversified
    portfolio. In general, a strategy''s allocation follows a concave function. The
    initial allocation (at graduation) is small. As time passes, and the strategy
    performs as expected, the allocation is increased. Over time, performance decays,
    and allocations become gradually smaller.'
  id: totrans-474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**重新分配**：根据生产表现，毕业策略的分配会在多样化投资组合的背景下频繁且自动地重新评估。一般来说，策略的分配遵循一个凹函数。初始分配（在毕业时）较小。随着时间的推移，如果策略表现如预期，分配会增加。随着时间的推移，表现下降，分配逐渐变小。'
- en: '**Decommission** : Eventually, all strategies are discontinued. This happens
    when they perform below expectations for a sufficiently extended period of time
    to conclude that the supporting theory is no longer backed by empirical evidence.'
  id: totrans-475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**退役**：最终，所有策略都会停止。这发生在它们的表现低于预期，并且持续时间足够长，以得出支持理论不再有实证依据的结论。'
- en: In general, it is preferable to release new variations of a strategy and run
    them in parallel with old versions. Each version will go through the above lifecycle,
    and old strategies will receive smaller allocations as a matter of diversification,
    while taking into account the degree of confidence derived from their longer track
    record.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，发布策略的新变体并与旧版本并行运行是比较理想的。每个版本都将经历上述生命周期，而旧策略将获得较小的分配，以便实现多样化，同时考虑到它们较长历史记录所带来的信心程度。
- en: '**1.3.2 Structure by Strategy Component**'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3.2 按策略组件结构**'
- en: Many investment managers believe that the secret to riches is to implement an
    extremely complex ML algorithm. They are setting themselves up for a disappointment.
    If it was as easy as coding a state-of-the art classifier, most people in Silicon
    Valley would be billionaires. A successful investment strategy is the result of
    multiple factors. [Table 1.1](text00000.html#filepos0000092591) summarizes what
    chapters will help you address each of the challenges involved in developing a
    successful investment strategy.
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: 许多投资经理认为，致富的秘诀是实施一个极其复杂的机器学习算法。他们在为自己设定失望。如果这像编写最先进的分类器那么简单，硅谷大多数人都会成为亿万富翁。成功的投资策略是多个因素的结果。[表1.1](text00000.html#filepos0000092591)总结了哪些章节将帮助你解决开发成功投资策略所涉及的每个挑战。
- en: '[**Table 1.1**](text00000.html#filepos0000092358) **Overview of the Challenges
    Addressed by Every Chapter**'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: '[**表1.1**](text00000.html#filepos0000092358) **每章所解决挑战的概述**'
- en: '| **Part** | **Chapter** | **Fin. data** | **Software** | **Hardware** | **Math**
    | **Meta-Strat** | **Overfitting** |'
  id: totrans-480
  prefs: []
  type: TYPE_TB
  zh: '| **部分** | **章节** | **金融数据** | **软件** | **硬件** | **数学** | **元策略** | **过拟合**
    |'
- en: '| 1 | 2 | X | X |  |  |  |'
  id: totrans-481
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 2 | X | X |  |  |  |'
- en: '|'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 1 | 3 | X | X |  |  |  |'
  id: totrans-483
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 3 | X | X |  |  |  |'
- en: '|'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 1 | 4 | X | X |  |  |  |'
  id: totrans-485
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 4 | X | X |  |  |  |'
- en: '|'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 1 | 5 | X | X |  | X |  |'
  id: totrans-487
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 5 | X | X |  | X |  |'
- en: '|'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 2 | 6 |'
  id: totrans-489
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 6 |'
- en: '| X |'
  id: totrans-490
  prefs: []
  type: TYPE_TB
  zh: '| X |'
- en: '|'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 2 | 7 |  | X |  |  | X | X |'
  id: totrans-495
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 7 |  | X |  |  | X | X |'
- en: '| 2 | 8 |  | X |  |  | X |'
  id: totrans-496
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 8 |  | X |  |  | X |'
- en: '|'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 2 | 9 |  | X |  |  | X |'
  id: totrans-498
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 9 |  | X |  |  | X |'
- en: '|'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 3 | 10 |'
  id: totrans-500
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 10 |'
- en: '| X |'
  id: totrans-501
  prefs: []
  type: TYPE_TB
  zh: '| X |'
- en: '|'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| X |'
  id: totrans-503
  prefs: []
  type: TYPE_TB
  zh: '| X |'
- en: '|'
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 3 | 11 |  | X |  | X |  | X |'
  id: totrans-505
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 11 |  | X |  | X |  | X |'
- en: '| 3 | 12 |  | X |  | X |  | X |'
  id: totrans-506
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 12 |  | X |  | X |  | X |'
- en: '| 3 | 13 |  | X |  | X |  | X |'
  id: totrans-507
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 13 |  | X |  | X |  | X |'
- en: '| 3 | 14 |  | X |  | X |  | X |'
  id: totrans-508
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 14 |  | X |  | X |  | X |'
- en: '| 3 | 15 |  | X |  | X |  | X |'
  id: totrans-509
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 15 |  | X |  | X |  | X |'
- en: '| 3 | 16 |'
  id: totrans-510
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 16 |'
- en: '| X |'
  id: totrans-511
  prefs: []
  type: TYPE_TB
  zh: '| X |'
- en: '| X | X | X |'
  id: totrans-512
  prefs: []
  type: TYPE_TB
  zh: '| X | X | X |'
- en: '| 4 | 17 | X | X |'
  id: totrans-513
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 17 | X | X |'
- en: '| X |'
  id: totrans-514
  prefs: []
  type: TYPE_TB
  zh: '| X |'
- en: '|'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 4 | 18 | X | X |  | X |  |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 18 | X | X |  | X |  |'
- en: '|'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 4 | 19 | X | X |'
  id: totrans-519
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 19 | X | X |'
- en: '|'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 5 | 20 |  | X | X | X |  |'
  id: totrans-524
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 20 |  | X | X | X |  |'
- en: '|'
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 5 | 21 |'
  id: totrans-526
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 21 |'
- en: '| X | X | X |'
  id: totrans-527
  prefs: []
  type: TYPE_TB
  zh: '| X | X | X |'
- en: '|'
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '| 5 | 22 |'
  id: totrans-530
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 22 |'
- en: '| X | X | X |'
  id: totrans-531
  prefs: []
  type: TYPE_TB
  zh: '| X | X | X |'
- en: '|'
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '|'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: 'Throughout the book, you will find many references to journal articles I have
    published over the years. Rather than repeating myself, I will often refer you
    to one of them, where you will find a detailed analysis of the subject at hand.
    All of my cited papers can be downloaded for free, in pre-print format, from my
    website: [www.QuantResearch.org](http://www.QuantResearch.org) .'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，你会发现我多年来发表的许多期刊文章的引用。与其重复自己，我常常会引用其中的一篇，你将在其中找到该主题的详细分析。所有引用的论文都可以从我的网站免费下载，格式为预印本：[www.QuantResearch.org](http://www.QuantResearch.org)。
- en: '***1.3.2.1 Data***'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.1 数据***'
- en: 'Problem: Garbage in, garbage out.'
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：垃圾进，垃圾出。
- en: 'Solution: Work with unique, hard-to-manipulate data. If you are the only user
    of this data, whatever its value, it is all for you.'
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：处理独特且难以操作的数据。如果你是该数据的唯一用户，无论其价值如何，都是你的。
- en: 'How:'
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapter 2: Structure your data correctly.'
  id: totrans-539
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第2章：正确结构化你的数据。
- en: 'Chapter 3: Produce informative labels.'
  id: totrans-540
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第3章：生成信息丰富的标签。
- en: 'Chapters 4 and 5: Model non-IID series properly.'
  id: totrans-541
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第4章和第5章：正确建模非独立同分布系列。
- en: 'Chapters 17–19: Find predictive features.'
  id: totrans-542
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第17至19章：寻找预测特征。
- en: '***1.3.2.2 Software***'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.2 软件***'
- en: 'Problem: A specialized task requires customized tools.'
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：专业任务需要定制工具。
- en: 'Solution: Develop your own classes. Using popular libraries means more competitors
    tapping the same well.'
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：开发自己的类。使用流行库意味着更多竞争者会共同使用同一资源。
- en: 'How:'
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapters 2–22: Throughout the book, for each chapter, we develop our own functions.
    For your particular problems, you will have to do the same, following the examples
    in the book.'
  id: totrans-547
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第2至22章：在书中，对于每一章，我们都会开发自己的函数。针对你的特定问题，你也必须这样做，遵循书中的示例。
- en: '***1.3.2.3 Hardware***'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.3 硬件***'
- en: 'Problem: ML involves some of the most computationally intensive tasks in all
    of mathematics.'
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：机器学习涉及到数学中一些最耗费计算资源的任务。
- en: 'Solution: Become an HPC expert. If possible, partner with a National Laboratory
    to build a supercomputer.'
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：成为高性能计算（HPC）专家。如果可能，与你的国家实验室合作，建立超级计算机。
- en: 'How:'
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapters 20 and 22: Learn how to think in terms of multiprocessing architectures.
    Whenever you code a library, structure it in such a way that functions can be
    called in parallel. You will find plenty of examples in the book.'
  id: totrans-552
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第20和22章：学习如何从多处理架构的角度思考。每当你编码一个库时，都要以能够并行调用函数的方式来构建它。你将在书中找到大量示例。
- en: 'Chapter 21: Develop algorithms for quantum computers.'
  id: totrans-553
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第21章：为量子计算机开发算法。
- en: '***1.3.2.4 Math***'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.4 数学***'
- en: 'Problem: Mathematical proofs can take years, decades, and centuries. No investor
    will wait that long.'
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：数学证明可能需要数年、数十年甚至数世纪。没有投资者会等这么久。
- en: 'Solution: Use experimental math. Solve hard, intractable problems, not by proof
    but by experiment. For example, Bailey, Borwein, and Plouffe [1997] found a spigot
    algorithm for *π* (pi) without proof, against the prior perception that such mathematical
    finding would not be possible.'
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：使用实验数学。通过实验解决困难的、难以处理的问题，而不是通过证明。例如，Bailey、Borwein和Plouffe [1997] 在没有证明的情况下找到了一种*π*（圆周率）的水龙头算法，挑战了之前对这种数学发现不可能的看法。
- en: 'How:'
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapter 5: Familiarize yourself with memory-preserving data transformations.'
  id: totrans-558
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第5章：熟悉保留记忆的数据转换。
- en: 'Chapters 11–15: There are experimental methods to assess the value of your
    strategy, with greater reliability than a historical simulation.'
  id: totrans-559
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第11-15章：有实验方法可以评估你的策略的价值，其可靠性大于历史模拟。
- en: 'Chapter 16: An algorithm that is optimal in-sample can perform poorly out-of-sample.
    There is no mathematical proof for investment success. Rely on experimental methods
    to lead your research.'
  id: totrans-560
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第16章：在样本中最优的算法在样本外可能表现不佳。没有数学证明可以保证投资成功。依赖实验方法来指导你的研究。
- en: 'Chapters 17 and 18: Apply methods to detect structural breaks, and quantify
    the amount of information carried by financial series.'
  id: totrans-561
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第17和18章：应用方法检测结构性断裂，并量化金融系列所携带的信息量。
- en: 'Chapter 20: Learn queuing methods for distributed computing so that you can
    break apart complex tasks and speed up calculations.'
  id: totrans-562
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第20章：学习分布式计算的排队方法，以便可以拆分复杂任务并加速计算。
- en: 'Chapter 21: Become familiar with discrete methods, used among others by quantum
    computers, to solve intractable problems.'
  id: totrans-563
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第21章：熟悉离散方法，这些方法被量子计算机等用于解决难以处理的问题。
- en: '***1.3.2.5 Meta-Strategies***'
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.5 元策略***'
- en: 'Problem: Amateurs develop individual strategies, believing that there is such
    a thing as a magical formula for riches. In contrast, professionals develop methods
    to mass-produce strategies. The money is not in making a car, it is in making
    a car factory.'
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：业余人士发展个别策略，相信存在致富的神奇公式。相比之下，专业人士则开发批量生产策略的方法。赚钱的不是制造汽车，而是建立汽车工厂。
- en: 'Solution: Think like a business. Your goal is to run a research lab like a
    factory, where true discoveries are not born out of inspiration, but out of methodic
    hard work. That was the philosophy of physicist Ernest Lawrence, the founder of
    the first U.S. National Laboratory.'
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：像经营企业一样思考。你的目标是将研究实验室像工厂一样运营，真正的发现不是源于灵感，而是源于系统的努力工作。这是物理学家欧内斯特·劳伦斯的哲学，他是美国第一个国家实验室的创始人。
- en: 'How:'
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapters 7–9: Build a research process that identifies features relevant across
    asset classes, while dealing with multi-collinearity of financial features.'
  id: totrans-568
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第7-9章：建立一个研究过程，以识别跨资产类别相关的特征，同时处理金融特征的多重共线性。
- en: 'Chapter 10: Combine multiple predictions into a single bet.'
  id: totrans-569
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第10章：将多个预测合并为一个单一的赌注。
- en: 'Chapter 16: Allocate funds to strategies using a robust method that performs
    well out-of-sample.'
  id: totrans-570
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第16章：使用一种在样本外表现良好的稳健方法来分配资金给策略。
- en: '***1.3.2.6 Overfitting***'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.2.6 过拟合***'
- en: 'Problem: Standard cross-validation methods fail in finance. Most discoveries
    in finance are false, due to multiple testing and selection bias.'
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题：标准交叉验证方法在金融领域失败。由于多重检验和选择偏差，金融领域的大多数发现都是错误的。
- en: 'Solution:'
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 解决方案：
- en: Whatever you do, always ask yourself in what way you may be overfitting. Be
    skeptical about your own work, and constantly challenge yourself to prove that
    you are adding value.
  id: totrans-574
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 无论你做什么，总是问自己你可能以何种方式过拟合。对自己的工作保持怀疑，不断挑战自己证明你在创造价值。
- en: 'Overfitting is unethical. It leads to promising outcomes that cannot be delivered.
    When done knowingly, overfitting is outright scientific fraud. The fact that many
    academics do it does not make it right: They are not risking anyone''s wealth,
    not even theirs.'
  id: totrans-575
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过拟合是不道德的。它导致无法兑现的有希望的结果。当明知故犯时，过拟合就是明确的科学欺诈。许多学者这么做并不意味着这是正确的：他们并没有冒任何人的财富风险，甚至连他们自己的都没有。
- en: It is also a waste of your time, resources, and opportunities. Besides, the
    industry only pays for out-of-sample returns. You will only succeed *after* you
    have created substantial wealth for your investors.
  id: totrans-576
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这也是对你的时间、资源和机会的浪费。此外，行业只支付超出样本的收益。你只有在为投资者创造了可观的财富后才能成功*。
- en: 'How:'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何：
- en: 'Chapters 11–15: There are three backtesting paradigms, of which historical
    simulation is only one. Each backtest is always overfit to some extent, and it
    is critical to learn to quantify by how much.'
  id: totrans-578
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第11至15章：有三种回测范式，其中历史模拟只是其中之一。每个回测总是会在某种程度上过拟合，学习如何量化过拟合的程度至关重要。
- en: 'Chapter 16: Learn robust techniques for asset allocation that do not overfit
    in-sample signals at the expense of out-of-sample performance.'
  id: totrans-579
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第16章：学习稳健的资产配置技术，这些技术不会因在样本内信号过拟合而牺牲样本外性能。
- en: '**1.3.3 Structure by Common Pitfall**'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3.3 按常见陷阱结构**'
- en: Despite its many advantages, ML is no panacea. The flexibility and power of
    ML techniques have a dark side. When misused, ML algorithms will confuse statistical
    flukes with patterns. This fact, combined with the low signal-to-noise ratio that
    characterizes finance, all but ensures that careless users will produce false
    discoveries at an ever-greater speed. This book exposes some of the most pervasive
    errors made by ML experts when they apply their techniques on financial datasets.
    Some of these pitfalls are listed in [Table 1.2](text00000.html#filepos0000116919)
    , with solutions that are explained in the indicated chapters.
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管机器学习有许多优点，但它并不是灵丹妙药。机器学习技术的灵活性和强大也有其阴暗面。当被误用时，机器学习算法会将统计偶然与模式混淆。这一事实，加上金融领域特有的低信噪比，几乎确保了粗心的用户会以越来越快的速度产生错误发现。本书揭示了一些机器学习专家在将其技术应用于金融数据集时所犯的最普遍错误。这些陷阱的一些列表在[表1.2](text00000.html#filepos0000116919)中列出，解决方案在指明的章节中解释。
- en: '[**Table 1.2**](text00000.html#filepos0000116751) **Common Pitfalls in Financial
    ML**'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: '[**表1.2**](text00000.html#filepos0000116751) **金融机器学习中的常见陷阱**'
- en: '| **#** | **Category** | **Pitfall** | **Solution** | **Chapter** |'
  id: totrans-583
  prefs: []
  type: TYPE_TB
  zh: '| **#** | **类别** | **陷阱** | **解决方案** | **章节** |'
- en: '| 1 | Epistemological | The Sisyphus paradigm | The meta-strategy paradigm
    | 1 |'
  id: totrans-584
  prefs: []
  type: TYPE_TB
  zh: '| 1 | 认识论 | 西西弗斯范式 | 元策略范式 | 1 |'
- en: '| 2 | Epistemological | Research through backtesting | Feature importance analysis
    | 8 |'
  id: totrans-585
  prefs: []
  type: TYPE_TB
  zh: '| 2 | 认识论 | 通过回测进行研究 | 特征重要性分析 | 8 |'
- en: '| 3 | Data processing | Chronological sampling | The volume clock | 2 |'
  id: totrans-586
  prefs: []
  type: TYPE_TB
  zh: '| 3 | 数据处理 | 按时间顺序采样 | 量钟 | 2 |'
- en: '| 4 | Data processing | Integer differentiation | Fractional differentiation
    | 5 |'
  id: totrans-587
  prefs: []
  type: TYPE_TB
  zh: '| 4 | 数据处理 | 整数微分 | 分数微分 | 5 |'
- en: '| 5 | Classification | Fixed-time horizon labeling | The triple-barrier method
    | 3 |'
  id: totrans-588
  prefs: []
  type: TYPE_TB
  zh: '| 5 | 分类 | 固定时间范围标记 | 三重障碍法 | 3 |'
- en: '| 6 | Classification | Learning side and size simultaneously | Meta-labeling
    | 3 |'
  id: totrans-589
  prefs: []
  type: TYPE_TB
  zh: '| 6 | 分类 | 同时学习边侧和大小 | 元标记 | 3 |'
- en: '| 7 | Classification | Weighting of non-IID samples | Uniqueness weighting;
    sequential bootstrapping | 4 |'
  id: totrans-590
  prefs: []
  type: TYPE_TB
  zh: '| 7 | 分类 | 非独立同分布样本加权 | 独特性加权；序列自举 | 4 |'
- en: '| 8 | Evaluation | Cross-validation leakage | Purging and embargoing | 7, 9
    |'
  id: totrans-591
  prefs: []
  type: TYPE_TB
  zh: '| 8 | 评估 | 交叉验证泄漏 | 清除和禁运 | 7, 9 |'
- en: '| 9 | Evaluation | Walk-forward (historical) backtesting | Combinatorial purged
    cross-validation | 11, 12 |'
  id: totrans-592
  prefs: []
  type: TYPE_TB
  zh: '| 9 | 评估 | 向前推进（历史）回测 | 组合清除交叉验证 | 11, 12 |'
- en: '| 10 | Evaluation | Backtest overfitting | Backtesting on synthetic data; the
    deflated Sharpe ratio | 10–16 |'
  id: totrans-593
  prefs: []
  type: TYPE_TB
  zh: '| 10 | 评估 | 回测过拟合 | 在合成数据上的回测；被通胀调整的夏普比率 | 10–16 |'
- en: '**1.4 Target Audience**'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.4 目标受众**'
- en: This book presents advanced ML methods specifically designed to address the
    challenges posed by financial datasets. By “advanced” I do not mean extremely
    difficult to grasp, or explaining the latest reincarnation of deep, recurrent,
    or convolutional neural networks. Instead, the book answers questions that senior
    researchers, who have experience applying ML algorithms to financial problems,
    will recognize as critical. If you are new to ML, and you do not have experience
    working with complex algorithms, this book may not be for you (yet). Unless you
    have confronted in practice the problems discussed in these chapters, you may
    have difficulty understanding the utility of solving them. Before reading this
    book, you may want to study several excellent introductory ML books published
    in recent years. I have listed a few of them in the references section.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: 本书介绍了专门设计用来解决金融数据集挑战的高级机器学习（ML）方法。“高级”并不意味着极其难以掌握，或解释最新版本的深度、递归或卷积神经网络。相反，本书回答了经验丰富的研究人员所认为的关键问题，这些研究人员曾将机器学习算法应用于金融问题。如果你是机器学习的新手，并且没有处理复杂算法的经验，那么这本书可能不适合你（还）。除非你在实践中面对过本章讨论的问题，否则你可能会很难理解解决这些问题的实用性。在阅读本书之前，你可能想研究几本近年来出版的优秀入门机器学习书籍。我在参考文献部分列出了其中的一些。
- en: The core audience of this book is investment professionals with a strong ML
    background. My goals are that you monetize what you learn in this book, help us
    modernize finance, and deliver actual value for investors.
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的核心读者是具有强大机器学习背景的投资专业人士。我的目标是让你能将本书中的学习变现，帮助我们现代化金融，为投资者提供实际价值。
- en: 'This book also targets data scientists who have successfully implemented ML
    algorithms in a variety of fields outside finance. If you have worked at Google
    and have applied deep neural networks to face recognition, but things do not seem
    to work so well when you run your algorithms on financial data, this book will
    help you. Sometimes you may not understand the financial rationale behind some
    structures (e.g., meta-labeling, the triple-barrier method, fracdiff), but bear
    with me: Once you have managed an investment portfolio long enough, the rules
    of the game will become clearer to you, along with the meaning of these chapters.'
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: 本书也面向在金融以外领域成功实施机器学习算法的数据科学家。如果你曾在谷歌工作并应用深度神经网络进行人脸识别，但在金融数据上运行算法时似乎效果不佳，这本书将帮助你。有时你可能无法理解某些结构背后的金融逻辑（例如，元标记、三重障碍法、分数差分），但请耐心等候：一旦你管理投资组合的时间足够长，游戏规则会对你变得更加清晰，同时这些章节的含义也会显现。
- en: '**1.5 Requisites**'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.5 前提条件**'
- en: Investment management is one of the most multi-disciplinary areas of research,
    and this book reflects that fact. Understanding the various sections requires
    a practical knowledge of ML, market microstructure, portfolio management, mathematical
    finance, statistics, econometrics, linear algebra, convex optimization, discrete
    math, signal processing, information theory, object-oriented programming, parallel
    processing, and supercomputing.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: 投资管理是研究中最具多学科特征的领域之一，这本书也反映了这一事实。理解各个部分需要对机器学习、市场微观结构、投资组合管理、数学金融、统计学、计量经济学、线性代数、凸优化、离散数学、信号处理、信息论、面向对象编程、并行处理和超级计算有实践性的知识。
- en: Python has become the *de facto* standard language for ML, and I have to assume
    that you are an experienced developer. You must be familiar with scikit-learn
    (sklearn), pandas, numpy, scipy, multiprocessing, matplotlib and a few other libraries.
    Code snippets invoke functions from these libraries using their conventional prefix,
    pd for pandas, np for numpy, mpl for matplotlib, etc. There are numerous books
    on each of these libraries, and you cannot know enough about the specifics of
    each one. Throughout the book we will discuss some issues with their implementation,
    including unresolved bugs to keep in mind.
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: Python 已成为机器学习的*事实*标准语言，我必须假设你是经验丰富的开发者。你必须熟悉 scikit-learn（sklearn）、pandas、numpy、scipy、多进程、matplotlib
    和一些其他库。代码片段调用这些库的函数，使用它们的常规前缀，pandas 为 pd，numpy 为 np，matplotlib 为 mpl 等等。关于这些库的书籍非常多，你无法对每个库的具体内容知之甚详。在整本书中，我们将讨论它们实施中的一些问题，包括需要注意的未解决的错误。
- en: '**1.6 FAQs**'
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.6 常见问题解答**'
- en: '***How can ML algorithms be useful in finance?***'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: '***机器学习算法在金融中如何有用？***'
- en: Many financial operations require making decisions based on pre-defined rules,
    like option pricing, algorithmic execution, or risk monitoring. This is where
    the bulk of automation has taken place so far, transforming the financial markets
    into ultra-fast, hyper-connected networks for exchanging information. In performing
    these tasks, machines were asked to follow the rules as fast as possible. High-frequency
    trading is a prime example. See Easley, López de Prado, and O'Hara [2013] for
    a detailed treatment of the subject.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: 许多金融操作需要基于预定义规则做出决策，例如期权定价、算法执行或风险监控。这正是迄今为止自动化的大部分发生的地方，将金融市场转变为超快、超连接的信息交换网络。在执行这些任务时，机器被要求尽可能快地遵循规则。高频交易就是一个典型例子。有关该主题的详细讨论，请参见Easley、López
    de Prado和O'Hara [2013]。
- en: 'The algorithmization of finance is unstoppable. Between June 12, 1968, and
    December 31, 1968, the NYSE was closed every Wednesday, so that back office could
    catch up with paperwork. Can you imagine that? We live in a different world today,
    and in 10 years things will be even better. Because the next wave of automation
    does not involve following rules, but making judgment calls. As emotional beings,
    subject to fears, hopes, and agendas, humans are not particularly good at making
    fact-based decisions, particularly when those decisions involve conflicts of interest.
    In those situations, investors are better served when a machine makes the calls,
    based on facts learned from hard data. This not only applies to investment strategy
    development, but to virtually every area of financial advice: granting a loan,
    rating a bond, classifying a company, recruiting talent, predicting earnings,
    forecasting inflation, etc. Furthermore, machines will comply with the law, always,
    when programmed to do so. If a dubious decision is made, investors can go back
    to the logs and understand exactly what happened. It is much easier to improve
    an algorithmic investment process than one relying entirely on humans.'
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: 金融算法化势不可挡。在1968年6月12日到1968年12月31日之间，纽约证券交易所每周三关闭，以便后勤部门赶上文书工作。你能想象吗？我们今天生活在一个不同的世界，10年后情况会更好。因为下一波自动化并不涉及遵循规则，而是做出判断。作为情感生物，我们受制于恐惧、希望和议程，人在做基于事实的决策时并不是特别擅长，尤其是在这些决策涉及利益冲突时。在这种情况下，投资者在机器根据从硬数据中学习到的事实做出决策时会更有利。这不仅适用于投资策略开发，还适用于几乎每个金融建议领域：授予贷款、评级债券、分类公司、招聘人才、预测收益、预测通货膨胀等。此外，机器在被编程遵循法律时，将始终遵守。如果做出可疑决策，投资者可以回溯记录，准确理解发生了什么。改进算法投资过程比完全依赖人类的过程要容易得多。
- en: '***How can ML algorithms beat humans at investing?***'
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: '***机器学习算法如何在投资上战胜人类？***'
- en: Do you remember when people were certain that computers would never beat humans
    at chess? Or *Jeopardy!* ? Poker? Go? Millions of years of evolution (a genetic
    algorithm) have fine-tuned our ape brains to survive in a hostile 3-dimensional
    world where the laws of nature are static. Now, when it comes to identifying subtle
    patterns in a high-dimensional world, where the rules of the game change every
    day, all that fine-tuning turns out to be detrimental. An ML algorithm can spot
    patterns in a 100-dimensional world as easily as in our familiar 3-dimensional
    one. And while we all laugh when we see an algorithm make a silly mistake, keep
    in mind, algorithms have been around only a fraction of our millions of years.
    Every day they get better at this, we do not. Humans are slow learners, which
    puts us at a disadvantage in a fast-changing world like finance.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: 你还记得人们曾坚信计算机永远无法战胜人类下棋吗？或者*危险边缘*？扑克？围棋？数百万年的进化（基因算法）让我们的猿脑在一个敌对的三维世界中生存下来，那里自然法则是静态的。现在，当涉及到在高维世界中识别微妙模式时，游戏规则每天都在变化，所有的微调反而成为了弊端。机器学习算法可以在100维的世界中像在我们熟悉的三维世界中一样轻松发现模式。虽然我们看到算法犯傻时总是发笑，但请记住，算法的历史仅占我们数百万年的一小部分。它们每天都在变得更好，而我们则没有。人类学习缓慢，这使我们在像金融这样快速变化的世界中处于劣势。
- en: '***Does that mean that there is no space left for human investors?***'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: '***这是否意味着人类投资者的空间已经没有了？***'
- en: Not at all. No human is better at chess than a computer. And no computer is
    better at chess than a human supported by a computer. Discretionary PMs are at
    a disadvantage when betting against an ML algorithm, but it is possible that the
    best results are achieved by combining discretionary PMs with ML algorithms. This
    is what has come to be known as the “quantamental” way. Throughout the book you
    will find techniques that can be used by quantamental teams, that is, methods
    that allow you to combine human guesses (inspired by fundamental variables) with
    mathematical forecasts. In particular, Chapter 3 introduces a new technique called
    meta-labeling, which allows you to add an ML layer on top of a discretionary one.
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: 绝对没有。没有任何人比计算机下棋更出色。而且没有任何计算机比一个由计算机支持的人更擅长下棋。当与机器学习算法对赌时，自主投资经理处于劣势，但最佳结果可能是通过将自主投资经理与机器学习算法结合来实现的。这就是所谓的“量化与基本面结合”的方式。在整本书中，你会发现可以被量化与基本面团队使用的技术，也就是允许你将人类猜测（受到基本变量启发）与数学预测相结合的方法。特别是，第3章介绍了一种称为元标记的新技术，它允许你在自主层之上添加机器学习层。
- en: '***How does financial ML differ from econometrics?***'
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: '***金融机器学习与计量经济学有何不同？***'
- en: Econometrics is the application of classical statistical methods to economic
    and financial series. The essential tool of econometrics is multivariate linear
    regression, an 18th-century technology that was already mastered by Gauss before
    1794 (Stigler [1981]). Standard econometric models do not learn. It is hard to
    believe that something as complex as 21st-century finance could be grasped by
    something as simple as inverting a covariance matrix.
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: 计量经济学是将经典统计方法应用于经济和金融系列的学科。计量经济学的基本工具是多元线性回归，这是一项18世纪的技术，早在1794年之前就已被高斯掌握（Stigler
    [1981]）。标准的计量经济模型并不具备学习能力。很难相信像21世纪的金融这样复杂的事物能通过简单的反转协方差矩阵来理解。
- en: Every empirical science must build theories based on observation. If the statistical
    toolbox used to model these observations is linear regression, the researcher
    will fail to recognize the complexity of the data, and the theories will be awfully
    simplistic, useless. I have no doubt in my mind, econometrics is a primary reason
    economics and finance have not experienced meaningful progress over the past 70
    years (Calkin and López de Prado [2014a, 2014b]).
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: 每一门实证科学都必须基于观察构建理论。如果用于建模这些观察的统计工具箱是线性回归，研究者将无法识别数据的复杂性，理论将显得极为简单、无用。我毫不怀疑，计量经济学是经济学和金融在过去70年未能取得实质性进展的主要原因（Calkin
    和 López de Prado [2014a, 2014b]）。
- en: For centuries, medieval astronomers made observations and developed theories
    about celestial mechanics. These theories never considered non-circular orbits,
    because they were deemed unholy and beneath God's plan. The prediction errors
    were so gross, that ever more complex theories had to be devised to account for
    them. It was not until Kepler had the temerity to consider non-circular (elliptical)
    orbits that all of the sudden a much simpler general model was able to predict
    the position of the planets with astonishing accuracy. What if astronomers had
    never considered non-circular orbits? Well . . . what if economists finally started
    to consider non-linear functions? Where is our Kepler? Finance does not have a
    *Principia* because no Kepler means no Newton.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: 数世纪以来，中世纪的天文学家们进行了观察并发展了关于天体力学的理论。这些理论从未考虑过非圆轨道，因为这被视为不洁和不符合上帝的计划。预测误差如此严重，以至于必须制定越来越复杂的理论来解释它们。直到开普勒敢于考虑非圆（椭圆）轨道时，突然出现了一种更简单的通用模型，能够以惊人的准确性预测行星的位置。如果天文学家从未考虑过非圆轨道，那会怎么样？那么……如果经济学家最终开始考虑非线性函数呢？我们的开普勒在哪里？金融没有《原理》，因为没有开普勒就没有牛顿。
- en: Financial ML methods do not replace theory. They guide it. An ML algorithm learns
    patterns in a high-dimensional space without being specifically directed. Once
    we understand what features are predictive of a phenomenon, we can build a theoretical
    explanation, which can be tested on an independent dataset. Students of economics
    and finance would do well enrolling in ML courses, rather than econometrics. Econometrics
    may be good enough to succeed in financial academia (for now), but succeeding
    in business requires ML.
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: 金融机器学习方法并不取代理论，而是指导理论。机器学习算法在高维空间中学习模式，而不需要特定的指引。一旦我们理解了哪些特征能够预测某个现象，就可以建立一个理论解释，并在独立数据集上进行测试。经济学和金融的学生最好参加机器学习课程，而不是计量经济学。计量经济学可能足以让你在金融学术界取得成功（目前），但在商业上成功则需要机器学习。
- en: '***What do you say to people who dismiss ML algorithms as black boxes?***'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: '***你对那些将机器学习算法视为黑箱的人有什么看法？***'
- en: 'If you are reading this book, chances are ML algorithms are white boxes to
    you. They are transparent, well-defined, crystal-clear, pattern-recognition functions.
    Most people do not have your knowledge, and to them ML is like a magician''s box:
    “Where did that rabbit come from? How are you tricking us, witch?” People mistrust
    what they do not understand. Their prejudices are rooted in ignorance, for which
    the Socratic remedy is simple: education. Besides, some of us enjoy using our
    brains, even though neuroscientists still have not figured out exactly how they
    work (a black box in itself).'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在阅读这本书，机器学习算法对你来说很可能是一个黑箱。它们是透明的、明确定义的、清晰的模式识别函数。大多数人没有你的知识，对于他们来说，机器学习就像魔法师的箱子：“那只兔子从哪里来的？你是怎么欺骗我们的，女巫？”人们对他们不理解的事物充满怀疑。他们的偏见根植于无知，而苏格拉底的解药很简单：教育。此外，我们当中有些人喜欢动脑筋，尽管神经科学家至今仍未完全弄清大脑是如何运作的（本身就是一个黑箱）。
- en: From time to time you will encounter Luddites, who are beyond redemption. Ned
    Ludd was a weaver from Leicester, England, who in 1779 smashed two knitting frames
    in an outrage. With the advent of the industrial revolution, mobs infuriated by
    mechanization sabotaged and destroyed all machinery they could find. Textile workers
    ruined so much industrial equipment that Parliament had to pass laws making “machine
    breaking” a capital crime. Between 1811 and 1816, large parts of England were
    in open rebellion, to the point that there were more British troops fighting Luddites
    than there were fighting Napoleon on the Iberian Peninsula. The Luddite rebellion
    ended with brutal suppression through military force. Let us hope that the black
    box movement does not come to that.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 不时你会遇到一些无法救赎的技术抵制者。内德·卢德是来自英格兰莱斯特的一位织布工，他在1779年因愤怒而砸毁了两台针织机。随着工业革命的到来，因机械化而愤怒的暴民破坏并摧毁了他们能找到的所有机器。纺织工人损坏了如此多的工业设备，以至于国会不得不通过法律，将“破坏机器”定为死罪。在1811年至1816年间，英格兰的大部分地区都处于公开反抗的状态，以至于参与对抗卢德派的英国军队数量超过了在伊比利亚半岛对抗拿破仑的军队。卢德派叛乱以残酷的军事镇压而告终。让我们希望黑箱运动不会走到那一步。
- en: '***Why don’t you discuss specific ML algorithms?***'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: '***你为什么不讨论具体的机器学习算法？***'
- en: 'The book is agnostic with regards to the particular ML algorithm you choose.
    Whether you use convolutional neural networks, AdaBoost, RFs, SVMs, and so on,
    there are many shared generic problems you will face: data structuring, labeling,
    weighting, stationary transformations, cross-validation, feature selection, feature
    importance, overfitting, backtesting, etc. In the context of financial modeling,
    answering these questions is non-trivial, and framework-specific approaches need
    to be developed. That is the focus of this book.'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书对你选择的具体机器学习算法持中立态度。无论你使用卷积神经网络、AdaBoost、随机森林、支持向量机等，你将面临许多共同的通用问题：数据结构化、标记、加权、平稳变换、交叉验证、特征选择、特征重要性、过拟合、回测等。在金融建模的背景下，回答这些问题并非易事，需要开发特定框架的方法。这正是本书的重点。
- en: '***What other books do you recommend on this subject?***'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: '***你还推荐哪些关于这个主题的书籍？***'
- en: 'To my knowledge, this is the first book to provide a complete and systematic
    treatment of ML methods specific for finance: starting with a chapter dedicated
    to financial data structures, another chapter for labeling of financial series,
    another for sample weighting, time series differentiation,  . . . all the way
    to a full part devoted to the proper backtesting of investment strategies. To
    be sure, there are a handful of prior publications (mostly journal articles) that
    have applied standard ML to financial series, but that is not what this book offers.
    My goal has been to address the unique nuisances that make financial ML modeling
    particularly challenging. Like any new subject, it is fast evolving, and the book
    will be updated as major advances take place. Please contact me at mldp@quantresearch.org
    if there is any particular topic you would like to see treated in future editions.
    I will gladly add those chapters, while acknowledging the names of those readers
    who suggested them.'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 据我所知，这是第一本全面且系统地探讨针对金融的机器学习（ML）方法的书籍：从专门讨论金融数据结构的章节开始，还有用于金融序列标记的章节、样本加权、时间序列差分……一直到专门用于投资策略适当回测的完整部分。确实，之前有少量出版物（主要是期刊文章）将标准机器学习应用于金融序列，但这并不是本书所提供的内容。我的目标是解决那些使金融机器学习建模特别具有挑战性的独特问题。像任何新主题一样，它正在快速发展，书籍会随着重大进展而更新。如果您希望在未来版本中看到任何特定主题，请联系我，邮箱是
    mldp@quantresearch.org。我会乐意添加这些章节，同时承认提出建议的读者的名字。
- en: '***I do not understand some of the sections and chapters. What should I do?***'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: '***我不理解一些章节和内容。我该怎么办？***'
- en: My advice is that you start by reading the references listed at the end of the
    chapter. When I wrote the book, I had to assume the reader was familiar with the
    existing literature, or this book would lose its focus. If after reading those
    references the sections still do not make sense, the likely reason is that they
    are related to a problem well understood by investment professionals (even if
    there is no mention of it in the literature). For example, Chapter 2 will discuss
    effective methods to adjust futures prices for the roll, a problem known to most
    practitioners, even though it is rarely addressed in textbooks. I would encourage
    you to attend one of my regular seminars, and ask me your question at the end
    of my talk.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: 我的建议是先阅读章节末尾列出的参考文献。当我写这本书时，我必须假设读者熟悉现有文献，否则这本书将失去焦点。如果在阅读那些参考文献后章节仍然无法理解，可能的原因是它们与投资专业人士非常了解的问题相关（即使文献中没有提及）。例如，第二章将讨论有效的期货价格调整方法，这是一个大多数从业者都知道的问题，即使在教科书中很少涉及。我鼓励你参加我定期举办的研讨会，并在我演讲结束时向我提问。
- en: '***Why is the book so fixated on backtest overfitting?***'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: '***为什么这本书如此专注于回测过拟合？***'
- en: There are two reasons. First, backtest overfitting is arguably the most important
    open problem in all of mathematical finance. It is our equivalent to “P versus
    NP” in computer science. If there was a precise method to prevent backtest overfitting,
    we would be able to take backtests to the bank. A backtest would be almost as
    good as cash, rather than a sales pitch. Hedge funds would allocate funds to portfolio
    managers with confidence. Investors would risk less, and would be willing to pay
    higher fees. Regulators would grant licenses to hedge fund managers on the basis
    of reliable evidence of skill and knowledge, leaving no space for charlatans.
    In my opinion, an investments book that does not address this issue is not worth
    your time. Why would you read a book that deals with CAPM, APT, asset allocation
    techniques, risk management, etc. when the empirical results that support those
    arguments were selected without determining their false discovery probabilities?
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: 这有两个原因。首先，回测过拟合可以说是数学金融中最重要的未解问题。它相当于计算机科学中的“P与NP”。如果有一种精确的方法可以防止回测过拟合，我们就能够将回测变现。一个回测几乎可以与现金相媲美，而不是销售推销。对冲基金将有信心将资金分配给投资组合经理。投资者的风险将降低，并愿意支付更高的费用。监管机构将根据可靠的技能和知识证据向对冲基金经理颁发许可证，给骗子留不下空间。在我看来，一本没有解决这一问题的投资书籍是浪费时间。你为什么要读一本讨论CAPM、APT、资产配置技术、风险管理等内容的书，而这些论点的实证结果在未确定其虚假发现概率的情况下被选择？
- en: The second reason is that ML is a great weapon in your research arsenal, and
    a dangerous one to be sure. If backtest overfitting is an issue in econometric
    analysis, the flexibility of ML makes it a constant threat to your work. This
    is particularly the case in finance, because our datasets are shorter, with lower
    signal-to-noise ratio, and we do not have laboratories where we can conduct experiments
    while controlling for all environmental variables (López de Prado [2015]). An
    ML book that does not tackle these concerns can be more detrimental than beneficial
    to your career.
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个原因是，机器学习是您研究工具箱中的一个强大武器，且确实是一个危险的武器。如果在计量经济分析中存在回测过拟合的问题，机器学习的灵活性使其对您的工作构成持续威胁。尤其在金融领域，因为我们的数据集较短，信噪比低，而且我们没有可以控制所有环境变量进行实验的实验室（López
    de Prado [2015]）。一本不解决这些问题的机器学习书籍对您的职业生涯可能弊大于利。
- en: '***What is the mathematical nomenclature of the book?***'
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: '***这本书的数学术语是什么？***'
- en: When I started to write this book, I thought about assigning one symbol to each
    mathematical variable or function through all the chapters. That would work well
    if this book dealt with a single subject, like stochastic optimal control. However
    this book deals with a wide range of mathematical subjects, each with its own
    conventions. Readers would find it harder to consult references unless I also
    followed literature standards, which means that sometimes we must re-use symbols.
    To prevent any confusion, every chapter explains the nomenclature as it is being
    used. Most of the math is accompanied by a code snippet, so in case of doubt,
    please always follow the code.
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: 当我开始写这本书时，我考虑为每个数学变量或函数在所有章节中分配一个符号。如果这本书只涉及一个主题，例如随机最优控制，那会很好。然而，这本书涉及广泛的数学主题，每个主题都有其自己的惯例。读者会发现，如果我不遵循文献标准，查阅参考资料会变得更加困难，这意味着有时我们必须重复使用符号。为了防止任何混淆，每一章都会解释所使用的术语。大多数数学内容都伴随有代码片段，因此如有疑问，请始终遵循代码。
- en: '***Who wrote Chapter 22?***'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: '***谁写了第22章？***'
- en: A popular perception is that ML is a new fascinating technology invented or
    perfected at IBM, Google, Facebook, Amazon, Netflix, Tesla, etc. It is true that
    technology firms have become heavy users of ML, especially in recent years. Those
    firms sponsored some of the most publicized recent ML achievements (like *Jeopardy!*
    or Go), which may have reinforced that perception.
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: 一个普遍的看法是，机器学习是一项在IBM、谷歌、脸书、亚马逊、Netflix、特斯拉等公司发明或完善的新技术。确实，技术公司近年来已经成为机器学习的重度用户。这些公司赞助了一些最近备受关注的机器学习成就（如*危险边缘*或围棋），这可能增强了这种看法。
- en: However, the reader may be surprised to learn that, in fact, U.S. National Laboratories
    are among the research centers with the longest track record and experience in
    using ML. These centers utilized ML before it was cool, and they applied it successfully
    for many decades to produce astounding scientific discoveries. If predicting what
    movies Netflix should recommend you to watch next is a worthy endeavor, so it
    is to understand the rate of expansion of the universe, or forecasting what coastlines
    will be most impacted by global warming, or preventing a cataclysmic failure of
    our national power grid. These are just some of the amazing questions that institutions
    like Berkeley Lab work on every day, quietly but tirelessly, with the help of
    ML.
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，读者可能会惊讶地发现，实际上，美国国家实验室是使用机器学习的研究中心中历史悠久且经验丰富的机构。这些中心在机器学习变得流行之前就已经在使用它，并成功应用了几十年，产生了惊人的科学发现。如果预测Netflix应该推荐给你观看的电影是一个值得的努力，那么理解宇宙的扩张速率、预测全球变暖将对哪些海岸线产生最大影响，或者防止国家电网发生灾难性故障同样值得。这些只是伯克利实验室等机构每天默默而不懈地利用机器学习研究的一些令人惊叹的问题。
- en: In Chapter 22, Drs. Horst Simon and Kesheng Wu offer the perspective of a deputy
    director and a project leader at a major U.S. National Laboratory specializing
    in large-scale scientific research involving big data, high-performance computing,
    and ML. Unlike traditional university settings, National Laboratories achieve
    scientific breakthroughs by putting together interdisciplinary teams that follow
    well-devised procedures, with strong division of labor and responsibilities. That
    kind of research model by production chain was born at Berkeley Lab almost 90
    years ago and inspired the meta-strategy paradigm explained in Sections 1.2.2
    and 1.3.1.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: 在第22章中，霍斯特·西蒙博士和吴克生博士提供了在一家专注于大规模科学研究的美国国家实验室中，作为副主任和项目负责人的视角，该实验室涉及大数据、高性能计算和机器学习。与传统大学环境不同，国家实验室通过组建跨学科团队，遵循精心设计的程序，实现科学突破，具有明确的分工和责任。这种通过生产链进行研究的模型几乎是在90年前在伯克利实验室诞生，并启发了第1.2.2节和第1.3.1节中解释的元策略范式。
- en: '**1.7 Acknowledgments**'
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.7 致谢**'
- en: Dr. Horst Simon, who is the deputy director of Lawrence Berkeley National Laboratory,
    accepted to co-author Chapter 22 with Dr. Kesheng Wu, who leads several projects
    at Berkeley Lab and the National Energy Research Scientific Computing Center (NERSC).
    ^([3](text00000.html#filepos0000152922)) ML requires extreme amounts of computing
    power, and my research would not have been possible without their generous support
    and guidance. In that chapter, Horst and Kesheng explain how Berkeley Lab satisfies
    the supercomputing needs of researchers worldwide, and the instrumental role played
    by ML and big data in today's scientific breakthroughs.
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: 霍斯特·西蒙博士是劳伦斯伯克利国家实验室的副主任，他与负责多个项目的吴克生博士共同撰写了第22章。机器学习需要极大的计算能力，没有他们的慷慨支持和指导，我的研究是无法进行的。在那一章中，霍斯特和克生解释了劳伦斯伯克利实验室如何满足全球研究人员的超级计算需求，以及机器学习和大数据在当今科学突破中所扮演的关键角色。
- en: Prof. Riccardo Rebonato was the first to read this manuscript and encouraged
    me to publish it. My many conversations with Prof. Frank Fabozzi on these topics
    were instrumental in shaping the book in its current form. Very few people in
    academia have Frank's and Riccardo's industry experience, and very few people
    in the industry have Riccardo's and Frank's academic pedigree.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: 里卡多·雷博纳托教授是第一个阅读这份手稿并鼓励我出版的人。我与弗兰克·法博兹教授在这些主题上的多次对话对书籍的形成起到了重要作用。在学术界，很少有人具备弗兰克和里卡多的行业经验，而在行业中，也很少有人拥有里卡多和弗兰克的学术背景。
- en: 'Over the past two decades, I have published nearly a hundred works on this
    book''s subject, including journal articles, books, chapters, lectures, source
    code, etc. In my latest count, these works were co-authored with more than 30
    leading experts in this field, including Prof. David H. Bailey (15 articles),
    Prof. David Easley (8 articles), Prof. Maureen O''Hara (8 articles), and Prof.
    Jonathan M. Borwein (6 articles). This book is to a great extent also theirs,
    for it would not have been possible without their support, insights, and continuous
    exchange of ideas over the years. It would take too long to give them proper credit,
    so instead I have published the following link where you can find our collective
    effort: [http://www.quantresearch.org/Co-authors.htm](http://www.quantresearch.org/Co-authors.htm)
    .'
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去的二十年里，我在本书主题上发表了近百篇作品，包括期刊文章、书籍、章节、讲座、源代码等。根据我最新的统计，这些作品与超过30位该领域的顶尖专家共同署名，包括大卫·H·贝利教授（15篇文章）、大卫·伊斯利教授（8篇文章）、莫琳·奥哈拉教授（8篇文章）和乔纳森·M·博尔维因教授（6篇文章）。在很大程度上，这本书也属于他们，因为没有他们多年来的支持、见解和持续的思想交流，这本书是无法完成的。给予他们适当的信用将花费太长时间，因此我发布了以下链接，您可以在其中找到我们的集体努力：[http://www.quantresearch.org/Co-authors.htm](http://www.quantresearch.org/Co-authors.htm)。
- en: 'Last but not least, I would like to thank some of my research team members
    for proofreading the book and helping me produce some of the figures: Diego Aparicio,
    Dr. Lee Cohn, Dr. Michael Lewis, Dr. Michael Lock, Dr. Yaxiong Zeng, and Dr. Zhibai
    Zhang.'
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: 最后但同样重要的是，我要感谢我的一些研究团队成员对书籍的校对，并帮助我制作了一些图表：迭戈·阿帕里西奥、李·科恩博士、迈克尔·刘易斯博士、迈克尔·洛克博士、曾亚雄博士和张志白博士。
- en: '**Exercises**'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习**'
- en: Are you aware of firms that have attempted to transition from discretionary
    investments to ML-led investments, or blending them into what they call “quantamental”
    funds?
  id: totrans-638
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你知道哪些公司尝试从自由裁量投资转向机器学习主导的投资，或者将其融合成他们所称的“量化基本面”基金吗？
- en: Have they succeeded?
  id: totrans-639
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 他们成功了吗？
- en: What are the cultural difficulties involved in this transition?
  id: totrans-640
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一转型中涉及哪些文化难题？
- en: 'What is the most important open problem in mathematical finance? If this problem
    was resolved, how could:'
  id: totrans-641
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 数学金融中最重要的未解决问题是什么？如果这个问题得以解决，如何能够：
- en: regulators use it to grant investment management licenses?
  id: totrans-642
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 监管机构用它来授予投资管理许可证吗？
- en: investors use it to allocate funds?
  id: totrans-643
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 投资者用它来分配资金吗？
- en: firms use it to reward researchers?
  id: totrans-644
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 公司用它来奖励研究人员吗？
- en: According to *Institutional Investor,* only 17% of hedge fund assets are managed
    by quantitative firms. That is about $500 billion allocated in total across all
    quantitative funds as of June 2017, compared to $386 billion a year earlier. What
    do you think is driving this massive reallocation of assets?
  id: totrans-645
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 根据 *机构投资者*，只有 17% 的对冲基金资产由定量公司管理。截至 2017 年 6 月，所有定量基金总共分配约 5000 亿美元，而一年前为 3860
    亿美元。你认为是什么驱动了这种大规模的资产重新配置？
- en: According to *Institutional Investor* ’s Rich List, how many quantitative investment
    firms are placed within the top 10 most profitable firms? How does that compare
    to the proportion of assets managed by quantitative funds?
  id: totrans-646
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 根据 *机构投资者* 的富豪榜，有多少定量投资公司位列前 10 名最盈利公司？这与定量基金管理的资产比例相比如何？
- en: What is the key difference between econometric methods and ML? How would economics
    and finance benefit from updating their statistical toolkit?
  id: totrans-647
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 计量经济学方法与机器学习之间的关键区别是什么？经济学和金融学如何从更新其统计工具包中受益？
- en: Science has a very minimal understanding of how the human brain (or any brain)
    works. In this sense, the brain is an absolute black box. What do you think causes
    critics of financial ML to disregard it as a black box, while embracing discretionary
    investing?
  id: totrans-648
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 科学对人脑（或任何脑）如何工作几乎没有了解。在这个意义上，大脑是一个绝对的黑箱。你认为是什么导致金融机器学习的批评者将其视为黑箱，而接受自由裁量投资？
- en: You read a journal article that describes an investment strategy. In a backtest,
    it achieves an annualized Sharpe ratio in excess of 2, with a confidence level
    of 95%. Using their dataset, you are able to reproduce their result in an independent
    backtest. Why is this discovery likely to be false?
  id: totrans-649
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 你阅读了一篇描述投资策略的期刊文章。在回测中，它的年化夏普比率超过 2，置信水平为 95%。利用他们的数据集，你能够在独立回测中重现他们的结果。为什么这一发现可能是错误的？
- en: Investment advisors are plagued with conflicts of interest while making decisions
    on behalf of their investors.
  id: totrans-650
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 投资顾问在代表投资者做决策时面临利益冲突。
- en: ML algorithms can manage investments without conflict of interests. Why?
  id: totrans-651
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 机器学习算法可以在没有利益冲突的情况下管理投资。为什么？
- en: Suppose that an ML algorithm makes a decision that leads to a loss. The algorithm
    did what it was programmed to do, and the investor agreed to the terms of the
    program, as verified by forensic examination of the computer logs. In what sense
    is this situation better for the investor, compared to a loss caused by a discretionary
    PM's poor judgment? What is the investor's recourse in each instance?
  id: totrans-652
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设一个机器学习算法做出的决策导致了损失。该算法执行了其被编程的操作，投资者同意了程序条款，经过计算机日志的法医检查得以验证。与因自由裁量基金经理的糟糕判断而导致的损失相比，这种情况在什么意义上对投资者更好？投资者在每种情况下的救济措施是什么？
- en: Would it make sense for financial advisors to benchmark their decisions against
    the decisions made by such neutral agents?
  id: totrans-653
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于金融顾问来说，将他们的决策与这些中立代理人的决策进行基准比较是否有意义？
- en: '**References**'
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
  zh: '**参考文献**'
- en: 'Bailey, D., P. Borwein, and S. Plouffe (1997): “On the rapid computation of
    various polylogarithmic constants.” *Mathematics of Computation* , Vol. 66, No.
    218, pp. 903–913.'
  id: totrans-655
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 贝利, D.，P. 博尔温 和 S. 普卢夫 (1997)： “各种多对数常数的快速计算。” *计算数学*，第 66 卷，第 218 期，第 903–913
    页。
- en: 'Calkin, N. and M. López de Prado (2014a): “Stochastic flow diagrams.” *Algorithmic
    Finance* , Vol. 3, No. 1, pp. 21–42.'
  id: totrans-656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 卡尔金, N. 和 M. 洛佩斯·德·普拉多 (2014a)： “随机流图。” *算法金融*，第 3 卷，第 1 期，第 21–42 页。
- en: 'Calkin, N. and M. López de Prado (2014b): “The topology of macro financial
    flows: An application of stochastic flow diagrams.” *Algorithmic Finance* , Vol.
    3, No. 1, pp. 43–85.'
  id: totrans-657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 卡尔金, N. 和 M. 洛佩斯·德·普拉多 (2014b)： “宏观金融流的拓扑：随机流图的应用。” *算法金融*，第 3 卷，第 1 期，第 43–85
    页。
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2013): *High-Frequency Trading*
    , 1st ed. Risk Books.'
  id: totrans-658
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 易斯利, D.，M. 洛佩斯·德·普拉多 和 M. 奥哈拉 (2013)： *高频交易*，第 1 版。风险出版社。
- en: 'López de Prado, M. (2014): “Quantitative meta-strategies.” *Practical Applications,
    Institutional Investor Journals* , Vol. 2, No. 3, pp. 1–3.'
  id: totrans-659
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 洛佩斯·德·普拉多, M. (2014)： “定量元策略。” *实用应用，机构投资者期刊*，第 2 卷，第 3 期，第 1–3 页。
- en: 'López de Prado, M. (2015): “The Future of Empirical Finance.” *Journal of Portfolio
    Management* , Vol. 41, No. 4, pp. 140–144.'
  id: totrans-660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: López de Prado, M. (2015)： “经验金融的未来。” *投资组合管理杂志*，第41卷，第4期，页140–144。
- en: 'Stigler, Stephen M. (1981): “Gauss and the invention of least squares.” *Annals
    of Statistics* , Vol. 9, No. 3, pp. 465–474.'
  id: totrans-661
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Stigler, Stephen M. (1981)： “高斯与最小二乘法的发明。” *统计年鉴*，第9卷，第3期，页465–474。
- en: '**Bibliography**'
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
  zh: '**参考书目**'
- en: 'Abu-Mostafa, Y., M. Magdon-Ismail, and H. Lin (2012): *Learning from Data*
    , 1st ed. AMLBook.'
  id: totrans-663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Abu-Mostafa, Y., M. Magdon-Ismail, 和 H. Lin (2012)： *从数据中学习*，第1版。AMLBook。
- en: 'Akansu, A., S. Kulkarni, and D. Malioutov (2016): *Financial Signal Processing
    and Machine Learning* , 1st ed. John Wiley & Sons-IEEE Press.'
  id: totrans-664
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Akansu, A., S. Kulkarni, 和 D. Malioutov (2016)： *金融信号处理与机器学习*，第1版。John Wiley
    & Sons-IEEE出版社。
- en: 'Aronson, D. and T. Masters (2013): *Statistically Sound Machine Learning for
    Algorithmic Trading of Financial Instruments: Developing Predictive-Model-Based
    Trading Systems Using TSSB* , 1st ed. CreateSpace Independent Publishing Platform.'
  id: totrans-665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Aronson, D. 和 T. Masters (2013)： *金融工具算法交易的统计学机器学习：基于预测模型的交易系统开发*，第1版。CreateSpace独立出版平台。
- en: 'Boyarshinov, V. (2012): *Machine Learning in Computational Finance: Practical
    Algorithms for Building Artificial Intelligence Applications* , 1st ed. LAP LAMBERT
    Academic Publishing.'
  id: totrans-666
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Boyarshinov, V. (2012)： *计算金融中的机器学习：构建人工智能应用的实用算法*，第1版。LAP LAMBERT学术出版。
- en: 'Cerniglia, J., F. Fabozzi, and P. Kolm (2016): “Best practices in research
    for quantitative equity strategies.” *Journal of Portfolio Management* , Vol.
    42, No. 5, pp. 135–143.'
  id: totrans-667
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Cerniglia, J., F. Fabozzi, 和 P. Kolm (2016)： “定量股票策略研究的最佳实践。” *投资组合管理杂志*，第42卷，第5期，页135–143。
- en: 'Chan, E. (2017): *Machine Trading: Deploying Computer Algorithms to Conquer
    the Markets* , 1st ed. John Wiley & Sons.'
  id: totrans-668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Chan, E. (2017)： *机器交易：部署计算机算法征服市场*，第1版。John Wiley & Sons。
- en: 'Gareth, J., D. Witten, T. Hastie, and R. Tibshirani (2013): *An Introduction
    to Statistical Learning: with Applications in R* , 1st ed. Springer.'
  id: totrans-669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Gareth, J., D. Witten, T. Hastie, 和 R. Tibshirani (2013)： *统计学习导论：R语言的应用*，第1版。Springer。
- en: 'Geron, A. (2017): *Hands-On Machine Learning with Scikit-Learn and TensorFlow:
    Concepts, Tools, and Techniques to Build Intelligent Systems* , 1st ed. O''Reilly
    Media.'
  id: totrans-670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Geron, A. (2017)： *使用Scikit-Learn和TensorFlow的动手机器学习：构建智能系统的概念、工具和技术*，第1版。O'Reilly
    Media。
- en: 'Gyorfi, L., G. Ottucsak, and H. Walk (2012): *Machine Learning for Financial
    Engineering* , 1st ed. Imperial College Press.'
  id: totrans-671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Gyorfi, L., G. Ottucsak, 和 H. Walk (2012)： *金融工程的机器学习*，第1版。帝国学院出版社。
- en: 'Hackeling, G. (2014): *Mastering Machine Learning with Scikit-Learn* , 1st
    ed. Packt Publishing.'
  id: totrans-672
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hackeling, G. (2014)： *精通Scikit-Learn的机器学习*，第1版。Packt Publishing。
- en: 'Hastie, T., R. Tibshirani, and J. Friedman (2016): *The Elements of Statistical
    Learning* , 2nd ed. Springer-Verlag.'
  id: totrans-673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hastie, T., R. Tibshirani, 和 J. Friedman (2016)： *统计学习的要素*，第2版。Springer-Verlag。
- en: 'Hauck, T. (2014): *Scikit-Learn Cookbook* , 1st ed. Packt Publishing.'
  id: totrans-674
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Hauck, T. (2014)： *Scikit-Learn食谱*，第1版。Packt Publishing。
- en: 'McNelis, P. (2005): *Neural Networks in Finance* , 1st ed. Academic Press.'
  id: totrans-675
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: McNelis, P. (2005)： *金融中的神经网络*，第1版。学术出版社。
- en: 'Raschka, S. (2015): *Python Machine Learning* , 1st ed. Packt Publishing.'
  id: totrans-676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Raschka, S. (2015)： *Python机器学习*，第1版。Packt Publishing。
- en: '**Notes**'
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: '**备注**'
- en: ^([1](text00000.html#filepos0000079189))    Berkeley Lab, [http://www.lbl.gov/about](http://www.lbl.gov/about)
    .
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: ^([1](text00000.html#filepos0000079189))    伯克利实验室，[http://www.lbl.gov/about](http://www.lbl.gov/about)
    。
- en: ^([2](text00000.html#filepos0000081800))     [http://www.numbersleuth.org/worlds-gold/](http://www.numbersleuth.org/worlds-gold/)
    .
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: ^([2](text00000.html#filepos0000081800))     [http://www.numbersleuth.org/worlds-gold/](http://www.numbersleuth.org/worlds-gold/)
    。
- en: ^([3](text00000.html#filepos0000140920))     [http://www.nersc.gov/about](http://www.nersc.gov/about)
    .
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: ^([3](text00000.html#filepos0000140920))     [http://www.nersc.gov/about](http://www.nersc.gov/about)
    。
- en: '**PART 1**'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: '**第一部分**'
- en: '**Data Analysis**'
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据分析**'
- en: '[Chapter 2 Financial Data Structures](text00000.html#filepos0000153985)'
  id: totrans-683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第2章 财务数据结构](text00000.html#filepos0000153985)'
- en: '[Chapter 3 Labeling](text00000.html#filepos0000229506)'
  id: totrans-684
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第3章 标记](text00000.html#filepos0000229506)'
- en: '[Chapter 4 Sample Weights](text00001.html#filepos0000279229)'
  id: totrans-685
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第4章 示例权重](text00001.html#filepos0000279229)'
- en: '[Chapter 5 Fractionally Differentiated Features](text00001.html#filepos0000329259)'
  id: totrans-686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第5章 分数微分特征](text00001.html#filepos0000329259)'
- en: '**CHAPTER 2**'
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: '**第二章**'
- en: '**Financial Data Structures**'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: '**财务数据结构**'
- en: '**2.1 Motivation**'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.1 动机**'
- en: In this chapter we will learn how to work with unstructured financial data,
    and from that to derive a structured dataset amenable to ML algorithms. In general,
    you do not want to consume someone else's processed dataset, as the likely outcome
    will be that you discover what someone else already knows or will figure out soon.
    Ideally your starting point is a collection of unstructured, raw data that you
    are going to process in a way that will lead to informative features.
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习如何处理非结构化金融数据，并从中推导出适合机器学习算法的结构化数据集。一般来说，你不希望使用他人处理过的数据集，因为结果往往是发现他人已经知道的内容或即将发现的内容。理想情况下，你的起点是一个非结构化的原始数据集合，你将以某种方式处理这些数据，以生成有用的特征。
- en: '**2.2 Essential Types of Financial Data**'
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.2 基本金融数据的基本类型**'
- en: Financial data comes in many shapes and forms. [Table 2.1](text00000.html#filepos0000155381)
    shows the four essential types of financial data, ordered from left to right in
    terms of increasing diversity. Next, we will discuss their different natures and
    applications.
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: 金融数据有许多形态和形式。[表 2.1](text00000.html#filepos0000155381) 显示了四种基本金融数据类型，按从左到右的多样性递增顺序排列。接下来，我们将讨论它们的不同性质和应用。
- en: '[**Table 2.1**](text00000.html#filepos0000155100) **The Four Essential Types
    of Financial Data**'
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
  zh: '[**表 2.1**](text00000.html#filepos0000155100) **四种基本金融数据类型**'
- en: '| **Fundamental Data** | **Market Data** | **Analytics** | **Alternative Data**
    |'
  id: totrans-694
  prefs: []
  type: TYPE_TB
  zh: '| **基本数据** | **市场数据** | **分析** | **替代数据** |'
- en: '|'
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Assets
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资产
- en: Liabilities
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 负债
- en: Sales
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售
- en: Costs/earnings
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成本/收益
- en: Macro variables
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 宏观变量
- en: . . .
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: . . .
- en: '|'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Price/yield/implied volatility
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 价格/收益/隐含波动率
- en: Volume
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易量
- en: Dividend/coupons
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 股息/优惠券
- en: Open interest
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未平仓合约
- en: Quotes/cancellations
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报价/取消
- en: Aggressor side
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 攻击方
- en: . . .
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: . . .
- en: '|'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Analyst recommendations
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析师推荐
- en: Credit ratings
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信用评级
- en: Earnings expectations
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 盈利预期
- en: News sentiment
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新闻情绪
- en: . . .
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: . . .
- en: '|'
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Satellite/CCTV images
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 卫星/CCTV 图像
- en: Google searches
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谷歌搜索
- en: Twitter/chats
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Twitter/聊天
- en: Metadata
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 元数据
- en: . . .
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: . . .
- en: '|'
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: '**2.2.1 Fundamental Data**'
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.2.1 基本数据**'
- en: Fundamental data encompasses information that can be found in regulatory filings
    and business analytics. It is mostly accounting data, reported quarterly. A particular
    aspect of this data is that it is reported with a lapse. You must confirm exactly
    when each data point was released, so that your analysis uses that information
    only after it was publicly available. A common beginner's error is to assume that
    this data was published at the end of the reporting period. That is never the
    case.
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 基本数据包含可以在监管文件和商业分析中找到的信息。它主要是会计数据，按季度报告。这类数据的一个特定方面是它会有滞后报告。你必须确认每个数据点发布的确切时间，以确保你的分析只使用在公开可用后获得的信息。一个常见的初学者错误是假设这些数据在报告期末发布，但实际上从来不是这样。
- en: For example, fundamental data published by Bloomberg is indexed by the last
    date included in the report, which precedes the date of the release (often by
    1.5 months). In other words, Bloomberg is assigning those values to a date when
    they were not known. You could not believe how many papers are published every
    year using misaligned fundamental data, especially in the factor-investing literature.
    Once you align the data correctly, a substantial number of findings in those papers
    cannot be reproduced.
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，彭博社发布的基本数据是按报告中包含的最后日期编制索引的，这个日期通常比发布日期早1.5个月。换句话说，彭博社将这些值分配给一个未知的日期。你无法想象每年有多少论文使用了不一致的基本数据，尤其是在因子投资文献中。一旦你正确对齐数据，这些论文中的大量发现是无法复制的。
- en: 'A second aspect of fundamental data is that it is often backfilled or reinstated.
    “Backfilling” means that missing data is assigned a value, even if those values
    were unknown at that time. A “reinstated value” is a corrected value that amends
    an incorrect initial release. A company may issue multiple corrections for a past
    quarter''s results long after the first publication, and data vendors may overwrite
    the initial values with their corrections. The problem is, the corrected values
    were not known on that first release date. Some data vendors circumvent this problem
    by storing multiple release dates and values for each variable. For example, we
    typically have three values for a single quarterly GDP release: the original released
    value and two monthly revisions. Still, it is very common to find studies that
    use the final released value and assign it to the time of the first release, or
    even to the last day in the reporting period. We will revisit this mistake, and
    its implications, when we discuss backtesting errors in Chapter 11.'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: 基础数据的第二个方面是，它经常被补填或恢复。“补填”意味着缺失的数据被赋予一个值，即使在当时这些值是未知的。“恢复值”是纠正了初始发布错误的值。一家公司可能会在首次发布后很久对过去一个季度的结果进行多次修正，而数据供应商可能会用其修正覆盖初始值。问题在于，这些修正值在首次发布时并不知道。一些数据供应商通过存储每个变量的多个发布日期和数值来规避这个问题。例如，我们通常会为单个季度的GDP发布有三个值：初始发布值和两个月度修正值。不过，常见的情况是，有研究使用最终发布值并将其分配到首次发布的时间，甚至分配到报告期的最后一天。我们将在第11章讨论回测错误时重新审视这一错误及其影响。
- en: Fundamental data is extremely regularized and low frequency. Being so accessible
    to the marketplace, it is rather unlikely that there is much value left to be
    exploited. Still, it may be useful in combination with other data types.
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: 基础数据极其规范化且频率较低。由于其对市场的可获取性，剩余的可利用价值相对较小。不过，将其与其他数据类型结合使用可能仍然有用。
- en: '**2.2.2 Market Data**'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.2.2 市场数据**'
- en: Market data includes all trading activity that takes place in an exchange (like
    CME) or trading venue (like MarketAxess). Ideally, your data provider has given
    you a raw feed, with all sorts of unstructured information, like FIX messages
    that allow you to fully reconstruct the trading book, or the full collection of
    BWIC (bids wanted in competition) responses. Every market participant leaves a
    characteristic footprint in the trading records, and with enough patience, you
    will find a way to anticipate a competitor's next move. For example, TWAP algorithms
    leave a very particular footprint that is used by predatory algorithms to front-run
    their end-of-day trading (usually hedging) activity (Easley, López de Prado, and
    O'Hara [2011]). Human GUI traders often trade in round lots, and you can use this
    fact to estimate what percentage of the volume is coming from them at a given
    point in time, then associate it with a particular market behavior.
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: 市场数据包括在交易所（如CME）或交易场所（如MarketAxess）发生的所有交易活动。理想情况下，您的数据提供者应为您提供一个原始数据源，包含各种非结构化信息，如FIX消息，这使您能够完全重建交易簿，或完整的BWIC（竞争性求购）响应集合。每个市场参与者在交易记录中留下特征性足迹，凭借足够的耐心，您将找到预测竞争对手下一步行动的方法。例如，TWAP算法留下了非常独特的足迹，被捕食性算法用来抢先进行其日终交易（通常是对冲）活动（Easley,
    López de Prado, and O'Hara [2011]）。人类GUI交易员通常以整手交易，您可以利用这一点估算在特定时间内来自他们的交易量占比，然后将其与特定市场行为关联起来。
- en: One appealing aspect of FIX data is that it is not trivial to process, unlike
    fundamental data. It is also very abundant, with over 10 TB being generated on
    a daily basis. That makes it a more interesting dataset for strategy research.
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: FIX 数据的一个吸引人的方面是，与基础数据不同，它的处理并不简单。此外，这种数据非常丰富，每天生成超过10 TB的数据。这使它成为一个更有趣的策略研究数据集。
- en: '**2.2.3 Analytics**'
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.2.3 分析**'
- en: You could think of analytics as derivative data, based on an original source,
    which could be fundamental, market, alternative, or even a collection of other
    analytics. What characterizes analytics is not the content of the information,
    but that it is not readily available from an original source, and that it has
    been processed for you in a particular way. Investment banks and research firms
    sell valuable information that results from in-depth analyses of companies' business
    models, activities, competition, outlook, etc. Some specialized firms sell statistics
    derived from alternative data, for example, the sentiment extracted from news
    reports and social media.
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将分析视为基于原始来源的衍生数据，这可能是基本数据、市场数据、替代数据，甚至是其他分析的集合。分析的特征不在于信息的内容，而在于它并非直接从原始来源获得，并且它已以特定方式为你处理。投资银行和研究公司出售通过深入分析公司商业模式、活动、竞争、前景等而产生的有价值信息。一些专业公司出售来自替代数据的统计信息，例如，从新闻报道和社交媒体中提取的情绪。
- en: A positive aspect of analytics is that the signal has been extracted for you
    from a raw source. The negative aspects are that analytics may be costly, the
    methodology used in their production may be biased or opaque, and you will not
    be the sole consumer.
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: 分析的一个积极方面是信号已经从原始来源中提取出来。消极方面是，分析可能会很昂贵，所使用的方法可能存在偏见或不透明性，并且你不是唯一的消费者。
- en: '**2.2.4 Alternative Data**'
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.2.4 替代数据**'
- en: Kolanovic and Krishnamachari [2017] differentiate among alternative data produced
    by individuals (social media, news, web searches, etc.), business processes (transactions,
    corporate data, government agencies, etc.), and sensors (satellites, geolocation,
    weather, CCTV, etc.). Some popular satellite image or video feeds include monitoring
    of tankers, tunnel traffic activity, or parking lot occupancies.
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
  zh: Kolanovic 和 Krishnamachari [2017] 区分了由个人（社交媒体、新闻、网页搜索等）、商业流程（交易、公司数据、政府机构等）和传感器（卫星、地理位置、天气、监控摄像头等）生成的替代数据。一些受欢迎的卫星图像或视频源包括对油轮、隧道交通活动或停车场占用率的监测。
- en: What truly characterizes alternative data is that it is primary information,
    that is, information that has not made it to the other sources. Before Exxon Mobile
    reported increased earnings, before its market price shot up, before analysts
    wrote their commentary of their latest filings, before all of that, there were
    movements of tankers and drillers and pipeline traffic. They happened months before
    those activities were reflected in the other data types. Two problematic aspects
    of alternative data are their cost and privacy concerns. All that spy craft is
    expensive, and the surveilled company may object, not to mention bystanders.
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: 真正特征化替代数据的是它是原始信息，也就是说，这些信息尚未被其他来源采纳。在埃克森美孚报告盈利增加之前，在其市场价格飙升之前，在分析师撰写其最新文件的评论之前，所有这些之前，油轮、钻井机和管道交通已经发生。这些活动发生在这些数据类型被反映出来的几个月之前。替代数据的两个问题是其成本和隐私问题。所有的监控活动都是昂贵的，被监视的公司可能会反对，更不用说旁观者。
- en: Alternative data offers the opportunity to work with truly unique, hard-to-process
    datasets. Remember, data that is hard to store, manipulate, and operate is always
    the most promising. You will recognize that a dataset *may be* useful if it annoys
    your data infrastructure team. Perhaps your competitors did not try to use it
    for logistic reasons, gave up midway, or processed it incorrectly.
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: 替代数据提供了处理真正独特、难以处理的数据集的机会。记住，难以存储、操作和处理的数据总是最有前途的。如果数据基础设施团队对某个数据集感到烦恼，你会意识到该数据集*可能是*有用的。也许你的竞争对手由于后勤原因未尝试使用该数据集，或中途放弃，或处理不当。
- en: '**2.3 Bars**'
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.3 条形图**'
- en: 'In order to apply ML algorithms on your unstructured data, we need to parse
    it, extract valuable information from it, and store those extractions in a regularized
    format. Most ML algorithms assume a table representation of the extracted data.
    Finance practitioners often refer to those tables’ rows as “bars.” We can distinguish
    between two categories of bar methods: (1) standard bar methods, which are common
    in the literature, and (2) more advanced, information-driven methods, which sophisticated
    practitioners use although they cannot be found (yet) in journal articles. In
    this section, we will discuss how to form those bars.'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在你的非结构化数据上应用机器学习算法，我们需要解析数据，从中提取有价值的信息，并将这些提取结果存储在规范化格式中。大多数机器学习算法假设提取数据的表格表示。金融从业者通常将这些表的行称为“条”。我们可以区分两类条形方法：（1）标准条形方法，这些方法在文献中很常见，和（2）更高级的、以信息驱动的方法，尽管这些方法在学术期刊文章中尚未出现，但却被复杂的从业者使用。在本节中，我们将讨论如何形成这些条。
- en: '**2.3.1 Standard Bars**'
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.3.1 标准条**'
- en: Some bar construction methods are very popular in the financial industry, to
    the point that most data vendors’ APIs offer several of them. The purpose of these
    methods is to transform a series of observations that arrive at irregular frequency
    (often referred to as “inhomogeneous series”) into a homogeneous series derived
    from regular sampling.
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 一些条形构建方法在金融行业中非常流行，以至于大多数数据供应商的API都提供了几种。这些方法的目的是将不规则频率到达的一系列观察值（通常称为“非均匀系列”）转换为基于规则抽样的均匀系列。
- en: '***2.3.1.1 Time Bars***'
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.1.1 时间条***'
- en: 'Time bars are obtained by sampling information at fixed time intervals, e.g.,
    once every minute. The information collected usually includes:'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: 时间条是通过在固定时间间隔内抽样信息获得的，例如每分钟一次。收集的信息通常包括：
- en: Timestamp
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时间戳
- en: Volume-weighted average price (VWAP)
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 成交量加权平均价格（VWAP）
- en: Open (i.e., first) price
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开盘价（即，第一个价格）
- en: Close (i.e., last) price
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收盘价（即，最后一个价格）
- en: High price
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最高价
- en: Low price
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最低价
- en: Volume traded, etc.
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交易量等。
- en: Although time bars are perhaps the most popular among practitioners and academics,
    they should be avoided for two reasons. First, markets do not process information
    at a constant time interval. The hour following the open is much more active than
    the hour around noon (or the hour around midnight in the case of futures). As
    biological beings, it makes sense for humans to organize their day according to
    the sunlight cycle. But today's markets are operated by algorithms that trade
    with loose human supervision, for which CPU processing cycles are much more relevant
    than chronological intervals (Easley, López de Prado, and O'Hara [2011]). This
    means that time bars oversample information during low-activity periods and undersample
    information during high-activity periods. Second, time-sampled series often exhibit
    poor statistical properties, like serial correlation, heteroscedasticity, and
    non-normality of returns (Easley, López de Prado, and O'Hara [2012]). GARCH models
    were developed, in part, to deal with the heteroscedasticity associated with incorrect
    sampling. As we will see next, forming bars as a subordinated process of trading
    activity avoids this problem in the first place.
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管时间条可能是从业者和学术界中最流行的，但应避免使用时间条，原因有二。首先，市场并不是以固定时间间隔处理信息。开盘后的一小时比正午（或期货交易中午夜时分）周围的一小时要活跃得多。作为生物生物体，人类根据阳光周期组织他们的日常生活是合情合理的。但今天的市场是由算法操作的，这些算法在松散的人类监督下进行交易，因此CPU处理周期比时间间隔更为相关（Easley,
    López de Prado, 和 O'Hara [2011]）。这意味着时间条在低活动期过采样信息，而在高活动期则欠采样信息。其次，时间抽样系列往往表现出较差的统计特性，如序列相关性、异方差性和收益的非正态性（Easley,
    López de Prado, 和 O'Hara [2012]）。GARCH模型部分是为了解决与不当抽样相关的异方差性而开发的。正如我们接下来将看到的，形成条作为交易活动的从属过程，首先避免了这个问题。
- en: '***2.3.1.2 Tick Bars***'
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.1.2 Tick Bars***'
- en: 'The idea behind tick bars is straightforward: The sample variables listed earlier
    (timestamp, VWAP, open price, etc.) will be extracted each time a pre-defined
    number of transactions takes place, e.g., 1,000 ticks. This allows us to synchronize
    sampling with a proxy of information arrival (the speed at which ticks are originated).'
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: Tick条背后的理念很简单：每当发生预定义数量的交易时（例如，1,000次交易），将提取之前列出的样本变量（时间戳、VWAP、开盘价等）。这使我们能够将抽样与信息到达的代理（ticks的产生速度）进行同步。
- en: 'Mandelbrot and Taylor [1967] were among the first to realize that sampling
    as a function of the number of transactions exhibited desirable statistical properties:
    “Price changes over a fixed number of transactions may have a Gaussian distribution.
    Price changes over a fixed time period may follow a stable Paretian distribution,
    whose variance is infinite. Since the number of transactions in any time period
    is random, the above statements are not necessarily in disagreement.”'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: Mandelbrot和Taylor [1967]是最早意识到按交易次数进行抽样表现出理想统计特性的学者之一：“在固定交易次数下，价格变动可能具有高斯分布。在固定时间段内，价格变动可能遵循稳定的帕累托分布，其方差是无限的。由于任何时间段内的交易次数都是随机的，上述说法并不一定相互矛盾。”
- en: Ever since Mandelbrot and Taylor's paper, multiple studies have confirmed that
    sampling as a function of trading activity allows us to achieve returns closer
    to IID Normal (see Ané and Geman [2000]). This is important, because many statistical
    methods rely on the assumption that observations are drawn from an IID Gaussian
    process. Intuitively, we can only draw inference from a random variable that is
    invariant, and tick bars allow for better inference than time bars.
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: 自从Mandelbrot和Taylor的论文以来，多项研究确认按交易活动进行抽样使我们能够获得更接近IID正态分布的回报（参见Ané和Geman [2000]）。这一点很重要，因为许多统计方法依赖于观察值来自IID高斯过程的假设。直观上，我们只能从一个不变的随机变量中进行推断，而逐笔条比时间条允许更好的推断。
- en: When constructing tick bars, you need to be aware of outliers. Many exchanges
    carry out an auction at the open and an auction at the close. This means that
    for a period of time, the order book accumulates bids and offers without matching
    them. When the auction concludes, a large trade is published at the clearing price,
    for an outsized amount. This auction trade could be the equivalent of thousands
    of ticks, even though it is reported as one tick.
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: 在构建逐笔条时，你需要注意异常值。许多交易所会在开盘和收盘时进行拍卖。这意味着在一段时间内，订单簿积累了未匹配的买单和卖单。当拍卖结束时，会以结算价格发布一笔大交易，交易量相当庞大。这笔拍卖交易可能相当于数千个逐笔交易，即使它被报告为一个逐笔交易。
- en: '***2.3.1.3 Volume Bars***'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.1.3 交易量条***'
- en: One problem with tick bars is that order fragmentation introduces some arbitrariness
    in the number of ticks. For example, suppose that there is one order sitting on
    the offer, for a size of 10\. If we buy 10 lots, our one order will be recorded
    as one tick. If instead on the offer there are 10 orders of size 1, our one buy
    will be recorded as 10 separate transactions. In addition, matching engine protocols
    can further split one fill into multiple artificial partial fills, as a matter
    of operational convenience.
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: 逐笔条的一个问题是订单碎片化引入了逐笔数量的任意性。例如，假设有一个订单以10的数量挂出。如果我们买入10手，我们的一个订单将被记录为一个逐笔。如果在挂单上有10个数量为1的订单，我们的一个买入将被记录为10个单独的交易。此外，匹配引擎协议还可能将一个成交进一步拆分为多个人工部分成交，以便于操作。
- en: Volume bars circumvent that problem by sampling every time a pre-defined amount
    of the security's units (shares, futures contracts, etc.) have been exchanged.
    For example, we could sample prices every time a futures contract exchanges 1,000
    units, regardless of the number of ticks involved.
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: 交易量条通过在每次交换一定量的证券单位（股份、期货合约等）时进行抽样，从而避免了这一问题。例如，我们可以在期货合约每次交换1,000单位时进行价格抽样，而不管涉及的逐笔数量。
- en: It is hard to imagine these days, but back in the 1960s vendors rarely published
    volume data, as customers were mostly concerned with tick prices. After volume
    started to be reported as well, Clark [1973] realized that sampling returns by
    volume achieved even better statistical properties (i.e., closer to an IID Gaussian
    distribution) than sampling by tick bars. Another reason to prefer volume bars
    over time bars or tick bars is that several market microstructure theories study
    the interaction between prices and volume. Sampling as a function of one of these
    variables is a convenient artifact for these analyses, as we will find out in
    Chapter 19.
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: 现在很难想象，但在1960年代，供应商很少发布交易量数据，因为客户主要关心的是逐笔价格。随着交易量也开始被报告，Clark [1973]意识到按交易量抽样的回报具有比按逐笔条抽样更好的统计特性（即，更接近IID高斯分布）。另一个更倾向于交易量条而非时间条或逐笔条的原因是，许多市场微观结构理论研究价格与交易量之间的相互作用。按这些变量之一进行抽样是方便的工具，正如我们将在第19章中发现的那样。
- en: '***2.3.1.4 Dollar Bars***'
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.1.4 美元条***'
- en: Dollar bars are formed by sampling an observation every time a pre-defined market
    value is exchanged. Of course, the reference to dollars is meant to apply to the
    currency in which the security is denominated, but nobody refers to euro bars,
    pound bars, or yen bars (although gold bars would make for a fun pun).
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: 美元条形图是通过每次交易预定义市场价值时采样一个观察值形成的。当然，美元的参考是针对证券所计价的货币，但没有人会称之为欧元条形图、英镑条形图或日元条形图（尽管金条会构成一个有趣的双关语）。
- en: Let me illustrate the rationale behind dollar bars with a couple of examples.
    First, suppose that we wish to analyze a stock that has exhibited an appreciation
    of 100% over a certain period of time. Selling $1,000 worth of that stock at the
    end of the period requires trading half the number of shares it took to buy $1,000
    worth of that stock at the beginning. In other words, the number of shares traded
    is a function of the actual value exchanged. Therefore, it makes sense sampling
    bars in terms of dollar value exchanged, rather than ticks or volume, particularly
    when the analysis involves significant price fluctuations. This point can be verified
    empirically. If you compute tick bars and volume bars on E-mini S&P 500 futures
    for a given bar size, the number of bars per day will vary wildly over the years.
    That range and speed of variation will be reduced once you compute the number
    of dollar bars per day over the years, for a constant bar size. [Figure 2.1](text00000.html#filepos0000174100)
    plots the exponentially weighted average number of bars per day when we apply
    a fixed bar size on tick, volume, and dollar sampling methods.
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: 让我用几个例子来说明美元条形图背后的原理。首先，假设我们希望分析一只在某段时间内上涨了100%的股票。在该时间段结束时，出售价值$1,000的股票需要交易买入该股票时所需的一半股数。换句话说，交易的股数是实际交易价值的函数。因此，从美元交易价值的角度进行条形图采样是合理的，而不是以成交笔或成交量进行采样，尤其是在分析涉及重大价格波动的情况下。这一点可以通过实证验证。如果您在给定的条形图大小上计算E-mini
    S&P 500期货的成交笔条形图和成交量条形图，日均条形图的数量在多年间会变化很大。一旦您计算出多年中每天的美元条形图数量，且保持条形图大小不变，这种变化的范围和速度将会减少。[图
    2.1](text00000.html#filepos0000174100)绘制了在我们对成交笔、成交量和美元采样方法应用固定条形图大小时，每天的条形图数量的指数加权平均。
- en: '![](Image00522.jpg)'
  id: totrans-764
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00522.jpg)'
- en: '[**Figure 2.1**](text00000.html#filepos0000173735) Average daily frequency
    of tick, volume, and dollar bars'
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 2.1**](text00000.html#filepos0000173735) 日均的成交笔数、成交量和美元条形图'
- en: A second argument that makes dollar bars more interesting than time, tick, or
    volume bars is that the number of outstanding shares often changes multiple times
    over the course of a security's life, as a result of corporate actions. Even after
    adjusting for splits and reverse splits, there are other actions that will impact
    the amount of ticks and volumes, like issuing new shares or buying back existing
    shares (a very common practice since the Great Recession of 2008). Dollar bars
    tend to be robust in the face of those actions. Still, you may want to sample
    dollar bars where the size of the bar is not kept constant over time. Instead,
    the bar size could be adjusted dynamically as a function of the free-floating
    market capitalization of a company (in the case of stocks), or the outstanding
    amount of issued debt (in the case of fixed-income securities).
  id: totrans-766
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个使得美元条形图比时间、成交笔或成交量条形图更有趣的论点是，流通股数在证券生命周期内通常会因公司行为而多次变化。即使在调整了拆分和反向拆分后，还有其他行动会影响成交笔数和成交量，例如发行新股或回购现有股份（自2008年大衰退以来非常常见的做法）。美元条形图在这些行动面前往往表现出稳健性。尽管如此，您可能希望对美元条形图进行采样，其中条形图的大小并未随时间保持不变。相反，条形图的大小可以根据公司的自由流通市值（在股票的情况下）或已发行债务的未偿金额（在固定收益证券的情况下）动态调整。
- en: '**2.3.2 Information-Driven Bars**'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.3.2 信息驱动条形图**'
- en: The purpose of information-driven bars is to sample more frequently when new
    information arrives to the market. In this context, the word “information” is
    used in a market microstructural sense. As we will see in Chapter 19, market microstructure
    theories confer special importance to the persistence of imbalanced signed volumes,
    as that phenomenon is associated with the presence of informed traders. By synchronizing
    sampling with the arrival of informed traders, we may be able to make decisions
    before prices reach a new equilibrium level. In this section we will explore how
    to use various indices of information arrival to sample bars.
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: 信息驱动柱的目的是在新信息到达市场时更频繁地采样。在此背景下，“信息”一词是以市场微观结构的意义使用的。正如我们在第19章中将看到的，市场微观结构理论赋予不平衡签名交易量的持续性特别重要，因为该现象与有信息交易者的存在相关。通过将采样与有信息交易者的到来同步，我们可能能够在价格达到新的均衡水平之前做出决策。在本节中，我们将探讨如何使用各种信息到达指标来采样柱。
- en: '***2.3.2.1 Tick Imbalance Bars***'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.2.1 tick不平衡柱***'
- en: Consider a sequence of ticks {( *p [*t*]* , *v [*t*]* )} [*t* = 1, …, *T*] ,
    where *p [*t*]* is the price associated with tick *t* and *v [*t*]* is the volume
    associated with tick *t.* The so-called tick rule defines a sequence { *b [*t*]*
    } [*t* = 1, …, *T*] where
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑一个tick序列{(*p[*t*]*, *v[*t*]*)}[*t* = 1, …, *T*]，其中*p[*t*]*是与tick *t* 相关的价格，而*v[*t*]*是与tick
    *t* 相关的交易量。所谓的tick规则定义了一个序列{*b[*t*]*}[*t* = 1, …, *T*]，其中
- en: '![](Image00529.jpg)'
  id: totrans-771
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00529.jpg)'
- en: with *b [*t*]* ∈ { − 1, 1}, and the boundary condition *b [0]* is set to match
    the terminal value *b [*T*]* from the immediately preceding bar. The idea behind
    tick imbalance bars (TIBs) is to sample bars whenever tick imbalances exceed our
    expectations. We wish to determine the tick index, *T* , such that the accumulation
    of signed ticks (signed according to the tick rule) exceeds a given threshold.
    Next, let us discuss the procedure to determine  *T.*
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*b[*t*]* ∈ {−1, 1}，边界条件*b[0]*被设置为匹配前一柱的终值*b[*T*]*。tick不平衡柱（TIBs）背后的想法是，每当tick不平衡超过我们的预期时，就进行柱的采样。我们希望确定tick指数*T*，使得签名tick的累积（根据tick规则签名）超过给定阈值。接下来，让我们讨论确定*T*的程序。
- en: First, we define the tick imbalance at time *T* as
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将时间*T*的tick不平衡定义为
- en: '![](Image00530.jpg)'
  id: totrans-774
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00530.jpg)'
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar,
    E [0] [θ [*T*] ] = E [0] [ *T* ](P[ *b [*t*]* = 1] − P[ *b [*t*]* = −1]), where
    E [0] [ *T* ] is the expected size of the tick bar, P[ *b [*t*]* = 1] is the unconditional
    probability that a tick is classified as a buy, and P[ *b [*t*]* = −1] is the
    unconditional probability that a tick is classified as a sell. Since P[ *b [*t*]*
    = 1] + P[ *b [*t*]* = −1] = 1, then E [0] [θ [*T*] ] = E [0] [ *T* ](2P[ *b [*t*]*
    = 1] − 1). In practice, we can estimate E [0] [ *T* ] as an exponentially weighted
    moving average of *T* values from prior bars, and (2P[ *b [*t*]* = 1] − 1) as
    an exponentially weighted moving average of *b [*t*]* values from prior bars.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，我们计算在柱开始时θ[*T*]的期望值，E[0][θ[*T*]] = E[0][*T*](P[*b[*t*]* = 1] − P[*b[*t*]*
    = −1])，其中E[0][*T*]是tick柱的预期大小，P[*b[*t*]* = 1]是tick被分类为买入的无条件概率，而P[*b[*t*]* = −1]是tick被分类为卖出的无条件概率。由于P[*b[*t*]*
    = 1] + P[*b[*t*]* = −1] = 1，因此E[0][θ[*T*]] = E[0][*T*](2P[*b[*t*]* = 1] − 1)。在实际操作中，我们可以将E[0][*T*]视为先前柱中*T*值的指数加权移动平均，而(2P[*b[*t*]*
    = 1] − 1)视为先前柱中*b[*t*]*值的指数加权移动平均。
- en: 'Third, we define a tick imbalance bar (TIB) as a *T* *-contiguous subset of
    ticks such that the following condition is met:'
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，我们将tick不平衡柱（TIB）定义为一个*T*的*连续tick子集，以满足以下条件：
- en: '![](Image00532.jpg)'
  id: totrans-777
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00532.jpg)'
- en: where the size of the expected imbalance is implied by |2P[ *b [*t*]* = 1] −
    1|. When θ [*T*] is more imbalanced than expected, a low *T* will satisfy these
    conditions. Accordingly, TIBs are produced more frequently under the presence
    of informed trading (asymmetric information that triggers one-side trading). In
    fact, we can understand TIBs as buckets of trades containing equal amounts of
    information (regardless of the volumes, prices, or ticks traded).
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: 预期不平衡的大小由|2P[*b[*t*]* = 1] − 1|所暗示。当θ[*T*]比预期更不平衡时，较低的*T*将满足这些条件。因此，在有信息交易（触发单边交易的非对称信息）存在的情况下，TIBs的产生会更频繁。实际上，我们可以将TIBs理解为包含相同数量信息的交易桶（无论交易的交易量、价格或ticks）。
- en: '***2.3.2.2 Volume/Dollar Imbalance Bars***'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.2.2 交易量/美元不平衡柱***'
- en: The idea behind volume imbalance bars (VIBs) and dollar imbalance bars (DIBs)
    is to extend the concept of tick imbalance bars (TIBs). We would like to sample
    bars when volume or dollar imbalances diverge from our expectations. Based on
    the same notions of tick rule and boundary condition *b [0]* as we discussed for
    TIBs, we will define a procedure to determine the index of the next sample, *T.*
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: 交易量失衡柱（VIBs）和美元失衡柱（DIBs）背后的理念是扩展ticks失衡柱（TIBs）的概念。我们希望在交易量或美元失衡与我们的预期发生偏离时对柱子进行取样。基于我们为TIBs讨论的ticks规则和边界条件*b
    [0]*的相同概念，我们将定义一个程序来确定下一个样本的索引*T*。
- en: First, we define the imbalance at time *T* as
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将时间*T*的失衡定义为
- en: '![](Image00534.jpg)'
  id: totrans-782
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00534.jpg)'
- en: where *v [*t*]* may represent either the number of securities traded (VIB) or
    the dollar amount exchanged (DIB). Your choice of *v [*t*]* is what determines
    whether you are sampling according to the former or the latter.
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*v [*t*]*可以表示交易的证券数量（VIB）或交换的美元金额（DIB）。你选择的*v [*t*]*决定了你是根据前者还是后者进行取样。
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，我们在柱子的开始计算θ[*T*]的期望值
- en: '![](Image00535.jpg)'
  id: totrans-785
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00535.jpg)'
- en: Let us denote *v ^+* = P[ *b [*t*]* = 1]E [0] [ *v [*t*]* | *b [*t*]* = 1],
    *v ^−* = P[ *b [*t*]* = −1]E [0] [ *v [*t*]* | *b [*t*]* = −1], so that ![](Image00690.jpg)
    . You can think of *v ^+ * and *v ^− * as decomposing the initial expectation
    of *v [*t*] * into the component contributed by buys and the component contributed
    by sells. Then
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: 设我们定义*v ^+* = P[*b [*t*]* = 1]E [0] [*v [*t*]* | *b [*t*]* = 1]，*v ^−* = P[*b
    [*t*]* = −1]E [0] [*v [*t*]* | *b [*t*]* = −1]，因此![](Image00690.jpg)。你可以将*v ^+*和*v
    ^−*视为将*v [*t*]*的初始期望分解为由买入和卖出贡献的成分。然后
- en: '![](Image00539.jpg)'
  id: totrans-787
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00539.jpg)'
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, and (2 *v ^+* − E [0] [ *v [*t*]* ]) as
    an exponentially weighted moving average of *b [*t*] v [*t*]* values from prior
    bars.
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，我们可以将E [0] [*T*]估计为来自先前柱子的*T*值的指数加权移动平均值，以及(2 *v ^+* − E [0] [*v [*t*]*])作为来自先前柱子的*b
    [*t*] v [*t*]*值的指数加权移动平均值。
- en: 'Third, we define VIB or DIB as a *T* *-contiguous subset of ticks such that
    the following condition is met:'
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，我们将VIB或DIB定义为一个*T* *-连续的ticks子集，以满足以下条件：
- en: '![](Image00540.jpg)'
  id: totrans-790
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00540.jpg)'
- en: where the size of the expected imbalance is implied by |2 *v ^+* − E [0] [ *v
    [*t*]* ]|. When θ [*T*] is more imbalanced than expected, a low *T* will satisfy
    these conditions. This is the information-based analogue of volume and dollar
    bars, and like its predecessors, it addresses the same concerns regarding tick
    fragmentation and outliers. Furthermore, it also addresses the issue of corporate
    actions, because the above procedure does not rely on a constant bar size. Instead,
    the bar size is adjusted dynamically.
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: 其中期望失衡的大小由|2 *v ^+* − E [0] [*v [*t*]*]|暗示。当θ[*T*]的失衡程度超出预期时，较低的*T*将满足这些条件。这是基于信息的交易量和美元柱的类似物，像其前身一样，它解决了关于ticks碎片化和异常值的相同问题。此外，它还解决了公司行为的问题，因为上述程序不依赖于固定的柱子大小。相反，柱子大小是动态调整的。
- en: '***2.3.2.3 Tick Runs Bars***'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.2.3 Tick Runs Bars***'
- en: TIBs, VIBs, and DIBs monitor order flow imbalance, as measured in terms of ticks,
    volumes, and dollar values exchanged. Large traders will sweep the order book,
    use iceberg orders, or slice a parent order into multiple children, all of which
    leave a trace of runs in the { *b [*t*]* } [*t* = 1, …, *T*] sequence. For this
    reason, it can be useful to monitor the *sequence* of buys in the overall volume,
    and take samples when that sequence diverges from our expectations.
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: TIBs、VIBs和DIBs监测订单流失衡，以ticks、交易量和交换的美元值为度量。大型交易者将扫清订单簿，使用冰山订单，或将父订单切分成多个子订单，这些操作都会在{*b
    [*t*]*}[*t* = 1, …, *T*]序列中留下运行的痕迹。因此，监测整体交易量中的*序列*，并在该序列与我们的预期发生偏离时进行取样是很有用的。
- en: First, we define the length of the current run as
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们将当前运行的长度定义为
- en: '![](Image00542.jpg)'
  id: totrans-795
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00542.jpg)'
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，我们在柱子的开始计算θ[*T*]的期望值
- en: '![](Image00545.jpg)'
  id: totrans-797
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00545.jpg)'
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, and P[ *b [*t*]* = 1] as an exponentially
    weighted moving average of the proportion of buy ticks from prior bars.
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: 在实践中，我们可以将E [0] [*T*]估计为来自先前柱子的*T*值的指数加权移动平均值，以及P[*b [*t*]* = 1]作为来自先前柱子的买ticks比例的指数加权移动平均值。
- en: 'Third, we define a tick runs bar (TRB) as a *T* *-contiguous subset of ticks
    such that the following condition is met:'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，我们将点交易条（TRB）定义为一个 *T* *-连续的点集合，满足以下条件：
- en: '![](Image00547.jpg)'
  id: totrans-800
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00547.jpg)'
- en: where the expected count of ticks from runs is implied by max{P[ *b [*t*]* =
    1], 1 − P[ *b [*t*]* = −1]}. When θ [*T*] exhibits more runs than expected, a
    low *T* will satisfy these conditions. Note that in this definition of runs we
    allow for sequence breaks. That is, instead of measuring the length of the longest
    sequence, we count the number of ticks of each side, without offsetting them (no
    imbalance). In the context of forming bars, this turns out to be a more useful
    definition than measuring sequence lengths.
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: 期望的交易次数由 max{P[ *b [*t*]* = 1], 1 − P[ *b [*t*]* = −1]} 所隐含。当 θ [*T*] 展示的交易次数超出预期时，低
    *T* 将满足这些条件。注意在这一交易定义中，我们允许序列中断。也就是说，我们不再测量最长序列的长度，而是计算每一方的点数，而不进行偏移（没有不平衡）。在形成条的背景下，这一定义比测量序列长度更有用。
- en: '***2.3.2.4 Volume/Dollar Runs Bars***'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.3.2.4 交易量/美元交易条***'
- en: Volume runs bars (VRBs) and dollar runs bars (DRBs) extend the above definition
    of runs to volumes and dollars exchanged, respectively. The intuition is that
    we wish to sample bars whenever the volumes or dollars traded by one side exceed
    our expectation for a bar. Following our customary nomenclature for the tick rule,
    we need to determine the index *T* of the last observation in the bar.
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: 交易量条（VRBs）和美元交易条（DRBs）将上述交易定义扩展到交易的量和金额。直观上，我们希望在任一方的交易量或金额超出我们对某条的预期时进行抽样。根据我们习惯的点差规则命名法，我们需要确定条中的最后观察值的索引
    *T*。
- en: First, we define the volumes or dollars associated with a run as
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: 第一，我们将与交易相关的交易量或美元定义为
- en: '![](Image00548.jpg)'
  id: totrans-805
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00548.jpg)'
- en: where *v [*t*]* may represent either number of securities traded (VRB) or dollar
    amount exchanged (DRB). Your choice of *v [*t*]* is what determines whether you
    are sampling according to the former or the latter.
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 *v [*t*]* 可以代表交易的证券数量（VRB）或交换的美元金额（DRB）。你选择的 *v [*t*]* 决定了你是根据前者还是后者进行抽样。
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar,
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: 第二，我们计算条开始时 θ [*T*] 的期望值，
- en: '![](Image00551.jpg)'
  id: totrans-808
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00551.jpg)'
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, P[ *b [*t*]* = 1] as an exponentially weighted
    moving average of the proportion of buy ticks from prior bars, E [0] [ *v [*t*]*
    | *b [*t*]* = 1] as an exponentially weighted moving average of the buy volumes
    from prior bars, and E [0] [ *v [*t*]* | *b [*t*]* = −1] as an exponentially weighted
    moving average of the sell volumes from prior bars.
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，我们可以将 E [0] [ *T* ] 估计为先前条中 *T* 值的指数加权移动平均，P[ *b [*t*]* = 1] 估计为先前条中买入点比例的指数加权移动平均，E
    [0] [ *v [*t*]* | *b [*t*]* = 1] 估计为先前条中买入交易量的指数加权移动平均，E [0] [ *v [*t*]* | *b
    [*t*]* = −1] 估计为先前条中卖出交易量的指数加权移动平均。
- en: 'Third, we define a volume runs bar (VRB) as a *T* *-contiguous subset of ticks
    such that the following condition is met:'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: 第三，我们将交易量条（VRB）定义为一个 *T* *-连续的点集合，满足以下条件：
- en: '![](Image00200.jpg)'
  id: totrans-811
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00200.jpg)'
- en: where the expected volume from runs is implied by max{P[ *b [*t*]* = 1]E [0]
    [ *v [*t*]* | *b [*t*]* = 1], (1 − P[ *b [*t*]* = 1])E [0] [ *v [*t*]* | *b [*t*]*
    = −1]}. When θ [*T*] exhibits more runs than expected, or the volume from runs
    is greater than expected, a low *T* will satisfy these conditions.
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: 期望的交易量由 max{P[ *b [*t*]* = 1]E [0] [ *v [*t*]* | *b [*t*]* = 1], (1 − P[ *b
    [*t*]* = 1])E [0] [ *v [*t*]* | *b [*t*]* = −1]} 所隐含。当 θ [*T*] 展示的交易次数超出预期时，或者交易量大于预期时，低
    *T* 将满足这些条件。
- en: '**2.4 Dealing with Multi-Product Series**'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.4 处理多产品系列**'
- en: 'Sometimes we are interested in modelling a time series of instruments, where
    the weights need to be dynamically adjusted over time. Other times we must deal
    with products that pay irregular coupons or dividends, or that are subject to
    corporate actions. Events that alter the nature of the time series under study
    need to be treated properly, or we will inadvertently introduce a structural break
    that will mislead our research efforts (more on this in Chapter 17). This problem
    appears in many guises: when we model spreads with changing weights, or baskets
    of securities where dividends/coupons must be reinvested, or baskets that must
    be rebalanced, or when an index''s constituents are changed, or when we must replace
    an expired/matured contract/security with another, etc.'
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: 有时我们希望建模一个工具的时间序列，其中权重需要随着时间动态调整。其他时候，我们必须处理支付不规则息票或股息的产品，或受到企业行动影响的产品。改变所研究的时间序列性质的事件需要妥善处理，否则我们会无意中引入结构性突破，从而误导我们的研究工作（更多内容将在第17章讨论）。这个问题以多种形式出现：当我们建模权重变化的价差，或需要再投资股息/息票的证券篮子，或需要重新平衡的篮子，或当一个指数的成分发生变化，或当我们必须用另一个替换已到期/成熟的合同/证券等。
- en: Futures are a case in point. In my experience, people struggle unnecessarily
    when manipulating futures, mainly because they do not know how to handle the roll
    well. The same can be said of strategies based on spreads of futures, or baskets
    of stocks or bonds. In the next section, I'll show you one way to model a basket
    of securities as if it was a single cash product. I call it the “ETF trick” because
    the goal is to transform any complex multi-product dataset into a single dataset
    that resembles a total-return ETF. Why is this useful? Because your code can always
    assume that you only trade cashlike products (non-expiring cash instruments),
    regardless of the complexity and composition of the underlying series.
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: 期货就是一个典型的例子。根据我的经验，人们在处理期货时往往不必要地感到困难，主要是因为他们不知道如何很好地处理换仓。基于期货的价差、或股票或债券的组合策略也可以说是如此。在下一节中，我将向你展示如何将一个证券组合建模为一个单一的现金产品。我称之为“ETF技巧”，因为目标是将任何复杂的多产品数据集转化为一个类似于总回报ETF的单一数据集。这有什么用？因为你的代码可以始终假设你只交易现金类产品（非到期现金工具），无论底层系列的复杂性和组成如何。
- en: '**2.4.1 The ETF Trick**'
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.4.1 ETF技巧**'
- en: Suppose we wish to develop a strategy that trades a spread of futures. A few
    nuisances arise from dealing with a spread rather than an outright instrument.
    First, the spread is characterized by a vector of weights that changes over time.
    As a result, the spread itself may converge even if prices do not change. When
    that happens, a model trading that series will be misled to believe that PnL (the
    net mark-to-market value of profits and losses) has resulted from that weight-induced
    convergence. Second, spreads can acquire negative values, because they do not
    represent a price. This can often be problematic, as most models assume positive
    prices. Third, trading times will not align exactly for all constituents, so the
    spread is not always tradeable at the last levels published, or with zero latency
    risk. Also, execution costs must be considered, like crossing the bid-ask spread.
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们希望开发一个交易期货价差的策略。在处理价差而不是单一工具时，会出现一些小麻烦。首先，价差由一个随时间变化的权重向量来表征。因此，即使价格不变，价差本身也可能收敛。当这种情况发生时，基于该序列的模型可能会误认为盈亏（利润和损失的净市值）是由于该权重引起的收敛所致。其次，价差可能会出现负值，因为它们并不代表价格。这往往会造成问题，因为大多数模型假设价格为正。第三，交易时间不会完全对齐所有成分，因此价差并不总是可以在最后发布的水平进行交易，或者没有延迟风险。此外，必须考虑执行成本，例如跨越买卖差价。
- en: One way to avoid these issues is to produce a time series that reflects the
    value of $1 invested in a spread. Changes in the series will reflect changes in
    PnL, the series will be strictly positive (at worst, infinitesimal), and the implementation
    shortfall will be taken into account. This will be the series used to model, generate
    signals, and trade, as if it were an ETF.
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: 避免这些问题的一种方法是生成一个反映在价差中投资$1的时间序列。该序列的变化将反映盈亏（PnL）的变化，该序列在最坏的情况下将始终为正（至多是微小的），并且实施损失将被考虑在内。这个序列将用于建模、生成信号和交易，就像它是一个ETF一样。
- en: 'Suppose that we are given a history of bars, as derived from any of the methods
    explained in Section 2.3\. These bars contain the following columns:'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有一个由第2.3节中解释的任何方法得出的历史数据条。 这些数据条包含以下列：
- en: '*o [*i* , *t*]* is the raw open price of instrument *i* = 1, …, *I* at bar
    *t* = 1, …, *T* .'
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*o [*i* , *t*]* 是在柱 *t* = 1, …, *T* 时工具 *i* = 1, …, *I* 的原始开盘价。'
- en: '*p [*i* , *t*]* is the raw close price of instrument *i* = 1, …, *I* at bar
    *t* = 1, …, *T* .'
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*p [*i* , *t*]* 是在柱 *t* = 1, …, *T* 时工具 *i* = 1, …, *I* 的原始收盘价。'
- en: φ [*i* , *t*] is the USD value of one point of instrument *i* = 1, …, *I* at
    bar *t* = 1, …, *T* . This includes foreign exchange rate.
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: φ [*i* , *t*] 是在柱 *t* = 1, …, *T* 时工具 *i* = 1, …, *I* 的一个点的 USD 值。这包括外汇汇率。
- en: '*v [*i* , *t*]* is the volume of instrument *i* = 1, …, *I* at bar *t* = 1,
    …, *T* .'
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*v [*i* , *t*]* 是在柱 *t* = 1, …, *T* 时工具 *i* = 1, …, *I* 的交易量。'
- en: '*d [*i* , *t*]* is the carry, dividend, or coupon paid by instrument *i* at
    bar *t.* This variable can also be used to charge margin costs, or costs of funding.'
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*d [*i* , *t*]* 是在柱 *t* 时工具 *i* 支付的持有成本、股息或票息。这个变量也可以用于收取保证金成本或融资成本。'
- en: where all instruments *i* = 1, …, *I* were tradeable at bar *t* = 1, …, *T*
    . In other words, even if some instruments were not tradeable over the entirety
    of the time interval [ *t* − 1, *t* ], at least they were tradeable at times *t*
    − 1 and *t* (markets were open and able to execute orders at those instants).
    For a basket of futures characterized by an allocations vector ω [*t*] rebalanced
    (or rolled) on bars *B* ⊆{1, …, *T* }, the $1 investment value { *K [*t*]* } is
    derived as
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: 所有工具 *i* = 1, …, *I* 在柱 *t* = 1, …, *T* 时均可交易。换句话说，即使某些工具在时间间隔 [*t* − 1, *t*]
    的整个期间不可交易，但至少在时间 *t* − 1 和 *t* 时是可以交易的（市场开放并能够在这些时刻执行订单）。对于由分配向量 ω [*t*] 重新平衡（或滚动）的期货篮子，$1
    的投资价值 {*K [*t*]*} 是通过以下公式推导的：
- en: '![](Image00554.jpg)'
  id: totrans-826
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00554.jpg)'
- en: '![](Image00291.jpg)'
  id: totrans-827
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00291.jpg)'
- en: '![](Image00557.jpg)'
  id: totrans-828
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00557.jpg)'
- en: and *K [0]* = 1 in the initial AUM. Variable *h [*i* , *t*]* represents the
    holdings (number of securities or contracts) of instrument *i* at time *t.* Variable
    δ [*i* , *t*] is the change of market value between *t* − 1 and *t* for instrument
    *i.* Note that profits or losses are being reinvested whenever *t* ∈ *B* , hence
    preventing the negative prices. Dividends *d [*i* , *t*]* are already embedded
    in *K [*t*]* , so there is no need for the strategy to know about them. The purpose
    of ![](Image00559.jpg) in *h [*i*  ,  *t*] * is to de-lever the allocations. For
    series of futures, we may not know *p [*i*  ,  *t*] * of the new contract at a
    roll time *t* , so we use *o [*i*  ,  *t*  + 1] * as the closest in time.
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: 并且 *K [0]* = 1 是初始的 AUM。变量 *h [*i* , *t*]* 表示在时间 *t* 时工具 *i* 的持有量（证券或合约数量）。变量
    δ [*i* , *t*] 是在时间 *t* 和 *t* − 1 之间工具 *i* 市场价值的变化。请注意，当 *t* ∈ *B* 时利润或损失被再投资，从而防止负价格。股息
    *d [*i* , *t*]* 已经嵌入到 *K [*t*]* 中，因此策略不需要了解它们。*h [*i* , *t*]* 中的目的在于去杠杆配置。对于期货系列，我们可能不知道在滚动时间
    *t* 时新合约的 *p [*i* , *t*]*，所以我们使用 *o [*i* , *t* + 1]* 作为时间上最近的价格。
- en: 'Let τ [*i*] be the transaction cost associated with trading $1 of instrument
    *i* , e.g., τ [*i*] = 1 *E* − 4 (one basis point). There are three additional
    variables that the strategy needs to know for every observed bar *t* :'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: 让 τ [*i*] 表示与交易 $1 的工具 *i* 相关的交易成本，例如，τ [*i*] = 1 *E* − 4（一个基点）。策略需要知道每个观察到的柱
    *t* 的三个额外变量：
- en: '**Rebalance costs:** The variable cost {*c [*t*]* } associated with the allocation
    rebalance is ![](Image00561.jpg) , ∀*t* ∈ *B* . We do not embed *c [*t*] * in
    *K [*t*] * , or shorting the spread will generate fictitious profits when the
    allocation is rebalanced. In your code, you can treat {*c [*t*] * } as a (negative)
    dividend.'
  id: totrans-831
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**再平衡成本：** 与配置再平衡相关的变量成本 {*c [*t*]*} 是 ![](Image00561.jpg)，∀*t* ∈ *B*。我们不将
    *c [*t*]* 嵌入到 *K [*t*]* 中，否则在配置再平衡时做空价差会产生虚假利润。在你的代码中，可以将 {*c [*t*]*} 视为（负）股息。'
- en: '**Bid-ask spread:** The cost ![](Image00562.jpg) of buying or selling one unit
    of this virtual ETF is ![](Image00565.jpg) . When a unit is bought or sold, the
    strategy must charge this cost ![](Image00567.jpg) , which is the equivalent to
    crossing the bid-ask spread of this virtual ETF.'
  id: totrans-832
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**买卖价差：** 购买或出售一个单位此虚拟 ETF 的成本 ![](Image00562.jpg) 为 ![](Image00565.jpg)。当一个单位被买入或卖出时，策略必须收取这个成本
    ![](Image00567.jpg)，这相当于穿越此虚拟 ETF 的买卖价差。'
- en: '**Volume:** The volume traded {*v [*t*]* } is determined by the least active
    member in the basket. Let *v [*i* , *t*]* be the volume traded by instrument *i*
    over bar *t.* The number of tradeable basket units is ![](Image00570.jpg) .'
  id: totrans-833
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**交易量：** 交易量 {*v [*t*]*} 由篮子中最不活跃的成员决定。让 *v [*i* , *t*]* 表示在柱 *t* 上由工具 *i*
    交易的量。可交易的篮子单位数量是 ![](Image00570.jpg)。'
- en: Transaction costs functions are not necessarily linear, and those non-linear
    costs can be simulated by the strategy based on the above information. Thanks
    to the ETF trick, we can model a basket of futures (or a single futures) as if
    it was a single non-expiring cash product.
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: 交易成本函数不一定是线性的，基于上述信息的策略可以模拟这些非线性成本。得益于 ETF 技巧，我们可以将一篮子期货（或单一期货）建模为一个不到期的现金产品。
- en: '**2.4.2 PCA Weights**'
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.4.2 PCA 权重**'
- en: The interested reader will find many practical ways of computing hedging weights
    in López de Prado and Leinweber [2012] and Bailey and López de Prado [2012]. For
    the sake of completeness, let us review one way to derive the vector {ω [*t*]
    } used in the previous section. Consider an IID multivariate Gaussian process
    characterized by a vector of means μ, of size *Nx1* , and a covariance matrix
    *V* , of size *NxN.* This stochastic process describes an invariant random variable,
    like the returns of stocks, the changes in yield of bonds, or changes in options’
    volatilities, for a portfolio of *N* instruments. We would like to compute the
    vector of allocations ω that conforms to a particular distribution of risks across
    *V* ’s principal components.
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: 感兴趣的读者可以在 López de Prado 和 Leinweber [2012] 以及 Bailey 和 López de Prado [2012]
    中找到许多计算对冲权重的实用方法。为了完整性，让我们回顾一下推导上一节中使用的向量 {ω [*t*] } 的一种方法。考虑一个 IID 多元高斯过程，其特征由一个均值向量
    μ（大小为 *Nx1*）和一个协方差矩阵 *V*（大小为 *NxN*）所描述。这个随机过程描述了一个不变的随机变量，如股票的收益、债券收益率的变化，或一组
    *N* 个工具的期权波动率的变化。我们希望计算符合 *V* 主成分特定风险分布的分配向量 ω。
- en: First, we perform a spectral decomposition, *VW* = *W* Λ, where the columns
    in *W* are reordered so that the elements of Λ’s diagonal are sorted in descending
    order. Second, given a vector of allocations ω, we can compute the portfolio's
    risk as ![](Image00043.jpg) , where β represents the projection of ω on the orthogonal
    basis. Third, Λ is a diagonal matrix, thus ![](Image00574.jpg) , and the risk
    attributed to the *n* th component is *R [*n*] * = β ² [   *n*   ] Λ [*n*  ,  *n*]
    σ ^(− 2) = [ *W* 'ω] ² [   *n*   ] Λ [*n*  ,  *n*] σ ^(− 2) , with *R* '1 [*N*]
    = 1, and 1 [*N*] is a vector of *N* ones. You can interpret { *R [*n*] * } [*n*  =
    1, …,  *N*] as the distribution of risks across the orthogonal components.
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们进行谱分解，*VW* = *W* Λ，其中 *W* 中的列经过重新排序，使得 Λ 的对角线元素按降序排列。其次，给定一个分配向量 ω，我们可以计算投资组合的风险为
    ![](Image00043.jpg)，其中 β 表示 ω 在正交基上的投影。第三，Λ 是一个对角矩阵，因此 ![](Image00574.jpg)，第 *n*
    个成分的风险为 *R [*n*] * = β ² [   *n*   ] Λ [*n*  ,  *n*] σ ^(− 2) = [ *W* 'ω] ² [   *n*   ]
    Λ [*n*  ,  *n*] σ ^(− 2)，且 *R* '1 [*N*] = 1，1 [*N*] 是一个 *N* 个 1 的向量。你可以将 { *R
    [*n*] * } [*n*  = 1, …,  *N*] 理解为在正交成分间风险的分布。
- en: Fourth, we would like to compute the vector ω that delivers a user-defined risk
    distribution *R* . From earlier steps, ![](Image00575.jpg) , which represents
    the allocation in the new (orthogonal) basis. Fifth, the allocation in the old
    basis is given by ω = *W* β. Re-scaling ω merely re-scales σ, hence keeping the
    risk distribution constant.  [ Figure 2.2 ](text00000.html#filepos0000209254)
    illustrates the contribution to risk per principal component for an inverse variance
    allocation. Almost all principal components contribute risk, including those with
    highest variance (components 1 and 2). In contrast, for the PCA portfolio, only
    the component with lowest variance contributes risk.
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: 第四，我们希望计算向量 ω，以实现用户定义的风险分布 *R*。从之前的步骤可以得出，![](Image00575.jpg) 表示在新的（正交）基中的分配。第五，旧基中的分配由
    ω = *W* β 给出。重新缩放 ω 仅仅是重新缩放 σ，从而保持风险分布不变。[图 2.2](text00000.html#filepos0000209254)
    说明了每个主成分对逆方差分配风险的贡献。几乎所有主成分都会贡献风险，包括那些方差最高的主成分（成分 1 和 2）。相比之下，对于 PCA 投资组合，只有方差最低的成分会贡献风险。
- en: '![](Image00576.jpg)'
  id: totrans-839
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00576.jpg)'
- en: '[**Figure 2.2**](text00000.html#filepos0000208723) Contribution to risk per
    principal component'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 2.2**](text00000.html#filepos0000208723) 每个主成分对风险的贡献'
- en: Snippet 2.1 implements this method, where the user-defined risk distribution
    *R* is passed through argument `riskDist` (optional None). If `riskDist` is None,
    the code will assume all risk must be allocated to the principal component with
    smallest eigenvalue, and the weights will be the last eigenvector re-scaled to
    match σ ( `riskTarget` ).
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: Snippet 2.1 实现了此方法，其中用户定义的风险分布 *R* 通过参数 `riskDist` 传递（可选为 None）。如果 `riskDist`
    为 None，代码将假设所有风险必须分配给具有最小特征值的主成分，权重将是最后一个特征向量重新缩放以匹配 σ (`riskTarget`)。
- en: '**SNIPPET 2.1 PCA WEIGHTS FROM A RISK DISTRIBUTION R**'
  id: totrans-842
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**代码片段 2.1 从风险分布 R 中得到 PCA 权重**'
- en: '![](Image00579.jpg)'
  id: totrans-843
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00579.jpg)'
- en: '**2.4.3 Single Future Roll**'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.4.3 单一期货滚动**'
- en: 'The ETF trick can handle the rolls of a single futures contract, as a particular
    case of a 1-legged spread. However, when dealing with a single futures contract,
    an equivalent and more direct approach is to form a time series of cumulative
    roll gaps, and detract that gaps series from the price series. Snippet 2.2 shows
    a possible implementation of this logic, using a series of tick bars downloaded
    from Bloomberg and stored in a HDF5 table. The meaning of the Bloomberg fields
    is as follows:'
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: ETF技巧可以处理单一期货合约的滚动，作为一腿价差的特例。然而，在处理单一期货合约时，更等效且直接的方法是形成累积滚动间隙的时间序列，并将该间隙系列从价格系列中扣除。代码片段2.2展示了这一逻辑的可能实现，使用从彭博社下载的tick
    bar系列并存储在HDF5表中。彭博社字段的含义如下：
- en: '`FUT_CUR_GEN_TICKER` : It identifies the contract associated with that price.
    Its value changes with every roll.'
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FUT_CUR_GEN_TICKER`：标识与该价格相关的合约。其值在每次滚动时发生变化。'
- en: '`PX_OPEN` : The open price associated with that bar.'
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PX_OPEN`：与该bar相关的开盘价。'
- en: '`PX_LAST` : The close price associated with the bar.'
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PX_LAST`：与该bar相关的收盘价。'
- en: '`VWAP` : The volume-weighted average price associated with that bar.'
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`VWAP`：与该bar相关的成交量加权平均价格。'
- en: The argument `matchEnd` in function `rollGaps` determines whether the futures
    series should be rolled forward ( `matchEnd=False` ) or backward ( `matchEnd=True`
    ). In a forward roll, the price at the start of the rolled series matches the
    price at the start of the raw series. In a backward roll, the price at the end
    of the rolled series matches the price at the end of the raw series.
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: 函数`rollGaps`中的参数`matchEnd`决定期货系列是否应向前滚动（`matchEnd=False`）或向后滚动（`matchEnd=True`）。在向前滚动中，滚动系列开始时的价格与原始系列开始时的价格相匹配。在向后滚动中，滚动系列结束时的价格与原始系列结束时的价格相匹配。
- en: '**SNIPPET 2.2 FORM A GAPS SERIES, DETRACT IT FROM PRICES**'
  id: totrans-851
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**代码片段2.2 形成间隙系列，并从价格中扣除**'
- en: '![](Image00581.jpg)'
  id: totrans-852
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00581.jpg)'
- en: 'Rolled prices are used for simulating PnL and portfolio mark-to-market values.
    However, raw prices should still be used to size positions and determine capital
    consumption. Keep in mind, rolled prices can indeed become negative, particularly
    in futures contracts that sold off while in contango. To see this, run Snippet
    2.2 on a series of Cotton #2 futures or Natural Gas futures.'
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: 滚动价格用于模拟损益（PnL）和投资组合的市场价值。然而，仍应使用原始价格来确定头寸规模和资本消耗。请记住，滚动价格确实可能变为负值，尤其是在期货合约在升水状态下出售时。要查看这一点，可以在一系列棉花#2期货或天然气期货上运行代码片段2.2。
- en: 'In general, we wish to work with non-negative rolled series, in which case
    we can derive the price series of a $1 investment as follows: (1) Compute a time
    series of rolled futures prices, (2) compute the return ( *r* ) as rolled price
    change divided by the previous raw price, and (3) form a price series using those
    returns (i.e., `(1+r).cumprod()` ). Snippet 2.3 illustrates this logic.'
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，我们希望处理非负的滚动系列，在这种情况下，我们可以按照以下方式推导出$1投资的价格系列： (1) 计算滚动期货价格的时间序列，(2) 计算收益（*r*），即滚动价格变化除以前的原始价格，以及
    (3) 使用这些收益形成价格系列（即`(1+r).cumprod()`）。代码片段2.3说明了这个逻辑。
- en: '**SNIPPET 2.3 NON-NEGATIVE ROLLED PRICE SERIES**'
  id: totrans-855
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**代码片段2.3 非负滚动价格系列**'
- en: '![](Image00099.jpg)'
  id: totrans-856
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00099.jpg)'
- en: '**2.5 Sampling Features**'
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.5 采样特征**'
- en: So far we have learned how to produce a continuous, homogeneous, and structured
    dataset from a collection of unstructured financial data. Although you could attempt
    to apply an ML algorithm on such a dataset, in general that would not be a good
    idea, for a couple of reasons. First, several ML algorithms do not scale well
    with sample size (e.g., SVMs). Second, ML algorithms achieve highest accuracy
    when they attempt to learn from relevant examples. Suppose that you wish to predict
    whether the next 5% absolute return will be positive (a 5% rally) or negative
    (a 5% sell-off). At any random time, the accuracy of such a prediction will be
    low. However, if we ask a classifier to predict the sign of the next 5% absolute
    return after certain catalytic conditions, we are more likely to find informative
    features that will help us achieve a more accurate prediction. In this section
    we discuss ways of sampling bars to produce a features matrix with relevant training
    examples.
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经学习如何从一组非结构化金融数据中生成一个连续、同质且结构化的数据集。虽然你可以尝试在这样的数据集上应用机器学习算法，但一般来说，这并不是一个好主意，原因有几个。首先，几个机器学习算法在样本量上扩展性较差（例如，支持向量机）。其次，机器学习算法在尝试从相关示例中学习时会实现最高的准确性。假设你希望预测下一个5%的绝对回报是否会是正的（5%的上涨）或负的（5%的下跌）。在任何随机时间，这样的预测准确性都会很低。然而，如果我们要求分类器在特定催化条件后预测下一个5%绝对回报的符号，我们更可能找到有用的特征，这将帮助我们实现更准确的预测。在本节中，我们讨论从条形图中抽样以生成具有相关训练示例的特征矩阵的方法。
- en: '**2.5.1 Sampling for Reduction**'
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.5.1 减少的抽样**'
- en: As we have mentioned earlier, one reason for sampling features from a structured
    dataset is to reduce the amount of data used to fit the ML algorithm. This operation
    is also referred to as *downsampling* . This is often done by either sequential
    sampling at a constant step size (linspace sampling), or by sampling randomly
    using a uniform distribution (uniform sampling).
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前提到的，从结构化数据集中抽样特征的一个原因是减少用于拟合机器学习算法的数据量。这种操作也称为*下采样*。这通常通过以固定步长进行顺序抽样（线性空间抽样）或通过使用均匀分布随机抽样（均匀抽样）来完成。
- en: The main advantage of linspace sampling is its simplicity. The disadvantages
    are that the step size is arbitrary, and that outcomes may vary depending on the
    seed bar. Uniform sampling addresses these concerns by drawing samples uniformly
    across the entire set of bars. Still, both methods suffer the criticism that the
    sample does not necessarily contain the subset of most relevant observations in
    terms of their predictive power or informational content.
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: 线性空间抽样的主要优点是其简单性。缺点是步长是任意的，并且结果可能因种子条而异。均匀抽样通过在整个条形图集上均匀抽样来解决这些问题。尽管如此，这两种方法都受到批评，认为样本未必包含在预测能力或信息内容方面最相关观察值的子集。
- en: '**2.5.2 Event-Based Sampling**'
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: '**2.5.2 基于事件的抽样**'
- en: Portfolio managers typically place a bet after some event takes place, such
    as a structural break (Chapter 17), an extracted signal (Chapter 18), or microstructural
    phenomena (Chapter 19). These events could be associated with the release of some
    macroeconomic statistics, a spike in volatility, a significant departure in a
    spread away from its equilibrium level, etc. We can characterize an event as significant,
    and let the ML algorithm learn whether there is an accurate prediction function
    under those circumstances. Perhaps the answer is no, in which case we would redefine
    what constitutes an event, or try again with alternative features. For illustration
    purposes, let us discuss one useful event-based sampling method.
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: 投资组合经理通常会在某些事件发生后下注，例如结构性突破（第17章）、提取的信号（第18章）或微观结构现象（第19章）。这些事件可能与一些宏观经济统计数据的发布、波动率的激增、价差偏离其均衡水平等有关。我们可以将事件表征为重要，并让机器学习算法学习在这些情况下是否存在准确的预测函数。也许答案是否定的，在这种情况下，我们会重新定义什么构成一个事件，或尝试使用替代特征再次进行尝试。为了说明这一点，让我们讨论一种有用的基于事件的抽样方法。
- en: '***2.5.2.1 The CUSUM Filter***'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: '***2.5.2.1 CUSUM滤波器***'
- en: The CUSUM filter is a quality-control method, designed to detect a shift in
    the mean value of a measured quantity away from a target value. Consider IID observations
    { *y [*t*]* } [*t* = 1, …, *T*] arising from a locally stationary process. We
    define the cumulative sums
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: CUSUM滤波器是一种质量控制方法，旨在检测所测量量的均值偏离目标值的变化。考虑来自局部平稳过程的独立同分布观察值{ *y [*t*]* } [*t*
    = 1, …, *T*]。我们定义累积和。
- en: '![](Image00584.jpg)'
  id: totrans-866
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00584.jpg)'
- en: with boundary condition *S [0]* = 0 *.* This procedure would recommend an action
    at the first *t* satisfying *S [*t*]* ≥ *h* , for some threshold *h* (the filter
    size). Note that *S [*t*]* = 0 whenever *y [*t*]* ≤ E [*t* − 1] [ *y [*t*]* ]
    − *S [*t* − 1]* . This zero floor means that we will skip some downward deviations
    that otherwise would make *S [*t*]* negative. The reason is, the filter is set
    up to identify a sequence of upside divergences from any reset level zero. In
    particular, the threshold is activated when
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: 边界条件*S [0]* = 0 *.* 此过程将在满足*S [*t*]* ≥ *h*的第一个*t*上建议采取行动，某个阈值*h*（过滤器大小）。请注意，*S
    [*t*]* = 0，当*y [*t*]* ≤ E [*t* − 1] [ *y [*t*]* ] − *S [*t* − 1]*时。这一零底线意味着我们将跳过一些向下偏差，否则这些偏差会使*S
    [*t*]*为负。原因是，过滤器被设置为识别从任何重置水平零的向上偏差序列。特别是，当阈值被激活时
- en: '![](Image00116.jpg)'
  id: totrans-868
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00116.jpg)'
- en: 'This concept of run-ups can be extended to include run-downs, giving us a symmetric
    CUSUM filter:'
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: 这一上升概念可以扩展到包括下降，形成对称的CUSUM过滤器：
- en: '![](Image00587.jpg)'
  id: totrans-870
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00587.jpg)'
- en: '![](Image00224.jpg)'
  id: totrans-871
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00224.jpg)'
- en: '![](Image00590.jpg)'
  id: totrans-872
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00590.jpg)'
- en: 'Lam and Yam [1997] propose an investment strategy whereby alternating buy-sell
    signals are generated when an absolute return *h* is observed relative to a prior
    high or low. Those authors demonstrate that such strategy is equivalent to the
    so-called “filter trading strategy” studied by Fama and Blume [1966]. Our use
    of the CUSUM filter is different: We will sample a bar *t* if and only if *S [*t*]*
    ≥ *h* , at which point *S [*t*]* is reset. Snippet 2.4 shows an implementation
    of the symmetric CUSUM filter, where E [*t* − 1] [ *y [*t*]* ] = *y [*t* − 1]*
    .'
  id: totrans-873
  prefs: []
  type: TYPE_NORMAL
  zh: Lam和Yam [1997]提出了一种投资策略，当相对于先前的高点或低点观察到绝对回报*h*时生成交替的买卖信号。这些作者证明，这种策略等同于Fama和Blume
    [1966]研究的“过滤交易策略”。我们使用CUSUM过滤器的方式不同：我们仅在*S [*t*]* ≥ *h*时采样一根柱，届时*S [*t*]*被重置。代码片段2.4展示了对称CUSUM过滤器的实现，其中E
    [*t* − 1] [ *y [*t*]* ] = *y [*t* − 1]*。
- en: '**SNIPPET 2.4 THE SYMMETRIC CUSUM FILTER**'
  id: totrans-874
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**代码片段2.4 对称CUSUM过滤器**'
- en: '![](Image00315.jpg)'
  id: totrans-875
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00315.jpg)'
- en: 'The function `getTEvents` receives two arguments: the raw time series we wish
    to filter ( `gRaw` ) and the threshold, `h` . One practical aspect that makes
    CUSUM filters appealing is that multiple events are not triggered by `gRaw` hovering
    around a threshold level, which is a flaw suffered by popular market signals such
    as Bollinger bands. It will require a full run of length `h` for `gRaw` to trigger
    an event. [Figure 2.3](text00000.html#filepos0000221897) illustrates the samples
    taken by a CUSUM filter on a price series.'
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: 函数`getTEvents`接收两个参数：我们希望过滤的原始时间序列（`gRaw`）和阈值`h`。CUSUM过滤器的一个实际优点是，当`gRaw`在阈值水平附近徘徊时不会触发多个事件，这是一些流行市场信号（如布林带）所遭受的缺陷。`gRaw`需要完整的长度为`h`的运行才能触发事件。[图
    2.3](text00000.html#filepos0000221897)展示了CUSUM过滤器在价格序列上采样的情况。
- en: '![](Image00595.jpg)'
  id: totrans-877
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00595.jpg)'
- en: '[**Figure 2.3**](text00000.html#filepos0000221606) CUSUM sampling of a price
    series'
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 2.3**](text00000.html#filepos0000221606) CUSUM对价格序列的采样'
- en: Variable *S [*t*]* could be based on any of the features we will discuss in
    Chapters 17–19, like structural break statistics, entropy, or market microstructure
    measurements. For example, we could declare an event whenever SADF departs sufficiently
    from a previous reset level (to be defined in Chapter 17). Once we have obtained
    this subset of event-driven bars, we will let the ML algorithm determine whether
    the occurrence of such events constitutes actionable intelligence.
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: 变量*S [*t*]*可以基于我们将在第17-19章讨论的任何特征，如结构性断裂统计、熵或市场微观结构测量。例如，我们可以在SADF明显偏离先前重置水平时声明一个事件（将在第17章定义）。一旦我们获得这一事件驱动的柱子子集，我们将让机器学习算法判断这些事件的发生是否构成可采取的情报。
- en: '**Exercises**'
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习**'
- en: 'On a series of E-mini S&P 500 futures tick data:'
  id: totrans-881
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在一系列E-mini S&P 500期货交易数据上：
- en: Form tick, volume, and dollar bars. Use the ETF trick to deal with the roll.
  id: totrans-882
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 形成tick、成交量和美元柱。使用ETF技巧处理滚动问题。
- en: Count the number of bars produced by tick, volume, and dollar bars on a weekly
    basis. Plot a time series of that bar count. What bar type produces the most stable
    weekly count? Why?
  id: totrans-883
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每周计算由tick、成交量和美元柱生成的柱数。绘制该柱数的时间序列。哪种柱类型产生了最稳定的每周计数？为什么？
- en: Compute the serial correlation of returns for the three bar types. What bar
    method has the lowest serial correlation?
  id: totrans-884
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算三种柱类型的回报序列相关性。哪种柱方法具有最低的序列相关性？
- en: Partition the bar series into monthly subsets. Compute the variance of returns
    for every subset of every bar type. Compute the variance of those variances. What
    method exhibits the smallest variance of variances?
  id: totrans-885
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '将柱系列划分为每月子集。计算每种柱类型每个子集的收益方差。计算这些方差的方差。哪种方法表现出最小的方差？ '
- en: Apply the Jarque-Bera normality test on returns from the three bar types. What
    method achieves the lowest test statistic?
  id: totrans-886
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对三种柱类型的收益应用 Jarque-Bera 正态性检验。哪种方法实现了最低的检验统计量？
- en: On a series of E-mini S&P 500 futures tick data, compute dollar bars and dollar
    imbalance bars. What bar type exhibits greater serial correlation? Why?
  id: totrans-887
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在一系列 E-mini S&P 500 期货成交数据上，计算美元柱和美元不平衡柱。哪种柱类型表现出更大的序列相关性？为什么？
- en: 'On dollar bar series of E-mini S&P 500 futures and Eurostoxx 50 futures:'
  id: totrans-888
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在 E-mini S&P 500 期货和 Eurostoxx 50 期货的美元柱序列上：
- en: 'Apply Section 2.4.2 to compute the ![](Image00405.jpg) vector used by the ETF
    trick. (Hint: You will need FX values for EUR/USD at the roll dates.)'
  id: totrans-889
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用第 2.4.2 节计算 ETF 技巧使用的 ![](Image00405.jpg) 向量。（提示：你需要在滚动日期的 EUR/USD 外汇值。）
- en: Derive the time series of the S&P 500/Eurostoxx 50 spread.
  id: totrans-890
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 推导 S&P 500/Eurostoxx 50 利差的时间序列。
- en: Confirm that the series is stationary, with an ADF test.
  id: totrans-891
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过 ADF 检验确认序列是平稳的。
- en: 'Form E-mini S&P 500 futures dollar bars:'
  id: totrans-892
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 形成 E-mini S&P 500 期货美元柱：
- en: Compute Bollinger bands of width 5% around a rolling moving average. Count how
    many times prices cross the bands out (from within the bands to outside the bands).
  id: totrans-893
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算宽度为 5% 的布林带围绕滚动移动平均线。计算价格跨越布林带的次数（从带内到带外）。
- en: Now sample those bars using a CUSUM filter, where {*y [*t*]* } are returns and
    *h* = 0.05*.* How many samples do you get?
  id: totrans-894
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在使用 CUSUM 过滤器对这些柱进行采样，其中 {*y [*t*]*} 为收益，*h* = 0.05*。你得到了多少样本？
- en: Compute the rolling standard deviation of the two-sampled series. Which one
    is least heteroscedastic? What is the reason for these results?
  id: totrans-895
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算两个采样序列的滚动标准差。哪个序列的异方差性最小？这些结果的原因是什么？
- en: 'Using the bars from exercise 4:'
  id: totrans-896
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 使用练习 4 中的柱：
- en: Sample bars using the CUSUM filter, where {*y [*t*]* } are absolute returns
    and *h* = 0.05*.*
  id: totrans-897
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 CUSUM 过滤器对柱进行采样，其中 {*y [*t*]*} 为绝对收益，*h* = 0.05*。
- en: Compute the rolling standard deviation of the sampled bars.
  id: totrans-898
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算采样柱的滚动标准差。
- en: Compare this result with the results from exercise 4\. What procedure delivered
    the least heteroscedastic sample? Why?
  id: totrans-899
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此结果与练习 4 的结果进行比较。哪个程序产生了最小的异方差样本？为什么？
- en: '**References**'
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: '**参考文献**'
- en: 'Ané, T. and H. Geman (2000): “Order flow, transaction clock and normality of
    asset returns.” *Journal of Finance* , Vol. 55, pp. 2259–2284.'
  id: totrans-901
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Ané, T. 和 H. Geman (2000)：“订单流、交易时钟和资产收益的正态性。” *金融期刊*，第 55 卷，第 2259–2284 页。
- en: 'Bailey, David H., and M. López de Prado (2012): “Balanced baskets: A new approach
    to trading and hedging risks.” *Journal of Investment Strategies (Risk Journals)*
    , Vol. 1, No. 4 (Fall), pp. 21–62.'
  id: totrans-902
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Bailey, David H. 和 M. López de Prado (2012)：“平衡篮子：一种新的交易和对冲风险的方法。” *投资策略期刊（风险期刊）*，第
    1 卷，第 4 期（秋季），第 21–62 页。
- en: 'Clark, P. K. (1973): “A subordinated stochastic process model with finite variance
    for speculative prices.” *Econometrica* , Vol. 41, pp. 135–155.'
  id: totrans-903
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Clark, P. K. (1973)：“一种具有有限方差的次级随机过程模型用于投机价格。” *计量经济学*，第 41 卷，第 135–155 页。
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2011): “The volume clock: Insights
    into the high frequency paradigm.” *Journal of Portfolio Management* , Vol. 37,
    No. 2, pp. 118–128.'
  id: totrans-904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Easley, D., M. López de Prado 和 M. O'Hara (2011)：“量能时钟：对高频范式的见解。” *投资组合管理期刊*，第
    37 卷，第 2 期，第 118–128 页。
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2012): “Flow toxicity and liquidity
    in a high frequency world.” *Review of Financial Studies* , Vol. 25, No. 5, pp.
    1457–1493.'
  id: totrans-905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Easley, D., M. López de Prado 和 M. O'Hara (2012)：“流动性毒性和高频世界中的流动性。” *金融研究评论*，第
    25 卷，第 5 期，第 1457–1493 页。
- en: 'Fama, E. and M. Blume (1966): “Filter rules and stock market trading.” *Journal
    of Business* , Vol. 40, pp. 226–241.'
  id: totrans-906
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Fama, E. 和 M. Blume (1966)：“过滤规则和股市交易。” *商业期刊*，第 40 卷，第 226–241 页。
- en: 'Kolanovic, M. and R. Krishnamachari (2017): “Big data and AI strategies: Machine
    learning and alternative data approach to investing.” White paper, JP Morgan,
    Quantitative and Derivatives Strategy. May 18.'
  id: totrans-907
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Kolanovic, M. 和 R. Krishnamachari (2017)：“大数据和 AI 策略：机器学习和另类数据的投资方法。” 白皮书，JP
    摩根，量化和衍生品策略。5 月 18 日。
- en: 'Lam, K. and H. Yam (1997): “CUSUM techniques for technical trading in financial
    markets.” *Financial Engineering and the Japanese Markets* , Vol. 4, pp. 257–274.'
  id: totrans-908
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Lam, K. 和 H. Yam (1997)：“金融市场技术交易的 CUSUM 技术。” *金融工程与日本市场*，第 4 卷，第 257–274 页。
- en: 'López de Prado, M. and D. Leinweber (2012): “Advances in cointegration and
    subset correlation hedging methods.” *Journal of Investment Strategies (Risk Journals)*
    , Vol. 1, No. 2 (Spring), pp. 67–115.'
  id: totrans-909
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: López de Prado, M. 和 D. Leinweber (2012)： “协整与子集相关对冲方法的进展。” *投资策略期刊（风险期刊）* ，第1卷，第2期（春季），第67–115页。
- en: 'Mandelbrot, B. and M. Taylor (1967): “On the distribution of stock price differences.”
    *Operations Research* , Vol. 15, No. 5, pp. 1057–1062.'
  id: totrans-910
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Mandelbrot, B. 和 M. Taylor (1967)： “股票价格差异的分布。” *运筹学* ，第15卷，第5期，第1057–1062页。
- en: '**CHAPTER 3**'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: '**第三章**'
- en: '**Labeling**'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: '**标记**'
- en: '**3.1 Motivation**'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: '**3.1 动机**'
- en: In Chapter 2 we discussed how to produce a matrix *X* of financial features
    out of an unstructured dataset. Unsupervised learning algorithms can learn the
    patterns from that matrix *X* , for example whether it contains hierarchical clusters.
    On the other hand, supervised learning algorithms require that the rows in *X*
    are associated with an array of labels or values *y* , so that those labels or
    values can be predicted on unseen features samples. In this chapter we will discuss
    ways to label financial data.
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: 在第二章中，我们讨论了如何从非结构化数据集中生成金融特征矩阵 *X* 。无监督学习算法可以从该特征矩阵 *X* 中学习模式，例如是否包含层次聚类。另一方面，有监督学习算法要求
    *X* 中的行与标签或值 *y* 数组相关联，以便可以对未见特征样本进行这些标签或值的预测。在本章中，我们将讨论标记金融数据的方法。
- en: '**3.2 The Fixed-Time Horizon Method**'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: '**3.2 固定时间范围方法**'
- en: As it relates to finance, virtually all ML papers label observations using the
    fixed-time horizon method. This method can be described as follows. Consider a
    features matrix *X* with *I* rows, { *X [*i*]* } [*i* = 1, …, *I*] , drawn from
    some bars with index *t* = 1, …, *T* , where *I* ≤ *T* . Chapter 2, Section 2.5
    discussed sampling methods that produce the set of features { *X [*i*]* } [*i*
    = 1, …, *I*] . An observation *X [*i*]* is assigned a label *y [*i*]* ∈ { − 1,
    0, 1},
  id: totrans-916
  prefs: []
  type: TYPE_NORMAL
  zh: 在金融领域，几乎所有的机器学习论文都使用固定时间范围方法对观察结果进行标记。该方法可以描述如下。考虑一个特征矩阵 *X* ，具有 *I* 行，{ *X
    [*i*]* } [*i* = 1, …, *I*] ，从某些以 *t* = 1, …, *T* 为索引的条形图中提取，其中 *I* ≤ *T* 。第二章第2.5节讨论了生成特征集
    { *X [*i*]* } [*i* = 1, …, *I*] 的采样方法。观察 *X [*i*]* 被分配一个标签 *y [*i*]* ∈ { − 1,
    0, 1}，
- en: '![](Image00599.jpg)'
  id: totrans-917
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00599.jpg)'
- en: where τ is a pre-defined constant threshold, *t [*i* , 0]* is the index of the
    bar immediately after *X [*i*]* takes place, *t [*i* , 0]* + *h* is the index
    of the *h* -th bar after *t [*i* , 0]* , and ![](Image00188.jpg) is the price
    return over a bar horizon *h* ,
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 τ 是预定义的常量阈值，*t [*i* , 0]* 是 *X [*i*]* 发生后紧接着的条形图索引，*t [*i* , 0]* + *h* 是
    *t [*i* , 0]* 后第 *h* 个条形图的索引，而 ![](Image00188.jpg) 是在条形图范围 *h* 内的价格回报，
- en: '![](Image00602.jpg)'
  id: totrans-919
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00602.jpg)'
- en: Because the literature almost always works with time bars, *h* implies a fixed-time
    horizon. The bibliography section lists multiple ML studies, of which Dixon et
    al. [2016] is a recent example of this labeling method. Despite its popularity,
    there are several reasons to avoid this approach in most cases. First, as we saw
    in Chapter 2, time bars do not exhibit good statistical properties. Second, the
    same threshold τ is applied regardless of the observed volatility. Suppose that
    τ = 1 *E* − 2, where sometimes we label an observation as *y [*i*]* = 1 subject
    to a realized bar volatility of ![](Image00207.jpg) (e.g., during the night session),
    and sometimes ![](Image00606.jpg) (e.g., around the open). The large majority
    of labels will be 0, even if return ![](Image00657.jpg) was predictable and statistically
    significant.
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
  zh: 因为文献几乎总是使用时间条形图，*h* 意味着一个固定时间范围。参考文献部分列出了多个机器学习研究，其中Dixon等人 [2016] 是这种标记方法的一个近期例子。尽管其流行，但在大多数情况下，有几个理由要避免这种方法。首先，正如我们在第二章中所看到的，时间条形图并不具有良好的统计性质。其次，无论观察到的波动性如何，都应用相同的阈值
    τ 。假设 τ = 1 *E* − 2，有时我们将观察标记为 *y [*i*]* = 1，基于实现的条形图波动性 ![](Image00207.jpg) （例如，在夜间交易时段），有时为
    ![](Image00606.jpg) （例如，在开盘时）。即使回报 ![](Image00657.jpg) 是可预测且统计显著的，大多数标签将是0。
- en: 'In other words, it is a very common error to label observations according to
    a fixed threshold on time bars. Here are a couple of better alternatives. First,
    label per a varying threshold ![](Image00610.jpg) , estimated using a rolling
    exponentially weighted standard deviation of returns. Second, use volume or dollar
    bars, as their volatilities are much closer to constant (homoscedasticity). But
    even these two improvements miss a key flaw of the fixed-time horizon method:
    the path followed by prices. Every investment strategy has stop-loss limits, whether
    they are self-imposed by the portfolio manager, enforced by the risk department,
    or triggered by a margin call. It is simply unrealistic to build a strategy that
    profits from positions that would have been stopped-out by the exchange. That
    virtually no publication accounts for that when labeling observations tells you
    something about the current state of the investment literature.'
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，根据固定的时间柱阈值来标记观察是一个非常常见的错误。这里有几个更好的替代方案。首先，按照变化的阈值标记 ![](Image00610.jpg)，该阈值是通过对收益的滚动指数加权标准差进行估算的。其次，使用成交量或美元柱，因为它们的波动率更接近恒定（同方差性）。但即使这两个改进也忽略了固定时间区间方法的一个关键缺陷：价格的路径。每个投资策略都有止损限制，无论是投资组合经理自设的，风险部门强制执行的，还是因保证金追缴而触发的。建立一种依赖于会被交易所强制平仓的头寸来获利的策略是极不现实的。几乎没有任何出版物在标记观察时考虑到这一点，这说明了当前投资文献的状态。
- en: '**3.3 Computing Dynamic Thresholds**'
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
  zh: '**3.3 计算动态阈值**'
- en: As argued in the previous section, in practice we want to set profit taking
    and stop-loss limits that are a function of the risks involved in a bet. Otherwise,
    sometimes we will be aiming too high ( ![](Image00733.jpg) ), and sometimes too
    low ( ![](Image00614.jpg) ), considering the prevailing volatility.
  id: totrans-923
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前一节所论述的，实际上我们希望设置的利润获取和止损限制是与下注风险相关的函数。否则，有时我们会目标过高（ ![](Image00733.jpg)），有时目标过低（
    ![](Image00614.jpg)），考虑到当前的波动率。
- en: Snippet 3.1 computes the daily volatility at intraday estimation points, applying
    a span of `span0` days to an exponentially weighted moving standard deviation.
    See the pandas documentation for details on the `pandas.Series.ewm` function.
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
  zh: 片段 3.1 在日内估计点计算每日波动率，应用`span0`天的跨度到指数加权移动标准差。有关`pandas.Series.ewm`函数的详细信息，请参见pandas文档。
- en: '**SNIPPET 3.1 DAILY VOLATILITY ESTIMATES**'
  id: totrans-925
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**片段 3.1 每日波动率估计**'
- en: '![](Image00615.jpg)'
  id: totrans-926
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00615.jpg)'
- en: We can use the output of this function to set default profit taking and stop-loss
    limits throughout the rest of this chapter.
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用该函数的输出在本章的其余部分设置默认的利润获取和止损限制。
- en: '**3.4 The Triple-Barrier Method**'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: '**3.4 三重障碍法**'
- en: 'Here I will introduce an alternative labeling method that I have not found
    in the literature. If you are an investment professional, I think you will agree
    that it makes more sense. I call it the triple-barrier method because it labels
    an observation according to the first barrier touched out of three barriers. First,
    we set two horizontal barriers and one vertical barrier. The two horizontal barriers
    are defined by profit-taking and stop-loss limits, which are a dynamic function
    of estimated volatility (whether realized or implied). The third barrier is defined
    in terms of number of bars elapsed since the position was taken (an expiration
    limit). If the upper barrier is touched first, we label the observation as a 1\.
    If the lower barrier is touched first, we label the observation as a −1\. If the
    vertical barrier is touched first, we have two choices: the sign of the return,
    or a 0\. I personally prefer the former as a matter of realizing a profit or loss
    within limits, but you should explore whether a 0 works better in your particular
    problems.'
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我将介绍一种我在文献中未找到的替代标记方法。如果你是一名投资专业人士，我想你会同意这更合理。我称之为三重障碍法，因为它根据接触的第一个障碍对观察进行标记，共有三个障碍。首先，我们设置两个水平障碍和一个垂直障碍。两个水平障碍由利润获取和止损限制定义，这些限制是估计波动率的动态函数（无论是实现的还是隐含的）。第三个障碍根据自持仓以来经过的柱数定义（到期限制）。如果首先触及上障碍，我们将观察标记为1。如果首先触及下障碍，我们将观察标记为−1。如果首先触及垂直障碍，我们有两个选择：收益的符号，或0。我个人更倾向于前者，因为这涉及在限制内实现利润或损失，但你应该探索在你的特定问题中0是否更有效。
- en: You may have noticed that the triple-barrier method is path-dependent. In order
    to label an observation, we must take into account the entire path spanning [
    *t [*i* , 0]* , *t [*i* , 0]* + *h* ], where *h* defines the vertical barrier
    (the expiration limit). We will denote *t [*i* , 1]* the time of the first barrier
    touch, and the return associated with the observed feature is ![](Image00618.jpg)
    . For the sake of clarity, *t [*i*  , 1] * ≤ *t [*i*  , 0] * + *h* and the horizontal
    barriers are not necessarily symmetric.
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能注意到三重障碍方法是路径依赖的。为了标记一个观察，我们必须考虑整个路径 [ *t [*i* , 0]* , *t [*i* , 0]* + *h*
    ]，其中 *h* 定义了垂直障碍（到期限制）。我们将 *t [*i* , 1]* 表示为第一次障碍触碰的时间，与观察特征相关的回报为 ![](Image00618.jpg)
    。为了清晰起见，*t [*i* , 1] * ≤ *t [*i* , 0] * + *h*，并且水平障碍不一定是对称的。
- en: 'Snippet 3.2 implements the triple-barrier method. The function receives four
    arguments:'
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: 片段 3.2 实现了三重障碍方法。该函数接收四个参数：
- en: '`close` : A pandas series of prices.'
  id: totrans-932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`close` : 一个价格的 pandas 系列。'
- en: '`events` : A pandas dataframe, with columns,'
  id: totrans-933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`events` : 一个 pandas 数据框，包含列，'
- en: '`t1` : The timestamp of vertical barrier. When the value is `np.nan` , there
    will not be a vertical barrier.'
  id: totrans-934
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`t1` : 垂直障碍的时间戳。当值为 `np.nan` 时，将没有垂直障碍。'
- en: '`trgt` : The unit width of the horizontal barriers.'
  id: totrans-935
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`trgt` : 水平障碍的单位宽度。'
- en: '`ptSl` : A list of two non-negative float values:'
  id: totrans-936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ptSl` : 一个包含两个非负浮点值的列表：'
- en: '`ptSl[0]` : The factor that multiplies `trgt` to set the width of the upper
    barrier. If 0, there will not be an upper barrier.'
  id: totrans-937
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ptSl[0]` : 乘以 `trgt` 设置上障碍宽度的因子。如果为0，则不会有上障碍。'
- en: '`ptSl[1]` : The factor that multiplies `trgt` to set the width of the lower
    barrier. If 0, there will not be a lower barrier.'
  id: totrans-938
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ptSl[1]` : 乘以 `trgt` 设置下障碍宽度的因子。如果为0，则不会有下障碍。'
- en: '`molecule` : A list with the subset of event indices that will be processed
    by a single thread. Its use will become clear later on in the chapter.'
  id: totrans-939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`molecule` : 一个包含将由单线程处理的事件索引子集的列表。其使用将在本章后面变得清晰。'
- en: '**SNIPPET 3.2 TRIPLE-BARRIER LABELING METHOD**'
  id: totrans-940
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**片段 3.2 三重障碍标记方法**'
- en: '![](Image00619.jpg)'
  id: totrans-941
  prefs:
  - PREF_BQ
  type: TYPE_IMG
  zh: '![](Image00619.jpg)'
- en: 'The output from this function is a pandas dataframe containing the timestamps
    (if any) at which each barrier was touched. As you can see from the previous description,
    the method considers the possibility that each of the three barriers may be disabled.
    Let us denote a barrier configuration by the triplet [ `pt,sl,t1` ], where a 0
    means that the barrier is inactive and a 1 means that the barrier is active. The
    possible eight configurations are:'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: 此函数的输出是一个包含每个障碍触碰时间戳（如果有）的 pandas 数据框。从之前的描述可以看出，该方法考虑了三个障碍可能被禁用的情况。我们用三元组 [
    `pt,sl,t1` ] 来表示障碍配置，其中0表示障碍不活跃，1表示障碍活跃。可能的八种配置为：
- en: 'Three useful configurations:'
  id: totrans-943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个有用的配置：
- en: '[1,1,1]: This is the standard setup, where we define three barrier exit conditions.
    We would like to realize a profit, but we have a maximum tolerance for losses
    and a holding period.'
  id: totrans-944
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1,1,1]: 这是标准配置，我们定义了三个障碍退出条件。我们希望实现利润，但对于损失有一个最大容忍度和持有期限。'
- en: '[0,1,1]: In this setup, we would like to exit after a number of bars, unless
    we are stopped-out.'
  id: totrans-945
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[0,1,1]: 在这个设置中，我们希望在若干柱后退出，除非被止损。'
- en: '[1,1,0]: Here we would like to take a profit as long as we are not stopped-out.
    This is somewhat unrealistic in that we are willing to hold the position for as
    long as it takes.'
  id: totrans-946
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1,1,0]: 在这里，我们希望在未被止损的情况下获利。这在一定程度上是不现实的，因为我们愿意持有头寸直到成功。'
- en: 'Three less realistic configurations:'
  id: totrans-947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 三个不太现实的配置：
- en: '[0,0,1]: This is equivalent to the fixed-time horizon method. It may still
    be useful when applied to volume-, dollar-, or information-driven bars, and multiple
    forecasts are updated within the horizon.'
  id: totrans-948
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[0,0,1]: 这等同于固定时间范围的方法。当应用于基于成交量、美元或信息驱动的柱状图时，仍然可能有用，并且在该范围内更新多个预测。'
- en: '[1,0,1]: A position is held until a profit is made or the maximum holding period
    is exceeded, without regard for the intermediate unrealized losses.'
  id: totrans-949
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1,0,1]: 持有一个头寸直到获利或超过最大持有期限，而不考虑中间未实现的损失。'
- en: '[1,0,0]: A position is held until a profit is made. It could mean being locked
    on a losing position for years.'
  id: totrans-950
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[1,0,0]: 持有一个头寸直到获利。这可能意味着在亏损头寸上锁定多年。'
- en: 'Two illogical configurations:'
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个不合逻辑的配置：
- en: '[0,1,0]: This is an aimless configuration, where we hold a position until we
    are stopped-out.'
  id: totrans-952
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[0,1,0]: 这是一个无目标配置，我们持有头寸直到被止损。'
- en: '[0,0,0]: There are no barriers. The position is locked forever, and no label
    is generated.'
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[0,0,0]：没有障碍。该位置永远被锁定，并且未生成任何标签。'
- en: '[Figure 3.1](text00000.html#filepos0000244523) shows two alternative configurations
    of the triple-barrier method. On the left, the configuration is [1,1,0], where
    the first barrier touched is the lower horizontal one. On the right, the configuration
    is [1,1,1], where the first barrier touched is the vertical one.'
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3.1](text00000.html#filepos0000244523)展示了三重障碍方法的两种替代配置。在左侧，配置为[1,1,0]，其中第一个触碰的障碍是下方的水平障碍。在右侧，配置为[1,1,1]，其中第一个触碰的障碍是垂直的。'
- en: '![](Image00621.jpg)'
  id: totrans-955
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00621.jpg)'
- en: '[**Figure 3.1**](text00000.html#filepos0000243978) Two alternative configurations
    of the triple-barrier method'
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: '[**图 3.1**](text00000.html#filepos0000243978) 三重障碍方法的两种替代配置'

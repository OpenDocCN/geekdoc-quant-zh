- en: '**Praise for** ***Advances in Financial Machine Learning***'
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: '**对** ***《金融机器学习进展》的赞誉***'
- en: In his new book *Advances in Financial Machine Learning* , noted financial scholar
    Marcos López de Prado strikes a well-aimed karate chop at the naive and often
    statistically overfit techniques that are so prevalent in the financial world
    today. He points out that not only are business-as-usual approaches largely impotent
    in today's high-tech finance, but in many cases they are actually prone to lose
    money. But López de Prado does more than just expose the mathematical and statistical
    sins of the finance world. Instead, he offers a technically sound roadmap for
    finance professionals to join the wave of machine learning. What is particularly
    refreshing is the author's empirical approach—his focus is on real-world data
    analysis, not on purely theoretical methods that may look pretty on paper but
    which, in many cases, are largely ineffective in practice. The book is geared
    to finance professionals who are already familiar with statistical data analysis
    techniques, but it is well worth the effort for those who want to do real state-of-the-art
    work in the field.”
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 在他的新书《金融机器学习进展》中，著名金融学者马尔科斯·洛佩斯·德·普拉多对当前金融界普遍存在的天真且通常统计过拟合的技术进行了精准的抨击。他指出，传统的业务方式在当今高科技金融领域几乎无能为力，而且在许多情况下，实际上更容易亏损。但洛佩斯·德·普拉多不仅仅是揭露金融世界的数学和统计错误。相反，他为金融专业人士提供了一条技术上可靠的路线图，以便他们能够加入机器学习的浪潮。特别令人耳目一新的是作者的实证方法——他的重点是现实世界数据分析，而不是那些在纸面上看起来漂亮但在实践中往往效果不佳的纯理论方法。这本书面向那些已经熟悉统计数据分析技术的金融专业人士，但对于那些想在该领域进行真正尖端工作的读者而言，努力阅读也是非常值得的。”
- en: '**Dr. David H. Bailey** , former Complex Systems Lead,'
  id: totrans-2
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**大卫·H·贝利博士**，前复杂系统主管，'
- en: Lawrence Berkeley National Laboratory. Co-discoverer of the
  id: totrans-3
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 劳伦斯·伯克利国家实验室。共同发现者
- en: BBP spigot algorithm
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: BBP水龙头算法
- en: “Finance has evolved from a compendium of heuristics based on historical financial
    statements to a highly sophisticated scientific discipline relying on computer
    farms to analyze massive data streams in real time. The recent highly impressive
    advances in machine learning (ML) are fraught with both promise and peril when
    applied to modern finance. While finance offers up the nonlinearities and large
    data sets upon which ML thrives, it also offers up noisy data and the human element
    which presently lie beyond the scope of standard ML techniques. To err is human,
    but if you really want to f**k things up, use a computer. Against this background,
    Dr. López de Prado has written the first comprehensive book describing the application
    of modern ML to financial modeling. The book blends the latest technological developments
    in ML with critical life lessons learned from the author's decades of financial
    experience in leading academic and industrial institutions. I highly recommend
    this exciting book to both prospective students of financial ML and the professors
    and supervisors who teach and guide them.”
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “金融已从基于历史财务报表的启发式知识汇编发展为一种高度复杂的科学学科，依赖计算机农场实时分析海量数据流。最近在机器学习（ML）方面的显著进展，既充满了机遇，也伴随着风险，特别是在现代金融中应用时。虽然金融提供了非线性和大数据集，这些正是ML所擅长的，但它也提供了嘈杂的数据和目前超出标准ML技术范围的人为因素。人非圣贤，但如果你真的想搞砸事情，使用计算机吧。在这样的背景下，洛佩斯·德·普拉多博士撰写了第一本全面描述现代ML在金融建模中应用的书籍。该书将最新的ML技术发展与作者在领先学术和工业机构中数十年的金融经验中获得的重要人生教训融合在一起。我强烈推荐这本令人振奋的书，给那些希望学习金融ML的潜在学生，以及教授和指导他们的教师。”
- en: '**Prof. Peter Carr** , Chair of the Finance and Risk Engineering'
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**彼得·卡尔教授**，金融与风险工程系主任'
- en: Department, NYU Tandon School of Engineering
  id: totrans-7
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 纽约大学坦登工程学院
- en: “Marcos is a visionary who works tirelessly to advance the finance field. His
    writing is comprehensive and masterfully connects the theory to the application.
    It is not often you find a book that can cross that divide. This book is an essential
    read for both practitioners and technologists working on solutions for the investment
    community.”
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马尔科斯是一位有远见的人， tirelessly致力于推动金融领域的发展。他的著作全面而巧妙地将理论与应用连接起来。很少能找到一本能够跨越这一鸿沟的书。这本书对投资界的从业者和技术专家来说都是必读之作。”
- en: '**Landon Downs** , President and Cofounder, 1QBit'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**兰登·唐斯**，1QBit的总裁兼联合创始人'
- en: “Academics who want to understand modern investment management need to read
    this book. In it, Marcos López de Prado explains how portfolio managers use machine
    learning to derive, test, and employ trading strategies. He does this from a very
    unusual combination of an academic perspective and extensive experience in industry,
    allowing him to both explain in detail what happens in industry and to explain
    how it works. I suspect that some readers will find parts of the book that they
    do not understand or that they disagree with, but everyone interested in understanding
    the application of machine learning to finance will benefit from reading this
    book.”
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “想要理解现代投资管理的学者需要阅读这本书。在书中，马尔科斯·洛佩斯·德·普拉多解释了投资组合经理如何利用机器学习来推导、测试和运用交易策略。他从一种非常不寻常的视角出发，结合了学术视角和丰富的行业经验，使他能够详细解释行业内发生的事情以及其运作方式。我怀疑一些读者可能会发现书中某些部分不理解或与之意见相左，但所有对理解机器学习在金融中的应用感兴趣的人都会从阅读这本书中受益。”
- en: '**Prof. David Easley** , Cornell University. Chair of the'
  id: totrans-11
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**大卫·伊斯利教授**，康奈尔大学。主席'
- en: NASDAQ-OMX Economic Advisory Board
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 纳斯达克-OMX经济顾问委员会
- en: “For many decades, finance has relied on overly simplistic statistical techniques
    to identify patterns in data. Machine learning promises to change that by allowing
    researchers to use modern nonlinear and highly dimensional techniques, similar
    to those used in scientific fields like DNA analysis and astrophysics. At the
    same time, applying those machine learning algorithms to model financial problems would
    be dangerous. Financial problems require very distinct machine learning solutions.
    Dr. López de Prado's book is the first one to characterize what makes standard
    machine learning tools fail when applied to the field of finance, and the first
    one to provide practical solutions to unique challenges faced by asset managers.
    Everyone who wants to understand the future of finance should read this book.”
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “几十年来，金融一直依赖过于简单的统计技术来识别数据中的模式。机器学习有望改变这一现状，使研究人员能够使用现代非线性和高维技术，类似于在DNA分析和天体物理学等科学领域中使用的方法。同时，将这些机器学习算法应用于金融问题建模将是危险的。金融问题需要非常独特的机器学习解决方案。洛佩斯·德·普拉多博士的书是第一本界定了标准机器学习工具在金融领域应用失败原因的书，也是第一本提供针对资产管理者所面临独特挑战的实用解决方案的书。任何想要了解金融未来的人都应该阅读这本书。”
- en: '**Prof. Frank Fabozzi,** EDHEC Business School. Editor of'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**弗兰克·法博齐教授**，EDHEC商学院。编辑'
- en: '*The Journal of Portfolio Management*'
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*投资组合管理期刊*'
- en: '“This is a welcome departure from the knowledge hoarding that plagues quantitative
    finance. López de Prado defines for all readers the next era of finance: industrial
    scale scientific research powered by machines.”'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “这是一种令人欢迎的转变，摆脱了困扰量化金融的知识垄断。洛佩斯·德·普拉多为所有读者定义了金融的下一个时代：由机器驱动的工业规模科学研究。”
- en: '**John Fawcett** , Founder and CEO, Quantopian'
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**约翰·福塞特**，创始人兼首席执行官，Quantopian'
- en: “Marcos has assembled in one place an invaluable set of lessons and techniques
    for practitioners seeking to deploy machine learning techniques in finance. If
    machine learning is a new and potentially powerful weapon in the arsenal of quantitative
    finance, Marcos's insightful book is laden with useful advice to help keep a curious
    practitioner from going down any number of blind alleys, or shooting oneself in
    the foot.”
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马尔科斯将一系列宝贵的课程和技巧汇集在一起，为寻求在金融中应用机器学习技术的从业者提供指导。如果机器学习是量化金融工具箱中一种新的且潜在强大的武器，那么马尔科斯的深刻著作充满了有用的建议，可以帮助好奇的从业者避免误入歧途或自食其果。”
- en: '**Ross Garon** , Head of Cubist Systematic Strategies. Managing'
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**罗斯·加龙**，Cubist系统策略负责人。管理'
- en: Director, Point72 Asset Management
  id: totrans-20
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Point72资产管理公司董事
- en: “The first wave of quantitative innovation in finance was led by Markowitz optimization.
    Machine Learning is the second wave, and it will touch every aspect of finance.
    López de Prado's *Advances in Financial Machine Learning* is essential for readers
    who want to be ahead of the technology rather than being replaced by it.”
  id: totrans-21
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “金融领域的第一次定量创新浪潮是由马科维茨优化引领的。机器学习是第二次浪潮，它将影响金融的每个方面。洛佩斯·德·普拉多的*金融机器学习进展*对那些希望在技术前沿而不是被技术取代的读者来说至关重要。”
- en: '**Prof. Campbell Harvey** , Duke University. Former President of'
  id: totrans-22
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**坎贝尔·哈维教授**，杜克大学。前任会长'
- en: the American Finance Association
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 美国金融协会
- en: “How does one make sense of todays’ financial markets in which complex algorithms
    route orders, financial data is voluminous, and trading speeds are measured in
    nanoseconds? In this important book, Marcos López de Prado sets out a new paradigm
    for investment management built on machine learning. Far from being a “black box”
    technique, this book clearly explains the tools and process of financial machine
    learning. For academics and practitioners alike, this book fills an important
    gap in our understanding of investment management in the machine age.”
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “在当今金融市场中，复杂的算法负责路由订单，海量的金融数据，交易速度以纳秒为单位，该如何理解？在这本重要的书中，马科斯·洛佩斯·德·普拉多提出了一个建立在机器学习基础上的投资管理新范式。这本书清晰地解释了金融机器学习的工具和过程，远非“黑箱”技术。对于学术界和从业者而言，这本书填补了我们在机器时代投资管理理解中的重要空白。”
- en: '**Prof. Maureen O''Hara** , Cornell University. Former President of'
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**莫琳·欧哈拉教授**，康奈尔大学。前任会长'
- en: the American Finance Association
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 美国金融协会
- en: “Marcos López de Prado has produced an extremely timely and important book on
    machine learning. The author's academic and professional first-rate credentials
    shine through the pages of this book—indeed, I could think of few, if any, authors
    better suited to explaining both the theoretical and the practical aspects of
    this new and (for most) unfamiliar subject. Both novices and experienced professionals
    will find insightful ideas, and will understand how the subject can be applied
    in novel and useful ways. The Python code will give the novice readers a running start
    and will allow them to gain quickly a hands-on appreciation of the subject. Destined
    to become a classic in this rapidly burgeoning field.”
  id: totrans-27
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “马科斯·洛佩斯·德·普拉多出版了一本极为及时且重要的机器学习书籍。作者的学术与职业一流资质在书页间熠熠生辉——确实，我很难想到更合适的作者来解释这个对于大多数人来说既新颖又陌生的主题的理论和实践方面。无论是新手还是经验丰富的专业人士都能找到富有洞察力的观点，并理解如何以新颖和实用的方式应用这一主题。Python
    代码将为初学者提供一个良好的起步，并使他们迅速获得对该主题的实际理解。这本书注定将在这一迅速发展的领域中成为经典。”
- en: '**Prof. Riccardo Rebonato** , EDHEC Business School. Former'
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**里卡多·雷博纳托教授**，EDHEC 商学院。前任'
- en: Global Head of Rates and FX Analytics at PIMCO
  id: totrans-29
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: PIMCO 全球利率与外汇分析主管
- en: “A tour de force on practical aspects of machine learning in finance, brimming
    with ideas on how to employ cutting-edge techniques, such as fractional differentiation
    and quantum computers, to gain insight and competitive advantage. A useful volume
    for finance and machine learning practitioners alike.”
  id: totrans-30
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “一本关于金融领域机器学习实际应用的力作，充满了如何使用尖端技术（如分数微分和量子计算机）获得洞察力和竞争优势的想法。对金融和机器学习从业者而言都是一本实用的书籍。”
- en: '**Dr. Collin P. Williams** , Head of Research, D-Wave Systems'
  id: totrans-31
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**科林·P·威廉姆斯博士**，D-Wave 系统公司研究主管'
- en: '**Advances in Financial Machine Learning**'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**金融机器学习进展**'
- en: '**MARCOS LÓPEZ DE PRADO**'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**马科斯·洛佩斯·德·普拉多**'
- en: '![](Image00527.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](Image00527.jpg)'
- en: 'Cover image: © Erikona/Getty Images'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 封面图像：© Erikona/Getty Images
- en: 'Cover design: Wiley'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 封面设计：Wiley
- en: Copyright © 2018 by John Wiley & Sons, Inc. All rights reserved.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 版权所有 © 2018 约翰·威利父子公司。保留所有权利。
- en: Published by John Wiley & Sons, Inc., Hoboken, New Jersey.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 由约翰·威利父子公司出版，位于新泽西州霍博肯。
- en: Published simultaneously in Canada.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 同时在加拿大出版。
- en: The views expressed in this book are the author's and do not necessarily reflect
    those of the organizations he is affiliated with.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 本书所表达的观点属于作者，未必反映其所隶属组织的观点。
- en: No part of this publication may be reproduced, stored in a retrieval system,
    or transmitted in any form or by any means, electronic, mechanical, photocopying,
    recording, scanning, or otherwise, except as permitted under Section 107 or 108
    of the 1976 United States Copyright Act, without either the prior written permission
    of the Publisher, or authorization through payment of the appropriate per-copy
    fee to the Copyright Clearance Center, Inc., 222 Rosewood Drive, Danvers, MA 01923,
    (978) 750-8400, fax (978) 646-8600, or on the Web at [www.copyright.com](http://www.copyright.com)
    . Requests to the Publisher for permission should be addressed to the Permissions
    Department, John Wiley & Sons, Inc., 111 River Street, Hoboken, NJ 07030, (201)
    748-6011, fax (201) 748-6008, or online at [www.wiley.com/go/permissions](http://www.wiley.com/go/permissions)
    .
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: 'Limit of Liability/Disclaimer of Warranty: While the publisher and author have
    used their best efforts in preparing this book, they make no representations or
    warranties with respect to the accuracy or completeness of the contents of this
    book and specifically disclaim any implied warranties of merchantability or fitness
    for a particular purpose. No warranty may be created or extended by sales representatives
    or written sales materials. The advice and strategies contained herein may not
    be suitable for your situation. You should consult with a professional where appropriate.
    Neither the publisher nor author shall be liable for any loss of profit or any
    other commercial damages, including but not limited to special, incidental, consequential,
    or other damages. The views expressed in this book are the author''s and do not
    necessarily reflect those of the organizations he is affiliated with.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: For general information on our other products and services or for technical
    support, please contact our Customer Care Department within the United States
    at (800) 762-2974, outside the United States at (317) 572-3993, or fax (317) 572-4002.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: Wiley publishes in a variety of print and electronic formats and by print-on-demand.
    Some material included with standard print versions of this book may not be included
    in e-books or in print-on-demand. If this book refers to media such as a CD or
    DVD that is not included in the version you purchased, you may download this material
    at [http://booksupport.wiley.com](http://booksupport.wiley.com) . For more information
    about Wiley products, visit [www.wiley.com](http://www.wiley.com) .
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: ISBN 978-1-119-48208-6 (Hardcover)
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: ISBN 978-1-119-48211-6 (ePDF)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: ISBN 978-1-119-48210-9 (ePub)
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Dedicated to the memory of my coauthor and friend,
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: Professor Jonathan M. Borwein, FRSC, FAAAS,
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: FBAS, FAustMS, FAA, FAMS, FRSNSW
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: (1951–2016)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: There are very few things which we know, which are not capable of being reduced
    to a mathematical reasoning. And when they cannot, it's a sign our knowledge of
    them is very small and confused. Where a mathematical reasoning can be had, it's
    as great a folly to make use of any other, as to grope for a thing in the dark,
    when you have a candle standing by you.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: — *Of the Laws of Chance* , Preface (1692)
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: John Arbuthnot (1667–1735)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: '**CONTENTS**'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: '[About the Author](text00000.html#filepos0000068138)'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PREAMBLE](text00000.html#filepos0000070128)'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 1 Financial Machine Learning as a Distinct Subject](text00000.html#filepos0000070518)'
  id: totrans-58
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.1 Motivation](text00000.html#filepos0000070783)'
  id: totrans-59
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.2 The Main Reason Financial Machine Learning Projects Usually Fail](text00000.html#filepos0000074463)'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.3 Book Structure](text00000.html#filepos0000079805)'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.4 Target Audience](text00000.html#filepos0000121449)'
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.5 Requisites](text00000.html#filepos0000123483)'
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.6 FAQs](text00000.html#filepos0000124825)'
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[1.7 Acknowledgments](text00000.html#filepos0000140518)'
  id: totrans-65
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00000.html#filepos0000143111)'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00000.html#filepos0000147831)'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00000.html#filepos0000149431)'
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Notes](text00000.html#filepos0000152288)'
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PART 1 DATA ANALYSIS](text00000.html#filepos0000153144)'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 2 Financial Data Structures](text00000.html#filepos0000153985)'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2.1 Motivation](text00000.html#filepos0000154227)'
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2.2 Essential Types of Financial Data](text00000.html#filepos0000154883)'
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2.3 Bars](text00000.html#filepos0000165027)'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2.4 Dealing with Multi-Product Series](text00000.html#filepos0000193959)'
  id: totrans-75
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[2.5 Sampling Features](text00000.html#filepos0000213591)'
  id: totrans-76
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00000.html#filepos0000222705)'
  id: totrans-77
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00000.html#filepos0000227013)'
  id: totrans-78
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 3 Labeling](text00000.html#filepos0000229506)'
  id: totrans-79
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.1 Motivation](text00000.html#filepos0000229731)'
  id: totrans-80
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.2 The Fixed-Time Horizon Method](text00000.html#filepos0000230568)'
  id: totrans-81
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.3 Computing Dynamic Thresholds](text00000.html#filepos0000235552)'
  id: totrans-82
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.4 The Triple-Barrier Method](text00000.html#filepos0000237025)'
  id: totrans-83
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.5 Learning Side and Size](text00001.html#filepos0000244731)'
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.6 Meta-Labeling](text00001.html#filepos0000250934)'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.7 How to Use Meta-Labeling](text00001.html#filepos0000254530)'
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.8 The Quantamental Way](text00001.html#filepos0000259348)'
  id: totrans-87
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[3.9 Dropping Unnecessary Labels](text00001.html#filepos0000262810)'
  id: totrans-88
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000264704)'
  id: totrans-89
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00001.html#filepos0000268469)'
  id: totrans-90
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Note](text00001.html#filepos0000278857)'
  id: totrans-91
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 4 Sample Weights](text00001.html#filepos0000279229)'
  id: totrans-92
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.1 Motivation](text00001.html#filepos0000279460)'
  id: totrans-93
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.2 Overlapping Outcomes](text00001.html#filepos0000280322)'
  id: totrans-94
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.3 Number of Concurrent Labels](text00001.html#filepos0000286034)'
  id: totrans-95
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.4 Average Uniqueness of a Label](text00001.html#filepos0000289143)'
  id: totrans-96
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.5 Bagging Classifiers and Uniqueness](text00001.html#filepos0000292458)'
  id: totrans-97
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.6 Return Attribution](text00001.html#filepos0000311001)'
  id: totrans-98
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.7 Time Decay](text00001.html#filepos0000313775)'
  id: totrans-99
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[4.8 Class Weights](text00001.html#filepos0000318480)'
  id: totrans-100
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000321336)'
  id: totrans-101
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00001.html#filepos0000325853)'
  id: totrans-102
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00001.html#filepos0000326690)'
  id: totrans-103
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 5 Fractionally Differentiated Features](text00001.html#filepos0000329259)'
  id: totrans-104
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.1 Motivation](text00001.html#filepos0000329512)'
  id: totrans-105
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.2 The Stationarity vs. Memory Dilemma](text00001.html#filepos0000330658)'
  id: totrans-106
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.3 Literature Review](text00001.html#filepos0000333813)'
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.4 The Method](text00001.html#filepos0000335994)'
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.5 Implementation](text00001.html#filepos0000345623)'
  id: totrans-109
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.6 Stationarity with Maximum Memory Preservation](text00001.html#filepos0000354132)'
  id: totrans-110
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[5.7 Conclusion](text00001.html#filepos0000359851)'
  id: totrans-111
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000361715)'
  id: totrans-112
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00001.html#filepos0000367476)'
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00001.html#filepos0000368610)'
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PART 2 MODELLING](text00001.html#filepos0000370348)'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 6 Ensemble Methods](text00001.html#filepos0000371207)'
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.1 Motivation](text00001.html#filepos0000371440)'
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.2 The Three Sources of Errors](text00001.html#filepos0000372131)'
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.3 Bootstrap Aggregation](text00001.html#filepos0000375734)'
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.4 Random Forest](text00001.html#filepos0000386869)'
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.5 Boosting](text00001.html#filepos0000392033)'
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.6 Bagging vs. Boosting in Finance](text00001.html#filepos0000393930)'
  id: totrans-122
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[6.7 Bagging for Scalability](text00001.html#filepos0000395477)'
  id: totrans-123
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000397874)'
  id: totrans-124
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00001.html#filepos0000400644)'
  id: totrans-125
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00001.html#filepos0000401555)'
  id: totrans-126
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Notes](text00001.html#filepos0000402540)'
  id: totrans-127
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 7 Cross-Validation in Finance](text00001.html#filepos0000404229)'
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7.1 Motivation](text00001.html#filepos0000404473)'
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7.2 The Goal of Cross-Validation](text00001.html#filepos0000405116)'
  id: totrans-130
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7.3 Why K-Fold CV Fails in Finance](text00001.html#filepos0000408213)'
  id: totrans-131
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7.4 A Solution: Purged K-Fold CV](text00001.html#filepos0000414858)'
  id: totrans-132
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[7.5 Bugs in Sklearn''s Cross-Validation](text00001.html#filepos0000426899)'
  id: totrans-133
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000428942)'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Bibliography](text00001.html#filepos0000432718)'
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 8 Feature Importance](text00001.html#filepos0000434781)'
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.1 Motivation](text00001.html#filepos0000435016)'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.2 The Importance of Feature Importance](text00001.html#filepos0000436227)'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.3 Feature Importance with Substitution Effects](text00001.html#filepos0000439835)'
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.4 Feature Importance without Substitution Effects](text00001.html#filepos0000447153)'
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.5 Parallelized vs. Stacked Feature Importance](text00001.html#filepos0000458286)'
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[8.6 Experiments with Synthetic Data](text00001.html#filepos0000462771)'
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Exercises](text00001.html#filepos0000469145)'
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00001.html#filepos0000473916)'
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Note](text00001.html#filepos0000475873)'
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 9 Hyper-Parameter Tuning with Cross-Validation](text00001.html#filepos0000476302)'
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[9.1 Motivation](text00001.html#filepos0000476563)'
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[9.2 Grid Search Cross-Validation](text00001.html#filepos0000477372)'
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[9.3 Randomized Search Cross-Validation](text00001.html#filepos0000482285)'
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.3 随机搜索交叉验证](text00001.html#filepos0000482285)'
- en: '[9.4 Scoring and Hyper-parameter Tuning](text00002.html#filepos0000487673)'
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[9.4 评分和超参数调优](text00002.html#filepos0000487673)'
- en: '[Exercises](text00002.html#filepos0000492944)'
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000492944)'
- en: '[References](text00002.html#filepos0000498144)'
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000498144)'
- en: '[Bibliography](text00002.html#filepos0000498771)'
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000498771)'
- en: '[Notes](text00002.html#filepos0000501204)'
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000501204)'
- en: '[PART 3 BACKTESTING](text00002.html#filepos0000502254)'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第3部分 回测](text00002.html#filepos0000502254)'
- en: '[Chapter 10 Bet Sizing](text00002.html#filepos0000503563)'
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第10章 投注规模](text00002.html#filepos0000503563)'
- en: '[10.1 Motivation](text00002.html#filepos0000503791)'
  id: totrans-157
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.1 动机](text00002.html#filepos0000503791)'
- en: '[10.2 Strategy-Independent Bet Sizing Approaches](text00002.html#filepos0000504483)'
  id: totrans-158
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.2 独立于策略的投注规模方法](text00002.html#filepos0000504483)'
- en: '[10.3 Bet Sizing from Predicted Probabilities](text00002.html#filepos0000511123)'
  id: totrans-159
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.3 基于预测概率的投注规模](text00002.html#filepos0000511123)'
- en: '[10.4 Averaging Active Bets](text00002.html#filepos0000515184)'
  id: totrans-160
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.4 活动投注的平均值](text00002.html#filepos0000515184)'
- en: '[10.5 Size Discretization](text00002.html#filepos0000516129)'
  id: totrans-161
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.5 尺寸离散化](text00002.html#filepos0000516129)'
- en: '[10.6 Dynamic Bet Sizes and Limit Prices](text00002.html#filepos0000517478)'
  id: totrans-162
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[10.6 动态投注规模和限制价格](text00002.html#filepos0000517478)'
- en: '[Exercises](text00002.html#filepos0000528797)'
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000528797)'
- en: '[References](text00002.html#filepos0000534486)'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000534486)'
- en: '[Bibliography](text00002.html#filepos0000535154)'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000535154)'
- en: '[Notes](text00002.html#filepos0000536036)'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000536036)'
- en: '[Chapter 11 The Dangers of Backtesting](text00002.html#filepos0000536917)'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第11章 回测的危险](text00002.html#filepos0000536917)'
- en: '[11.1 Motivation](text00002.html#filepos0000537161)'
  id: totrans-168
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.1 动机](text00002.html#filepos0000537161)'
- en: '[11.2 Mission Impossible: The Flawless Backtest](text00002.html#filepos0000538378)'
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.2 不可能的任务：完美回测](text00002.html#filepos0000538378)'
- en: '[11.3 Even If Your Backtest Is Flawless, It Is Probably Wrong](text00002.html#filepos0000542210)'
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.3 即使你的回测完美，它也可能是错误的](text00002.html#filepos0000542210)'
- en: '[11.4 Backtesting Is Not a Research Tool](text00002.html#filepos0000543781)'
  id: totrans-171
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.4 回测不是研究工具](text00002.html#filepos0000543781)'
- en: '[11.5 A Few General Recommendations](text00002.html#filepos0000546295)'
  id: totrans-172
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.5 一些一般性建议](text00002.html#filepos0000546295)'
- en: '[11.6 Strategy Selection](text00002.html#filepos0000550515)'
  id: totrans-173
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[11.6 策略选择](text00002.html#filepos0000550515)'
- en: '[Exercises](text00002.html#filepos0000561842)'
  id: totrans-174
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000561842)'
- en: '[References](text00002.html#filepos0000563893)'
  id: totrans-175
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000563893)'
- en: '[Bibliography](text00002.html#filepos0000567031)'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[书目](text00002.html#filepos0000567031)'
- en: '[Note](text00002.html#filepos0000575507)'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注](text00002.html#filepos0000575507)'
- en: '[Chapter 12 Backtesting through Cross-Validation](text00002.html#filepos0000576018)'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第12章 通过交叉验证进行回测](text00002.html#filepos0000576018)'
- en: '[12.1 Motivation](text00002.html#filepos0000576272)'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.1 动机](text00002.html#filepos0000576272)'
- en: '[12.2 The Walk-Forward Method](text00002.html#filepos0000577230)'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.2 前行法](text00002.html#filepos0000577230)'
- en: '[12.3 The Cross-Validation Method](text00002.html#filepos0000581868)'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.3 交叉验证法](text00002.html#filepos0000581868)'
- en: '[12.4 The Combinatorial Purged Cross-Validation Method](text00002.html#filepos0000585069)'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.4 组合清理交叉验证法](text00002.html#filepos0000585069)'
- en: '[12.5 How Combinatorial Purged Cross-Validation Addresses Backtest Overfitting](text00002.html#filepos0000596425)'
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[12.5 组合清理交叉验证如何解决回测过拟合](text00002.html#filepos0000596425)'
- en: '[Exercises](text00002.html#filepos0000604305)'
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000604305)'
- en: '[References](text00002.html#filepos0000607704)'
  id: totrans-185
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000607704)'
- en: '[Chapter 13 Backtesting on Synthetic Data](text00002.html#filepos0000609384)'
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第13章 在合成数据上回测](text00002.html#filepos0000609384)'
- en: '[13.1 Motivation](text00002.html#filepos0000609631)'
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.1 动机](text00002.html#filepos0000609631)'
- en: '[13.2 Trading Rules](text00002.html#filepos0000610409)'
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.2 交易规则](text00002.html#filepos0000610409)'
- en: '[13.3 The Problem](text00002.html#filepos0000613748)'
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.3 问题](text00002.html#filepos0000613748)'
- en: '[13.4 Our Framework](text00002.html#filepos0000623154)'
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.4 我们的框架](text00002.html#filepos0000623154)'
- en: '[13.5 Numerical Determination of Optimal Trading Rules](text00002.html#filepos0000627390)'
  id: totrans-191
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.5 最优交易规则的数值确定](text00002.html#filepos0000627390)'
- en: '[13.6 Experimental Results](text00002.html#filepos0000636545)'
  id: totrans-192
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.6 实验结果](text00002.html#filepos0000636545)'
- en: '[13.7 Conclusion](text00002.html#filepos0000673037)'
  id: totrans-193
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[13.7 结论](text00002.html#filepos0000673037)'
- en: '[Exercises](text00002.html#filepos0000675326)'
  id: totrans-194
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000675326)'
- en: '[References](text00002.html#filepos0000678781)'
  id: totrans-195
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000678781)'
- en: '[Notes](text00002.html#filepos0000681006)'
  id: totrans-196
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00002.html#filepos0000681006)'
- en: '[Chapter 14 Backtest Statistics](text00002.html#filepos0000682127)'
  id: totrans-197
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第14章 回测统计](text00002.html#filepos0000682127)'
- en: '[14.1 Motivation](text00002.html#filepos0000682364)'
  id: totrans-198
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.1 动机](text00002.html#filepos0000682364)'
- en: '[14.2 Types of Backtest Statistics](text00002.html#filepos0000683413)'
  id: totrans-199
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.2 回测统计的类型](text00002.html#filepos0000683413)'
- en: '[14.3 General Characteristics](text00002.html#filepos0000684034)'
  id: totrans-200
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.3 一般特征](text00002.html#filepos0000684034)'
- en: '[14.4 Performance](text00002.html#filepos0000689407)'
  id: totrans-201
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.4 绩效](text00002.html#filepos0000689407)'
- en: '[14.5 Runs](text00002.html#filepos0000695945)'
  id: totrans-202
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.5 跑道](text00002.html#filepos0000695945)'
- en: '[14.6 Implementation Shortfall](text00002.html#filepos0000704198)'
  id: totrans-203
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.6 实施短缺](text00002.html#filepos0000704198)'
- en: '[14.7 Efficiency](text00002.html#filepos0000705735)'
  id: totrans-204
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.7 效率](text00002.html#filepos0000705735)'
- en: '[14.8 Classification Scores](text00002.html#filepos0000715741)'
  id: totrans-205
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.8 分类分数](text00002.html#filepos0000715741)'
- en: '[14.9 Attribution](text00002.html#filepos0000723836)'
  id: totrans-206
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[14.9 归因](text00002.html#filepos0000723836)'
- en: '[Exercises](text00002.html#filepos0000726720)'
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00002.html#filepos0000726720)'
- en: '[References](text00002.html#filepos0000731196)'
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00002.html#filepos0000731196)'
- en: '[Bibliography](text00003.html#filepos0000733327)'
  id: totrans-209
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00003.html#filepos0000733327)'
- en: '[Notes](text00003.html#filepos0000740485)'
  id: totrans-210
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00003.html#filepos0000740485)'
- en: '[Chapter 15 Understanding Strategy Risk](text00003.html#filepos0000741410)'
  id: totrans-211
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第15章 理解策略风险](text00003.html#filepos0000741410)'
- en: '[15.1 Motivation](text00003.html#filepos0000741655)'
  id: totrans-212
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.1 动机](text00003.html#filepos0000741655)'
- en: '[15.2 Symmetric Payouts](text00003.html#filepos0000742743)'
  id: totrans-213
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.2 对称支付](text00003.html#filepos0000742743)'
- en: '[15.3 Asymmetric Payouts](text00003.html#filepos0000749241)'
  id: totrans-214
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.3 非对称支付](text00003.html#filepos0000749241)'
- en: '[15.4 The Probability of Strategy Failure](text00003.html#filepos0000759813)'
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[15.4 策略失败的概率](text00003.html#filepos0000759813)'
- en: '[Exercises](text00003.html#filepos0000768696)'
  id: totrans-216
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000768696)'
- en: '[References](text00003.html#filepos0000773392)'
  id: totrans-217
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000773392)'
- en: '[Chapter 16 Machine Learning Asset Allocation](text00003.html#filepos0000774986)'
  id: totrans-218
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第16章 机器学习资产配置](text00003.html#filepos0000774986)'
- en: '[16.1 Motivation](text00003.html#filepos0000775237)'
  id: totrans-219
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.1 动机](text00003.html#filepos0000775237)'
- en: '[16.2 The Problem with Convex Portfolio Optimization](text00003.html#filepos0000776692)'
  id: totrans-220
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.2 凸组合优化的问题](text00003.html#filepos0000776692)'
- en: '[16.3 Markowitz''s Curse](text00003.html#filepos0000779564)'
  id: totrans-221
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.3 马科维茨的诅咒](text00003.html#filepos0000779564)'
- en: '[16.4 From Geometric to Hierarchical Relationships](text00003.html#filepos0000782378)'
  id: totrans-222
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.4 从几何关系到层次关系](text00003.html#filepos0000782378)'
- en: '[16.5 A Numerical Example](text00003.html#filepos0000807661)'
  id: totrans-223
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.5 数值示例](text00003.html#filepos0000807661)'
- en: '[16.6 Out-of-Sample Monte Carlo Simulations](text00003.html#filepos0000818590)'
  id: totrans-224
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.6 超出样本的蒙特卡洛模拟](text00003.html#filepos0000818590)'
- en: '[16.7 Further Research](text00003.html#filepos0000824738)'
  id: totrans-225
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.7 进一步研究](text00003.html#filepos0000824738)'
- en: '[16.8 Conclusion](text00003.html#filepos0000828570)'
  id: totrans-226
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.8 结论](text00003.html#filepos0000828570)'
- en: '[APPENDICES](text00003.html#filepos0000831910)'
  id: totrans-227
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[附录](text00003.html#filepos0000831910)'
- en: '[16.A.1 Correlation-based Metric](text00003.html#filepos0000832025)'
  id: totrans-228
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.1 基于相关性的度量](text00003.html#filepos0000832025)'
- en: '[16.A.2 Inverse Variance Allocation](text00003.html#filepos0000835480)'
  id: totrans-229
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.2 反向方差配置](text00003.html#filepos0000835480)'
- en: '[16.A.3 Reproducing the Numerical Example](text00003.html#filepos0000836832)'
  id: totrans-230
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.3 复制数值示例](text00003.html#filepos0000836832)'
- en: '[16.A.4 Reproducing the Monte Carlo Experiment](text00003.html#filepos0000838327)'
  id: totrans-231
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[16.A.4 复制蒙特卡洛实验](text00003.html#filepos0000838327)'
- en: '[Exercises](text00003.html#filepos0000839659)'
  id: totrans-232
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000839659)'
- en: '[References](text00003.html#filepos0000843310)'
  id: totrans-233
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000843310)'
- en: '[Notes](text00003.html#filepos0000848703)'
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00003.html#filepos0000848703)'
- en: '[PART 4 USEFUL FINANCIAL FEATURES](text00003.html#filepos0000849866)'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第4部分 有用的金融特征](text00003.html#filepos0000849866)'
- en: '[Chapter 17 Structural Breaks](text00003.html#filepos0000850574)'
  id: totrans-236
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第17章 结构性断裂](text00003.html#filepos0000850574)'
- en: '[17.1 Motivation](text00003.html#filepos0000850809)'
  id: totrans-237
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.1 动机](text00003.html#filepos0000850809)'
- en: '[17.2 Types of Structural Break Tests](text00003.html#filepos0000852108)'
  id: totrans-238
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.2 结构性断裂测试的类型](text00003.html#filepos0000852108)'
- en: '[17.3 CUSUM Tests](text00003.html#filepos0000853372)'
  id: totrans-239
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.3 CUSUM测试](text00003.html#filepos0000853372)'
- en: '[17.4 Explosiveness Tests](text00003.html#filepos0000860239)'
  id: totrans-240
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[17.4 爆炸性测试](text00003.html#filepos0000860239)'
- en: '[Exercises](text00003.html#filepos0000895025)'
  id: totrans-241
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习](text00003.html#filepos0000895025)'
- en: '[References](text00003.html#filepos0000898694)'
  id: totrans-242
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000898694)'
- en: '[Chapter 18 Entropy Features](text00003.html#filepos0000901244)'
  id: totrans-243
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第18章 熵特征](text00003.html#filepos0000901244)'
- en: '[18.1 Motivation](text00003.html#filepos0000901478)'
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.1 动机](text00003.html#filepos0000901478)'
- en: '[18.2 Shannon''s Entropy](text00003.html#filepos0000902479)'
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.2 香农熵](text00003.html#filepos0000902479)'
- en: '[18.3 The Plug-in (or Maximum Likelihood) Estimator](text00003.html#filepos0000907003)'
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.3 插件（或最大似然）估计器](text00003.html#filepos0000907003)'
- en: '[18.4 Lempel-Ziv Estimators](text00003.html#filepos0000910957)'
  id: totrans-247
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.4 兰佩尔-齐夫估计器](text00003.html#filepos0000910957)'
- en: '[18.5 Encoding Schemes](text00003.html#filepos0000922307)'
  id: totrans-248
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.5 编码方案](text00003.html#filepos0000922307)'
- en: '[18.6 Entropy of a Gaussian Process](text00003.html#filepos0000927410)'
  id: totrans-249
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.6 高斯过程的熵](text00003.html#filepos0000927410)'
- en: '[18.7 Entropy and the Generalized Mean](text00003.html#filepos0000929817)'
  id: totrans-250
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.7 熵与广义均值](text00003.html#filepos0000929817)'
- en: '[18.8 A Few Financial Applications of Entropy](text00003.html#filepos0000937381)'
  id: totrans-251
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[18.8 熵的一些金融应用](text00003.html#filepos0000937381)'
- en: '[Exercises](text00003.html#filepos0000951076)'
  id: totrans-252
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00003.html#filepos0000951076)'
- en: '[References](text00003.html#filepos0000957166)'
  id: totrans-253
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00003.html#filepos0000957166)'
- en: '[Bibliography](text00003.html#filepos0000961991)'
  id: totrans-254
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00003.html#filepos0000961991)'
- en: '[Note](text00003.html#filepos0000963140)'
  id: totrans-255
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注意](text00003.html#filepos0000963140)'
- en: '[Chapter 19 Microstructural Features](text00003.html#filepos0000963505)'
  id: totrans-256
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第19章 微观结构特征](text00003.html#filepos0000963505)'
- en: '[19.1 Motivation](text00003.html#filepos0000963747)'
  id: totrans-257
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.1 动机](text00003.html#filepos0000963747)'
- en: '[19.2 Review of the Literature](text00003.html#filepos0000964629)'
  id: totrans-258
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.2 文献回顾](text00003.html#filepos0000964629)'
- en: '[19.3 First Generation: Price Sequences](text00004.html#filepos0000966533)'
  id: totrans-259
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.3 第一代：价格序列](text00004.html#filepos0000966533)'
- en: '[19.4 Second Generation: Strategic Trade Models](text00004.html#filepos0000980046)'
  id: totrans-260
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.4 第二代：战略交易模型](text00004.html#filepos0000980046)'
- en: '[19.5 Third Generation: Sequential Trade Models](text00004.html#filepos0000992251)'
  id: totrans-261
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.5 第三代：顺序交易模型](text00004.html#filepos0000992251)'
- en: '[19.6 Additional Features from Microstructural Datasets](text00004.html#filepos0001000562)'
  id: totrans-262
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.6 微观结构数据集的附加特征](text00004.html#filepos0001000562)'
- en: '[19.7 What Is Microstructural Information?](text00004.html#filepos0001010555)'
  id: totrans-263
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[19.7 什么是微观结构信息？](text00004.html#filepos0001010555)'
- en: '[Exercises](text00004.html#filepos0001016132)'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001016132)'
- en: '[References](text00004.html#filepos0001024369)'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献列表](text00004.html#filepos0001024369)'
- en: '[PART 5 HIGH-PERFORMANCE COMPUTING RECIPES](text00004.html#filepos0001033677)'
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第5部分 高性能计算食谱](text00004.html#filepos0001033677)'
- en: '[Chapter 20 Multiprocessing and Vectorization](text00004.html#filepos0001034475)'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第20章 多处理与向量化](text00004.html#filepos0001034475)'
- en: '[20.1 Motivation](text00004.html#filepos0001034726)'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.1 动机](text00004.html#filepos0001034726)'
- en: '[20.2 Vectorization Example](text00004.html#filepos0001035757)'
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.2 向量化示例](text00004.html#filepos0001035757)'
- en: '[20.3 Single-Thread vs. Multithreading vs. Multiprocessing](text00004.html#filepos0001037784)'
  id: totrans-270
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.3 单线程与多线程与多处理](text00004.html#filepos0001037784)'
- en: '[20.4 Atoms and Molecules](text00004.html#filepos0001041072)'
  id: totrans-271
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.4 原子与分子](text00004.html#filepos0001041072)'
- en: '[20.5 Multiprocessing Engines](text00004.html#filepos0001051513)'
  id: totrans-272
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.5 多处理引擎](text00004.html#filepos0001051513)'
- en: '[20.6 Multiprocessing Example](text00004.html#filepos0001063528)'
  id: totrans-273
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[20.6 多处理示例](text00004.html#filepos0001063528)'
- en: '[Exercises](text00004.html#filepos0001069003)'
  id: totrans-274
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001069003)'
- en: '[Reference](text00004.html#filepos0001071440)'
  id: totrans-275
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00004.html#filepos0001071440)'
- en: '[Bibliography](text00004.html#filepos0001071768)'
  id: totrans-276
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考书目](text00004.html#filepos0001071768)'
- en: '[Notes](text00004.html#filepos0001073018)'
  id: totrans-277
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[注释](text00004.html#filepos0001073018)'
- en: '[Chapter 21 Brute Force and Quantum Computers](text00004.html#filepos0001074501)'
  id: totrans-278
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第21章 粗暴搜索与量子计算机](text00004.html#filepos0001074501)'
- en: '[21.1 Motivation](text00004.html#filepos0001074752)'
  id: totrans-279
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.1 动机](text00004.html#filepos0001074752)'
- en: '[21.2 Combinatorial Optimization](text00004.html#filepos0001075635)'
  id: totrans-280
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.2 组合优化](text00004.html#filepos0001075635)'
- en: '[21.3 The Objective Function](text00004.html#filepos0001078039)'
  id: totrans-281
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.3 目标函数](text00004.html#filepos0001078039)'
- en: '[21.4 The Problem](text00004.html#filepos0001081801)'
  id: totrans-282
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.4 问题](text00004.html#filepos0001081801)'
- en: '[21.5 An Integer Optimization Approach](text00004.html#filepos0001083348)'
  id: totrans-283
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.5 整数优化方法](text00004.html#filepos0001083348)'
- en: '[21.6 A Numerical Example](text00004.html#filepos0001091530)'
  id: totrans-284
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[21.6 数值示例](text00004.html#filepos0001091530)'
- en: '[Exercises](text00004.html#filepos0001094307)'
  id: totrans-285
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[练习题](text00004.html#filepos0001094307)'
- en: '[References](text00004.html#filepos0001097918)'
  id: totrans-286
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[参考文献](text00004.html#filepos0001097918)'
- en: '[Chapter 22 High-Performance Computational Intelligence and Forecasting Technologies](text00004.html#filepos0001099298)'
  id: totrans-287
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第22章 高性能计算智能与预测技术](text00004.html#filepos0001099298)'
- en: '[22.1 Motivation](text00004.html#filepos0001099723)'
  id: totrans-288
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.1 动机](text00004.html#filepos0001099723)'
- en: '[22.2 Regulatory Response to the Flash Crash of 2010](text00004.html#filepos0001101136)'
  id: totrans-289
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.2 对2010年闪电崩盘的监管响应](text00004.html#filepos0001101136)'
- en: '[22.3 Background](text00004.html#filepos0001102867)'
  id: totrans-290
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.3 背景](text00004.html#filepos0001102867)'
- en: '[22.4 HPC Hardware](text00004.html#filepos0001108331)'
  id: totrans-291
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[22.4 HPC 硬件](text00004.html#filepos0001108331)'
- en: '[22.5 HPC Software](text00004.html#filepos0001117874)'
  id: totrans-292
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.6 Use Cases](text00004.html#filepos0001126185)'
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.7 Summary and Call for Participation](text00004.html#filepos0001154614)'
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[22.8 Acknowledgments](text00004.html#filepos0001158907)'
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[References](text00004.html#filepos0001159700)'
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Notes](text00004.html#filepos0001169042)'
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Index](text00004.html#filepos0001170766)'
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[EULA](text00005.html#filepos0001245663)'
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**List of Tables**'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
- en: Chapter 1
  id: totrans-301
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 1.1**](text00000.html#filepos0000092591)'
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 1.2**](text00000.html#filepos0000116919)'
  id: totrans-303
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 2
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 2.1**](text00000.html#filepos0000155381)'
  id: totrans-305
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 5
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 5.1**](text00001.html#filepos0000359372)'
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 13
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 13.1**](text00002.html#filepos0000637238)'
  id: totrans-309
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 14
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 14.1**](text00002.html#filepos0000719725)'
  id: totrans-311
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 16
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 16.1**](text00003.html#filepos0000812181)'
  id: totrans-313
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 17
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Table 17.1**](text00003.html#filepos0000872808)'
  id: totrans-315
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**List of Illustrations**'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
- en: Chapter 2
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 2.1**](text00000.html#filepos0000174100)'
  id: totrans-318
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 2.2**](text00000.html#filepos0000209254)'
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 2.3**](text00000.html#filepos0000221897)'
  id: totrans-320
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 3
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 3.1**](text00000.html#filepos0000244523)'
  id: totrans-322
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 3.2**](text00001.html#filepos0000256656)'
  id: totrans-323
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 4
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 4.1**](text00001.html#filepos0000290928)'
  id: totrans-325
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 4.2**](text00001.html#filepos0000310792)'
  id: totrans-326
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 4.3**](text00001.html#filepos0000318296)'
  id: totrans-327
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 5
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 5.1**](text00001.html#filepos0000341782)'
  id: totrans-329
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 5.2**](text00001.html#filepos0000342705)'
  id: totrans-330
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 5.3**](text00001.html#filepos0000350067)'
  id: totrans-331
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 5.4**](text00001.html#filepos0000353033)'
  id: totrans-332
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 5.5**](text00001.html#filepos0000357571)'
  id: totrans-333
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 6
  id: totrans-334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 6.1**](text00001.html#filepos0000380113)'
  id: totrans-335
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 6.2**](text00001.html#filepos0000384361)'
  id: totrans-336
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 6.3**](text00001.html#filepos0000393759)'
  id: totrans-337
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 7
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 7.1**](text00001.html#filepos0000407324)'
  id: totrans-339
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 7.2**](text00001.html#filepos0000421908)'
  id: totrans-340
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 7.3**](text00001.html#filepos0000425442)'
  id: totrans-341
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 8
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 8.1**](text00001.html#filepos0000456463)'
  id: totrans-343
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 8.2**](text00001.html#filepos0000467068)'
  id: totrans-344
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 8.3**](text00001.html#filepos0000468012)'
  id: totrans-345
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 8.4**](text00001.html#filepos0000468942)'
  id: totrans-346
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 9
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 9.1**](text00001.html#filepos0000486173)'
  id: totrans-348
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 9.2**](text00002.html#filepos0000491183)'
  id: totrans-349
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 10
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 10.1**](text00002.html#filepos0000514747)'
  id: totrans-351
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 10.2**](text00002.html#filepos0000517025)'
  id: totrans-352
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 10.3**](text00002.html#filepos0000528355)'
  id: totrans-353
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 11
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 11.1**](text00002.html#filepos0000560950)'
  id: totrans-355
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 11.2**](text00002.html#filepos0000561260)'
  id: totrans-356
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 12
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 12.1**](text00002.html#filepos0000588582)'
  id: totrans-358
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 12.2**](text00002.html#filepos0000590228)'
  id: totrans-359
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 13
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.1**](text00002.html#filepos0000656032)'
  id: totrans-361
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.2**](text00002.html#filepos0000656993)'
  id: totrans-362
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.3**](text00002.html#filepos0000657941)'
  id: totrans-363
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.4**](text00002.html#filepos0000658257)'
  id: totrans-364
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.5**](text00002.html#filepos0000658573)'
  id: totrans-365
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.6**](text00002.html#filepos0000660487)'
  id: totrans-366
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.7**](text00002.html#filepos0000661506)'
  id: totrans-367
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.8**](text00002.html#filepos0000662374)'
  id: totrans-368
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.9**](text00002.html#filepos0000663316)'
  id: totrans-369
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.10**](text00002.html#filepos0000663985)'
  id: totrans-370
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.11**](text00002.html#filepos0000664707)'
  id: totrans-371
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.12**](text00002.html#filepos0000665024)'
  id: totrans-372
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.13**](text00002.html#filepos0000665315)'
  id: totrans-373
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.14**](text00002.html#filepos0000665606)'
  id: totrans-374
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.15**](text00002.html#filepos0000665897)'
  id: totrans-375
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.16**](text00002.html#filepos0000668111)'
  id: totrans-376
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.17**](text00002.html#filepos0000669207)'
  id: totrans-377
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.18**](text00002.html#filepos0000670124)'
  id: totrans-378
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.19**](text00002.html#filepos0000670441)'
  id: totrans-379
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.20**](text00002.html#filepos0000670758)'
  id: totrans-380
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.21**](text00002.html#filepos0000671514)'
  id: totrans-381
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.22**](text00002.html#filepos0000671831)'
  id: totrans-382
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.23**](text00002.html#filepos0000672122)'
  id: totrans-383
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.24**](text00002.html#filepos0000672413)'
  id: totrans-384
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 13.25**](text00002.html#filepos0000672704)'
  id: totrans-385
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 14
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 14.1**](text00002.html#filepos0000702619)'
  id: totrans-387
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 14.2**](text00002.html#filepos0000710176)'
  id: totrans-388
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 14.3**](text00002.html#filepos0000712035)'
  id: totrans-389
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 15
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 15.1**](text00003.html#filepos0000747868)'
  id: totrans-391
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 15.2**](text00003.html#filepos0000757396)'
  id: totrans-392
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 15.3**](text00003.html#filepos0000759335)'
  id: totrans-393
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 16
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.1**](text00003.html#filepos0000780859)'
  id: totrans-395
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.2**](text00003.html#filepos0000784189)'
  id: totrans-396
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.3**](text00003.html#filepos0000797066)'
  id: totrans-397
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.4**](text00003.html#filepos0000808681)'
  id: totrans-398
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.5**](text00003.html#filepos0000809164)'
  id: totrans-399
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.6**](text00003.html#filepos0000809811)'
  id: totrans-400
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.7**](text00003.html#filepos0000822841)'
  id: totrans-401
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 16.8**](text00003.html#filepos0000827020)'
  id: totrans-402
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 17
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 17.1**](text00003.html#filepos0000869015)'
  id: totrans-404
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 17.2**](text00003.html#filepos0000885567)'
  id: totrans-405
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 17.3**](text00003.html#filepos0000886781)'
  id: totrans-406
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 18
  id: totrans-407
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 18.1**](text00003.html#filepos0000929074)'
  id: totrans-408
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 18.2**](text00003.html#filepos0000936629)'
  id: totrans-409
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 19
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 19.1**](text00004.html#filepos0000987148)'
  id: totrans-411
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 19.2**](text00004.html#filepos0000989018)'
  id: totrans-412
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 19.3**](text00004.html#filepos0000992042)'
  id: totrans-413
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 20
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 20.1**](text00004.html#filepos0001043753)'
  id: totrans-415
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 20.2**](text00004.html#filepos0001051311)'
  id: totrans-416
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 21
  id: totrans-417
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 21.1**](text00004.html#filepos0001085945)'
  id: totrans-418
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Chapter 22
  id: totrans-419
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.1**](text00004.html#filepos0001110151)'
  id: totrans-420
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.2**](text00004.html#filepos0001114364)'
  id: totrans-421
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.3**](text00004.html#filepos0001115509)'
  id: totrans-422
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.4**](text00004.html#filepos0001128887)'
  id: totrans-423
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.5**](text00004.html#filepos0001133138)'
  id: totrans-424
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.6**](text00004.html#filepos0001140885)'
  id: totrans-425
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.7**](text00004.html#filepos0001142959)'
  id: totrans-426
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.8**](text00004.html#filepos0001145415)'
  id: totrans-427
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.9**](text00004.html#filepos0001149194)'
  id: totrans-428
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '[**Figure 22.10**](text00004.html#filepos0001153202)'
  id: totrans-429
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**About the Author**'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
- en: '**Marcos López de Prado** manages several multibillion-dollar funds for institutional
    investors using machine learning algorithms. Over the past 20 years, his work
    has combined advanced mathematics with supercomputing technologies to deliver
    billions of dollars in net profits for investors and firms. A proponent of research
    by collaboration, Marcos has published with more than 30 leading academics, resulting
    in some of the most-read papers in finance.'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: '**马科斯·洛佩斯·德·普拉多**使用机器学习算法为机构投资者管理多个数十亿资金的基金。在过去的20年中，他的工作将高级数学与超级计算技术结合起来，为投资者和公司带来了数十亿美元的净利润。作为合作研究的倡导者，马科斯与30多位顶尖学者合作发表论文，结果是一些在金融领域阅读量最大的论文。'
- en: Since 2010, Marcos has also been a Research Fellow at Lawrence Berkeley National
    Laboratory (U.S. Department of Energy's Office of Science), where he conducts
    research focused on the mathematics of large-scale financial problems and high-performance
    computing at the Computational Research department. For the past seven years he
    has lectured at Cornell University, where he currently teaches a graduate course
    in financial big data and machine learning in the Operations Research department.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 自2010年以来，马科斯还在劳伦斯伯克利国家实验室（美国能源部科学办公室）担任研究员，他的研究重点是大规模金融问题的数学和计算研究部门的高性能计算。在过去的七年里，他在康奈尔大学授课，目前在运筹学系教授金融大数据和机器学习的研究生课程。
- en: 'Marcos is the recipient of the 1999 National Award for Academic Excellence,
    which the government of Spain bestows upon the best graduate student nationally.
    He earned a PhD in financial economics (2003) and a second PhD in mathematical
    finance (2011) from Universidad Complutense de Madrid. Between his two doctorates,
    Marcos was a postdoctoral research fellow of RCC at Harvard University for three
    years, during which he published more than a dozen articles in JCR-indexed scientific
    journals. Marcos has an ![](Image00526.jpg) #2 and an Einstein #4, according to
    the American Mathematical Society.'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '马科斯是1999年国家学术优秀奖的获得者，该奖项由西班牙政府授予全国最优秀的研究生。他于2003年获得马德里自治大学的金融经济学博士学位，并于2011年获得数学金融博士学位。在获得两个博士学位之间，马科斯在哈佛大学担任RCC的博士后研究员三年，期间他在JCR索引的科学期刊上发表了十多篇文章。根据美国数学学会的标准，马科斯拥有一个
    ![](Image00526.jpg) #2 和一个爱因斯坦 #4。'
- en: '**Preamble**'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '**前言**'
- en: '[Chapter 1 Financial Machine Learning as a Distinct Subject](text00000.html#filepos0000070518)'
  id: totrans-435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[第一章 金融机器学习作为一个独立的学科](text00000.html#filepos0000070518)'
- en: '**CHAPTER 1**'
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: '**第一章**'
- en: '**Financial Machine Learning as a Distinct Subject**'
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: '**金融机器学习作为一个独立的学科**'
- en: '**1.1 Motivation**'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.1 动机**'
- en: Machine learning (ML) is changing virtually every aspect of our lives. Today
    ML algorithms accomplish tasks that until recently only expert humans could perform.
    As it relates to finance, this is the most exciting time to adopt a disruptive
    technology that will transform how everyone invests for generations. This book
    explains scientifically sound ML tools that have worked for me over the course
    of two decades, and have helped me to manage large pools of funds for some of
    the most demanding institutional investors.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习（ML）正在改变我们生活的几乎每个方面。今天，机器学习算法可以完成直到最近只有专业人士才能完成的任务。与金融相关，这是采用一种颠覆性技术的最激动人心的时刻，这将改变每个人在未来几代人的投资方式。这本书解释了在我二十年的职业生涯中使用的科学合理的机器学习工具，帮助我管理一些最苛刻的机构投资者的大量资金。
- en: Books about investments largely fall in one of two categories. On one hand we
    find books written by authors who have not practiced what they teach. They contain
    extremely elegant mathematics that describes a world that does not exist. Just
    because a theorem is true in a logical sense does not mean it is true in a physical
    sense. On the other hand we find books written by authors who offer explanations
    absent of any rigorous academic theory. They misuse mathematical tools to describe
    actual observations. Their models are overfit and fail when implemented. Academic
    investigation and publication are divorced from practical application to financial
    markets, and many applications in the trading/investment world are not grounded
    in proper science.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 关于投资的书籍大致可分为两类。一方面，我们发现一些书籍的作者并没有实践他们所教授的内容。这些书籍包含了极其优雅的数学，描述了一个并不存在的世界。一个定理在逻辑上是真实的，并不意味着它在物理上也是真实的。另一方面，我们也看到一些书籍的作者提供的解释缺乏任何严谨的学术理论。他们错误使用数学工具来描述实际观察。他们的模型过拟合，在实施时失败。学术研究和出版与金融市场的实际应用脱节，而在交易/投资领域的许多应用并没有基于适当的科学。
- en: A first motivation for writing this book is to cross the proverbial divide that
    separates academia and the industry. I have been on both sides of the rift, and
    I understand how difficult it is to cross it and how easy it is to get entrenched
    on one side. Virtue is in the balance. This book will not advocate a theory merely
    because of its mathematical beauty, and will not propose a solution just because
    it appears to work. My goal is to transmit the kind of knowledge that only comes
    from experience, formalized in a rigorous manner.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 写这本书的首要动机是为了跨越学术界与行业之间的隐喻鸿沟。我曾在这两方面都有所经历，因此我了解跨越这一鸿沟有多么困难，以及在一侧固守有多么容易。美德在于平衡。这本书不会仅仅因为某个理论在数学上美观而加以倡导，也不会仅仅因为某个解决方案看起来有效而提出。我希望传递的是那种仅来自经验的知识，并以严谨的方式加以形式化。
- en: A second motivation is inspired by the desire that finance serves a purpose.
    Over the years some of my articles, published in academic journals and newspapers,
    have expressed my displeasure with the current role that finance plays in our
    society. Investors are lured to gamble their wealth on wild hunches originated
    by charlatans and encouraged by mass media. One day in the near future, ML will
    dominate finance, science will curtail guessing, and investing will not mean gambling.
    I would like the reader to play a part in that revolution.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个动机源于希望金融能服务于某种目的。多年来，我在学术期刊和报纸上发表的一些文章表达了我对金融在我们社会中当前角色的不满。投资者被诱导将财富押注于来自江湖骗子的荒谬猜测，并受到大众媒体的鼓励。在不久的将来，机器学习将主导金融，科学将限制猜测，投资不再意味着赌博。我希望读者能在这场革命中发挥一份力量。
- en: A third motivation is that many investors fail to grasp the complexity of ML
    applications to investments. This seems to be particularly true for discretionary
    firms moving into the “quantamental” space. I am afraid their high expectations
    will not be met, not because ML failed, but because they used ML incorrectly.
    Over the coming years, many firms will invest with off-the-shelf ML algorithms,
    directly imported from academia or Silicon Valley, and my forecast is that they
    will lose money (to better ML solutions). Beating the wisdom of the crowds is
    harder than recognizing faces or driving cars. With this book my hope is that
    you will learn how to solve some of the challenges that make finance a particularly
    difficult playground for ML, like backtest overfitting. Financial ML is a subject
    in its own right, related to but separate from standard ML, and this book unravels
    it for you.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个动机是许多投资者未能理解机器学习应用于投资的复杂性。这在向“量化基本面”领域转型的自由裁量公司中尤其明显。我担心他们的高期望将无法实现，这并不是因为机器学习失败，而是因为他们错误地使用了机器学习。在未来几年中，许多公司将使用从学术界或硅谷直接引进的现成机器学习算法进行投资，我的预测是，他们将因此亏损（相较于更好的机器学习解决方案）。战胜群体智慧比识别面孔或驾驶汽车要困难得多。通过这本书，我希望你能学会解决一些使金融成为机器学习特别困难的挑战，比如回测过拟合。金融机器学习是一个独立的主题，虽然与标准机器学习有关但又有所不同，这本书将为你解开这一主题。
- en: '**1.2 The Main Reason Financial Machine Learning Projects Usually Fail**'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2 金融机器学习项目通常失败的主要原因**'
- en: The rate of failure in quantitative finance is high, particularly so in financial
    ML. The few who succeed amass a large amount of assets and deliver consistently
    exceptional performance to their investors. However, that is a rare outcome, for
    reasons explained in this book. Over the past two decades, I have seen many faces
    come and go, firms started and shut down. In my experience, there is one critical
    mistake that underlies all those failures.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 定量金融的失败率很高，尤其是在金融机器学习领域。少数成功者积累了大量资产，并持续为投资者提供卓越的业绩。然而，这是一种罕见的结果，原因在本书中有说明。在过去的二十年中，我见过许多面孔来来往往，许多公司创立又关闭。根据我的经验，所有这些失败的根本原因在于一个关键错误。
- en: '**1.2.1 The Sisyphus Paradigm**'
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2.1 西西弗斯范式**'
- en: Discretionary portfolio managers (PMs) make investment decisions that do not
    follow a particular theory or rationale (if there were one, they would be systematic
    PMs). They consume raw news and analyses, but mostly rely on their judgment or
    intuition. They may rationalize those decisions based on some story, but there
    is always a story for every decision. Because nobody fully understands the logic
    behind their bets, investment firms ask them to work independently from one another,
    in silos, to ensure diversification. If you have ever attended a meeting of discretionary
    PMs, you probably noticed how long and aimless they can be. Each attendee seems
    obsessed about one particular piece of anecdotal information, and giant argumentative
    leaps are made without fact-based, empirical evidence. This does not mean that
    discretionary PMs cannot be successful. On the contrary, a few of them are. The
    point is, they cannot naturally work as a team. Bring 50 discretionary PMs together,
    and they will influence one another until eventually you are paying 50 salaries
    for the work of one. Thus it makes sense for them to work in silos so they interact
    as little as possible.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 自由裁量投资组合经理（PMs）做出的投资决策并不遵循特定的理论或理由（如果有，他们就是系统性PMs）。他们消费原始新闻和分析，但主要依赖于自己的判断或直觉。他们可能根据某个故事来合理化这些决策，但每个决策背后总有一个故事。因为没有人完全理解他们下注背后的逻辑，投资公司要求他们彼此独立工作，形成孤岛，以确保多样化。如果你曾经参加过自由裁量PM的会议，可能会注意到它们是多么漫长而无目的。每位与会者似乎对某个特定的轶事信息着迷，并在没有基于事实的实证证据的情况下做出巨大的争论跳跃。这并不意味着自由裁量PM不能成功。相反，其中一些确实能成功。关键是，他们不能自然地作为一个团队工作。把50个自由裁量PM放在一起，他们会互相影响，最终你为一人的工作支付50份薪水。因此，他们在孤岛中工作是有意义的，以尽量减少互动。
- en: Wherever I have seen that formula applied to quantitative or ML projects, it
    has led to disaster. The boardroom's mentality is, let us do with quants what
    has worked with discretionary PMs. Let us hire 50 PhDs and demand that each of
    them produce an investment strategy within six months. This approach always backfires,
    because each PhD will frantically search for investment opportunities and eventually
    settle for (1) a false positive that looks great in an overfit backtest or (2)
    standard factor investing, which is an overcrowded strategy with a low Sharpe
    ratio, but at least has academic support. Both outcomes will disappoint the investment
    board, and the project will be cancelled. Even if 5 of those PhDs identified a
    true discovery, the profits would not suffice to cover for the expenses of 50,
    so those 5 will relocate somewhere else, searching for a proper reward.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我在哪些定量或机器学习项目中看到这个公式的应用，最终都导致了灾难。董事会的心态是，让我们对定量分析师做与自由裁量基金经理相同的事情。让我们雇佣50名博士，并要求每个人在六个月内提出一个投资策略。这种方法总是适得其反，因为每位博士都会疯狂寻找投资机会，最终只能满足于（1）在过度拟合回测中看起来不错的假阳性，或（2）标准因子投资，这是一种竞争激烈且夏普比率低的策略，但至少有学术支持。这两种结果都会让投资委员会失望，项目将被取消。即使其中5名博士发现了真正的机会，利润也不足以覆盖50人的费用，因此这5人会转向其他地方，寻找适当的回报。
- en: '**1.2.2 The Meta-Strategy Paradigm**'
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.2.2 元策略范式**'
- en: 'If you have been asked to develop ML strategies on your own, the odds are stacked
    against you. It takes almost as much effort to produce one true investment strategy
    as to produce a hundred, and the complexities are overwhelming: data curation
    and processing, HPC infrastructure, software development, feature analysis, execution
    simulators, backtesting, etc. Even if the firm provides you with shared services
    in those areas, you are like a worker at a BMW factory who has been asked to build
    an entire car by using all the workshops around you. One week you need to be a
    master welder, another week an electrician, another week a mechanical engineer,
    another week a painter . . . You will try, fail, and circle back to welding. How
    does that make sense?'
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你被要求独自开发机器学习策略，胜算对你来说几乎是微乎其微的。产生一个真实投资策略所需的努力几乎与产生一百个相同，而复杂性是压倒性的：数据整理和处理、高性能计算基础设施、软件开发、特征分析、执行模拟器、回测等。即使公司在这些领域提供共享服务，你就像在BMW工厂工作的工人，被要求利用周围的所有车间建造一辆完整的汽车。一周你需要成为一名熟练的焊工，另一周成为电工，再一周成为机械工程师，又一周成为油漆工……你会尝试、失败，然后回到焊接。这样有什么意义呢？
- en: Every successful quantitative firm I am aware of applies the meta-strategy paradigm
    (López de Prado [2014]). Accordingly, this book was written as a research manual
    for teams, not for individuals. Through its chapters you will learn how to set
    up a research factory, as well as the various stations of the assembly line. The
    role of each quant is to specialize in a particular task, to become the best there
    is at it, while having a holistic view of the entire process. This book outlines
    the factory plan, where teamwork yields discoveries at a predictable rate, with
    no reliance on lucky strikes. This is how Berkeley Lab and other U.S. National
    Laboratories routinely make scientific discoveries, such as adding 16 elements
    to the periodic table, or laying out the groundwork for MRIs and PET scans. ^([1](text00000.html#filepos0000152402))
    No particular individual is responsible for these discoveries, as they are the
    outcome of team efforts where everyone contributes. Of course, setting up these
    financial laboratories takes time, and requires people who know what they are
    doing and have done it before. But what do you think has a higher chance of success,
    this proven paradigm of organized collaboration or the Sisyphean alternative of
    having every single quant rolling their immense boulder up the mountain?
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 我所了解的每一家成功的定量公司都应用了元策略范式（López de Prado [2014]）。因此，这本书是为团队而非个人编写的研究手册。通过本书的章节，你将学习如何建立一个研究工厂，以及装配线的各个站点。每个量化分析师的角色是专注于特定任务，成为该领域的最佳，同时对整个过程有整体的看法。这本书概述了工厂计划，其中团队合作以可预测的速度产生发现，而不依赖于运气。这就是伯克利实验室和其他美国国家实验室如何定期进行科学发现的方式，比如向元素周期表中添加16种元素，或为MRI和PET扫描奠定基础。^([1](text00000.html#filepos0000152402))
    没有特定个人对这些发现负责，因为它们是团队努力的结果，每个人都有所贡献。当然，建立这些金融实验室需要时间，并且需要那些知道自己在做什么并且曾经做过的人。但你认为，这种经过验证的有组织合作范式成功的可能性更高，还是每个量化分析师像西西弗斯一样把巨石推上山的徒劳替代方式更高？
- en: '**1.3 Book Structure**'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3 书籍结构**'
- en: This book disentangles a web of interconnected topics and presents them in an
    ordered fashion. Each chapter assumes that you have read the previous ones. Part
    1 will help you structure your financial data in a way that is amenable to ML
    algorithms. Part 2 discusses how to do research with ML algorithms on that data.
    Here the emphasis is on doing research and making an actual discovery through
    a scientific process, as opposed to searching aimlessly until some serendipitous
    (likely false) result pops up. Part 3 explains how to backtest your discovery
    and evaluate the probability that it is false.
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书解开了一系列相互关联的话题，并将其以有序的方式呈现。每一章都假设你已经阅读了前面的内容。第一部分将帮助你以适合机器学习（ML）算法的方式结构化你的财务数据。第二部分讨论如何使用这些数据进行机器学习算法研究。这里强调的是通过科学过程进行研究并取得实际发现，而不是无目的地搜索直到出现某个偶然（可能是错误的）结果。第三部分解释了如何对你的发现进行回测，并评估其错误的可能性。
- en: These three parts give an overview of the entire process, from data analysis
    to model research to discovery evaluation. With that knowledge, Part 4 goes back
    to the data and explains innovative ways to extract informative features. Finally,
    much of this work requires a lot of computational power, so Part 5 wraps up the
    book with some useful HPC recipes.
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: 这三个部分概述了整个过程，从数据分析到模型研究再到发现评估。有了这些知识，第4部分回到数据，解释创新的方法以提取信息特征。最后，这项工作需要大量的计算能力，因此第5部分用一些有用的高性能计算食谱结束本书。
- en: '**1.3.1 Structure by Production Chain**'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '**1.3.1 按生产链结构**'
- en: Mining gold or silver was a relatively straightforward endeavor during the 16th
    and 17th centuries. In less than a hundred years, the Spanish treasure fleet quadrupled
    the amount of precious metals in circulation throughout Europe. Those times are
    long gone, and today prospectors must deploy complex industrial methods to extract
    microscopic bullion particles out of tons of earth. That does not mean that gold
    production is at historical lows. On the contrary, nowadays miners extract 2,500
    metric tons of microscopic gold every year, compared to the average annual 1.54
    metric tons taken by the Spanish conquistadors throughout the entire 16th century!
    ^([2](text00000.html#filepos0000152653)) Visible gold is an infinitesimal portion
    of the overall amount of gold on Earth. *El Dorado* was always there . . . if
    only Pizarro could have exchanged the sword for a microscope.
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: 在16世纪和17世纪，开采黄金或白银是一项相对简单的事业。在不到一百年的时间里，西班牙的财富舰队使欧洲流通的贵金属数量增加了四倍。那样的时代早已过去，今天的勘探者必须采用复杂的工业方法，从吨土中提取微小的金属颗粒。但这并不意味着黄金生产处于历史低点。相反，如今矿工每年提取2,500公吨的微观黄金，而西班牙征服者在整个16世纪的平均年产量仅为1.54公吨！^([2](text00000.html#filepos0000152653))
    可见的黄金只是地球上黄金总量的微不足道的一部分。*埃尔多拉多*一直存在……如果皮萨罗能用显微镜交换他的剑就好了。
- en: The discovery of investment strategies has undergone a similar evolution. If
    a decade ago it was relatively common for an individual to discover macroscopic
    alpha (i.e., using simple mathematical tools like econometrics), currently the
    chances of that happening are quickly converging to zero. Individuals searching
    nowadays for macroscopic alpha, regardless of their experience or knowledge, are
    fighting overwhelming odds. The only true alpha left is microscopic, and finding
    it requires capital-intensive industrial methods. Just like with gold, microscopic
    alpha does not mean smaller overall profits. Microscopic alpha today is much more
    abundant than macroscopic alpha has ever been in history. There is a lot of money
    to be made, but you will need to use heavy ML tools.
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 投资策略的发现经历了类似的演变。如果说十年前个人发现宏观阿尔法（即使用简单的数学工具如计量经济学）相对普遍，那么目前这种机会正在迅速接近于零。如今，无论经验或知识如何，个人在寻找宏观阿尔法时都面临巨大的困难。唯一真正的阿尔法是微观的，找到它需要资本密集型的工业方法。就像黄金一样，微观阿尔法并不意味着整体利润更小。今天的微观阿尔法比历史上任何时候的宏观阿尔法都要丰富得多。这里有很多钱可赚，但你需要使用强大的机器学习工具。
- en: Let us review some of the stations involved in the chain of production within
    a modern asset manager.
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下现代资产管理公司生产链中涉及的一些环节。
- en: '***1.3.1.1 Data Curators***'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.1 数据策展人***'
- en: This is the station responsible for collecting, cleaning, indexing, storing,
    adjusting, and delivering all data to the production chain. The values could be
    tabulated or hierarchical, aligned or misaligned, historical or real-time feeds,
    etc. Team members are experts in market microstructure and data protocols such
    as FIX. They must develop the data handlers needed to understand the context in
    which that data arises. For example, was a quote cancelled and replaced at a different
    level, or cancelled without replacement? Each asset class has its own nuances.
    For instance, bonds are routinely exchanged or recalled; stocks are subjected
    to splits, reverse-splits, voting rights, etc.; futures and options must be rolled;
    currencies are not traded in a centralized order book. The degree of specialization
    involved in this station is beyond the scope of this book, and Chapter 1 will
    discuss only a few aspects of data curation.
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: 这是负责收集、清理、索引、存储、调整和将所有数据传递给生产链的站点。数据的值可以是表格形式或分层结构、对齐或不对齐、历史数据或实时数据馈送等。团队成员是市场微观结构和数据协议（如FIX）方面的专家。他们必须开发数据处理程序，以理解数据出现的上下文。例如，报价是被取消并在不同级别替换，还是被取消而没有替换？每个资产类别都有其自身的细微差别。例如，债券通常被交换或召回；股票受到拆分、反向拆分、投票权等的影响；期货和期权必须进行滚动；货币不在集中订单簿中交易。这个站点所涉及的专业化程度超出了本书的范围，第1章将仅讨论数据策展的几个方面。
- en: '***1.3.1.2 Feature Analysts***'
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.2 特征分析师***'
- en: 'This is the station responsible for transforming raw data into informative
    signals. These informative signals have some predictive power over financial variables.
    Team members are experts in information theory, signal extraction and processing,
    visualization, labeling, weighting, classifiers, and feature importance techniques.
    For example, feature analysts may discover that the probability of a sell-off
    is particularly high when: (1) quoted offers are cancelled-replaced with market
    sell orders, and (2) quoted buy orders are cancelled-replaced with limit buy orders
    deeper in the book. Such a finding is not an investment strategy on its own, and
    can be used in alternative ways: execution, monitoring of liquidity risk, market
    making, position taking, etc. A common error is to believe that feature analysts
    develop strategies. Instead, feature analysts collect and catalogue libraries
    of findings that can be useful to a multiplicity of stations. Chapters 2–9 and
    17–19 are dedicated to this all-important station.'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 这是负责将原始数据转换为信息信号的站点。这些信息信号对金融变量具有一定的预测能力。团队成员是信息理论、信号提取与处理、可视化、标注、加权、分类器和特征重要性技术方面的专家。例如，特征分析师可能会发现，当以下情况发生时，抛售的概率特别高：(1)
    报价被取消—替换为市场卖单，(2) 报价买单被取消—替换为在深层订单簿中的限价买单。这种发现本身并不是一种投资策略，可以以不同方式使用：执行、流动性风险监测、做市、建仓等。一个常见的错误是认为特征分析师会制定策略。相反，特征分析师收集和分类可以对多个站点有用的发现库。第2-9章和第17-19章专门讨论这个至关重要的站点。
- en: '***1.3.1.3 Strategists***'
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: '***1.3.1.3 策略师***'
- en: In this station, informative features are transformed into actual investment
    algorithms. A strategist will parse through the libraries of features looking
    for ideas to develop an investment strategy. These features were discovered by
    different analysts studying a wide range of instruments and asset classes. The
    goal of the strategist is to make sense of all these observations and to formulate
    a general theory that explains them. Therefore, the strategy is merely the experiment
    designed to test the validity of this theory. Team members are data scientists
    with a deep knowledge of financial markets and the economy. Remember, the theory
    needs to explain a large collection of important features. In particular, a theory
    must identify the economic mechanism that causes an agent to lose money to us.
    Is it a behavioral bias? Asymmetric information? Regulatory constraints? Features
    may be discovered by a black box, but the strategy is developed in a white box.
    Gluing together a number of catalogued features does not constitute a theory.
    Once a strategy is finalized, the strategists will prepare code that utilizes
    the full algorithm and submit that prototype to the backtesting team described
    below. Chapters 10 and 16 are dedicated to this station, with the understanding
    that it would be unreasonable for a book to reveal specific investment strategies.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
- en: '***1.3.1.4 Backtesters***'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
- en: This station assesses the profitability of an investment strategy under various
    scenarios. One of the scenarios of interest is how the strategy would perform
    if history repeated itself. However, the historical path is merely one of the
    possible outcomes of a stochastic process, and not necessarily the most likely
    going forward. Alternative scenarios must be evaluated, consistent with the knowledge
    of the weaknesses and strengths of a proposed strategy. Team members are data
    scientists with a deep understanding of empirical and experimental techniques.
    A good backtester incorporates in his analysis meta-information regarding how
    the strategy came about. In particular, his analysis must evaluate the probability
    of backtest overfitting by taking into account the number of trials it took to
    distill the strategy. The results of this evaluation will not be reused by other
    stations, for reasons that will become apparent in Chapter 11\. Instead, backtest
    results are communicated to management and not shared with anyone else. Chapters
    11–16 discuss the analyses carried out by this station.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
- en: '***1.3.1.5 Deployment Team***'
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
- en: The deployment team is tasked with integrating the strategy code into the production
    line. Some components may be reused by multiple strategies, especially when they
    share common features. Team members are algorithm specialists and hardcore mathematical
    programmers. Part of their job is to ensure that the deployed solution is logically
    identical to the prototype they received. It is also the deployment team's responsibility
    to optimize the implementation sufficiently, such that production latency is minimized.
    As production calculations often are time sensitive, this team will rely heavily
    on process schedulers, automation servers (Jenkins), vectorization, multithreading,
    multiprocessing, graphics processing unit (GPU-NVIDIA), distributed computing
    (Hadoop), high-performance computing (Slurm), and parallel computing techniques
    in general. Chapters 20–22 touch on various aspects interesting to this station,
    as they relate to financial ML.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
- en: '***1.3.1.6 Portfolio Oversight***'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
- en: 'Once a strategy is deployed, it follows a *cursus honorum* , which entails
    the following stages or lifecycle:'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
- en: '**Embargo:** Initially, the strategy is run on data observed after the end
    date of the backtest. Such a period may have been reserved by the backtesters,
    or it may be the result of implementation delays. If embargoed performance is
    consistent with backtest results, the strategy is promoted to the next stage.'
  id: totrans-471
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Paper trading:** At this point, the strategy is run on a live, real-time
    feed. In this way, performance will account for data parsing latencies, calculation
    latencies, execution delays, and other time lapses between observation and positioning.
    Paper trading will take place for as long as it is needed to gather enough evidence
    that the strategy performs as expected.'
  id: totrans-472
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Graduation:** At this stage, the strategy manages a real position, whether
    in isolation or as part of an ensemble. Performance is evaluated precisely, including
    attributed risk, returns, and costs.'
  id: totrans-473
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Re-allocation:** Based on the production performance, the allocation to graduated
    strategies is re-assessed frequently and automatically in the context of a diversified
    portfolio. In general, a strategy''s allocation follows a concave function. The
    initial allocation (at graduation) is small. As time passes, and the strategy
    performs as expected, the allocation is increased. Over time, performance decays,
    and allocations become gradually smaller.'
  id: totrans-474
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Decommission** : Eventually, all strategies are discontinued. This happens
    when they perform below expectations for a sufficiently extended period of time
    to conclude that the supporting theory is no longer backed by empirical evidence.'
  id: totrans-475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In general, it is preferable to release new variations of a strategy and run
    them in parallel with old versions. Each version will go through the above lifecycle,
    and old strategies will receive smaller allocations as a matter of diversification,
    while taking into account the degree of confidence derived from their longer track
    record.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
- en: '**1.3.2 Structure by Strategy Component**'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
- en: Many investment managers believe that the secret to riches is to implement an
    extremely complex ML algorithm. They are setting themselves up for a disappointment.
    If it was as easy as coding a state-of-the art classifier, most people in Silicon
    Valley would be billionaires. A successful investment strategy is the result of
    multiple factors. [Table 1.1](text00000.html#filepos0000092591) summarizes what
    chapters will help you address each of the challenges involved in developing a
    successful investment strategy.
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
- en: '[**Table 1.1**](text00000.html#filepos0000092358) **Overview of the Challenges
    Addressed by Every Chapter**'
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
- en: '| **Part** | **Chapter** | **Fin. data** | **Software** | **Hardware** | **Math**
    | **Meta-Strat** | **Overfitting** |'
  id: totrans-480
  prefs: []
  type: TYPE_TB
- en: '| 1 | 2 | X | X |  |  |  |'
  id: totrans-481
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
- en: '| 1 | 3 | X | X |  |  |  |'
  id: totrans-483
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
- en: '| 1 | 4 | X | X |  |  |  |'
  id: totrans-485
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
- en: '| 1 | 5 | X | X |  | X |  |'
  id: totrans-487
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
- en: '| 2 | 6 |'
  id: totrans-489
  prefs: []
  type: TYPE_TB
- en: '| X |'
  id: totrans-490
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
- en: '| 2 | 7 |  | X |  |  | X | X |'
  id: totrans-495
  prefs: []
  type: TYPE_TB
- en: '| 2 | 8 |  | X |  |  | X |'
  id: totrans-496
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
- en: '| 2 | 9 |  | X |  |  | X |'
  id: totrans-498
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
- en: '| 3 | 10 |'
  id: totrans-500
  prefs: []
  type: TYPE_TB
- en: '| X |'
  id: totrans-501
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
- en: '| X |'
  id: totrans-503
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
- en: '| 3 | 11 |  | X |  | X |  | X |'
  id: totrans-505
  prefs: []
  type: TYPE_TB
- en: '| 3 | 12 |  | X |  | X |  | X |'
  id: totrans-506
  prefs: []
  type: TYPE_TB
- en: '| 3 | 13 |  | X |  | X |  | X |'
  id: totrans-507
  prefs: []
  type: TYPE_TB
- en: '| 3 | 14 |  | X |  | X |  | X |'
  id: totrans-508
  prefs: []
  type: TYPE_TB
- en: '| 3 | 15 |  | X |  | X |  | X |'
  id: totrans-509
  prefs: []
  type: TYPE_TB
- en: '| 3 | 16 |'
  id: totrans-510
  prefs: []
  type: TYPE_TB
- en: '| X |'
  id: totrans-511
  prefs: []
  type: TYPE_TB
- en: '| X | X | X |'
  id: totrans-512
  prefs: []
  type: TYPE_TB
- en: '| 4 | 17 | X | X |'
  id: totrans-513
  prefs: []
  type: TYPE_TB
- en: '| X |'
  id: totrans-514
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
- en: '| 4 | 18 | X | X |  | X |  |'
  id: totrans-517
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
- en: '| 4 | 19 | X | X |'
  id: totrans-519
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
- en: '| 5 | 20 |  | X | X | X |  |'
  id: totrans-524
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
- en: '| 5 | 21 |'
  id: totrans-526
  prefs: []
  type: TYPE_TB
- en: '| X | X | X |'
  id: totrans-527
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
- en: '| 5 | 22 |'
  id: totrans-530
  prefs: []
  type: TYPE_TB
- en: '| X | X | X |'
  id: totrans-531
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
- en: '|'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
- en: 'Throughout the book, you will find many references to journal articles I have
    published over the years. Rather than repeating myself, I will often refer you
    to one of them, where you will find a detailed analysis of the subject at hand.
    All of my cited papers can be downloaded for free, in pre-print format, from my
    website: [www.QuantResearch.org](http://www.QuantResearch.org) .'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
- en: '***1.3.2.1 Data***'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: Garbage in, garbage out.'
  id: totrans-536
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution: Work with unique, hard-to-manipulate data. If you are the only user
    of this data, whatever its value, it is all for you.'
  id: totrans-537
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-538
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 2: Structure your data correctly.'
  id: totrans-539
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 3: Produce informative labels.'
  id: totrans-540
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 4 and 5: Model non-IID series properly.'
  id: totrans-541
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 17–19: Find predictive features.'
  id: totrans-542
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '***1.3.2.2 Software***'
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: A specialized task requires customized tools.'
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution: Develop your own classes. Using popular libraries means more competitors
    tapping the same well.'
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 2–22: Throughout the book, for each chapter, we develop our own functions.
    For your particular problems, you will have to do the same, following the examples
    in the book.'
  id: totrans-547
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '***1.3.2.3 Hardware***'
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: ML involves some of the most computationally intensive tasks in all
    of mathematics.'
  id: totrans-549
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution: Become an HPC expert. If possible, partner with a National Laboratory
    to build a supercomputer.'
  id: totrans-550
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-551
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 20 and 22: Learn how to think in terms of multiprocessing architectures.
    Whenever you code a library, structure it in such a way that functions can be
    called in parallel. You will find plenty of examples in the book.'
  id: totrans-552
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 21: Develop algorithms for quantum computers.'
  id: totrans-553
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '***1.3.2.4 Math***'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: Mathematical proofs can take years, decades, and centuries. No investor
    will wait that long.'
  id: totrans-555
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution: Use experimental math. Solve hard, intractable problems, not by proof
    but by experiment. For example, Bailey, Borwein, and Plouffe [1997] found a spigot
    algorithm for *π* (pi) without proof, against the prior perception that such mathematical
    finding would not be possible.'
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 5: Familiarize yourself with memory-preserving data transformations.'
  id: totrans-558
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 11–15: There are experimental methods to assess the value of your
    strategy, with greater reliability than a historical simulation.'
  id: totrans-559
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 16: An algorithm that is optimal in-sample can perform poorly out-of-sample.
    There is no mathematical proof for investment success. Rely on experimental methods
    to lead your research.'
  id: totrans-560
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 17 and 18: Apply methods to detect structural breaks, and quantify
    the amount of information carried by financial series.'
  id: totrans-561
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 20: Learn queuing methods for distributed computing so that you can
    break apart complex tasks and speed up calculations.'
  id: totrans-562
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 21: Become familiar with discrete methods, used among others by quantum
    computers, to solve intractable problems.'
  id: totrans-563
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '***1.3.2.5 Meta-Strategies***'
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: Amateurs develop individual strategies, believing that there is such
    a thing as a magical formula for riches. In contrast, professionals develop methods
    to mass-produce strategies. The money is not in making a car, it is in making
    a car factory.'
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution: Think like a business. Your goal is to run a research lab like a
    factory, where true discoveries are not born out of inspiration, but out of methodic
    hard work. That was the philosophy of physicist Ernest Lawrence, the founder of
    the first U.S. National Laboratory.'
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 7–9: Build a research process that identifies features relevant across
    asset classes, while dealing with multi-collinearity of financial features.'
  id: totrans-568
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 10: Combine multiple predictions into a single bet.'
  id: totrans-569
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 16: Allocate funds to strategies using a robust method that performs
    well out-of-sample.'
  id: totrans-570
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '***1.3.2.6 Overfitting***'
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
- en: 'Problem: Standard cross-validation methods fail in finance. Most discoveries
    in finance are false, due to multiple testing and selection bias.'
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Solution:'
  id: totrans-573
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Whatever you do, always ask yourself in what way you may be overfitting. Be
    skeptical about your own work, and constantly challenge yourself to prove that
    you are adding value.
  id: totrans-574
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Overfitting is unethical. It leads to promising outcomes that cannot be delivered.
    When done knowingly, overfitting is outright scientific fraud. The fact that many
    academics do it does not make it right: They are not risking anyone''s wealth,
    not even theirs.'
  id: totrans-575
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: It is also a waste of your time, resources, and opportunities. Besides, the
    industry only pays for out-of-sample returns. You will only succeed *after* you
    have created substantial wealth for your investors.
  id: totrans-576
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'How:'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapters 11–15: There are three backtesting paradigms, of which historical
    simulation is only one. Each backtest is always overfit to some extent, and it
    is critical to learn to quantify by how much.'
  id: totrans-578
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Chapter 16: Learn robust techniques for asset allocation that do not overfit
    in-sample signals at the expense of out-of-sample performance.'
  id: totrans-579
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**1.3.3 Structure by Common Pitfall**'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
- en: Despite its many advantages, ML is no panacea. The flexibility and power of
    ML techniques have a dark side. When misused, ML algorithms will confuse statistical
    flukes with patterns. This fact, combined with the low signal-to-noise ratio that
    characterizes finance, all but ensures that careless users will produce false
    discoveries at an ever-greater speed. This book exposes some of the most pervasive
    errors made by ML experts when they apply their techniques on financial datasets.
    Some of these pitfalls are listed in [Table 1.2](text00000.html#filepos0000116919)
    , with solutions that are explained in the indicated chapters.
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
- en: '[**Table 1.2**](text00000.html#filepos0000116751) **Common Pitfalls in Financial
    ML**'
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
- en: '| **#** | **Category** | **Pitfall** | **Solution** | **Chapter** |'
  id: totrans-583
  prefs: []
  type: TYPE_TB
- en: '| 1 | Epistemological | The Sisyphus paradigm | The meta-strategy paradigm
    | 1 |'
  id: totrans-584
  prefs: []
  type: TYPE_TB
- en: '| 2 | Epistemological | Research through backtesting | Feature importance analysis
    | 8 |'
  id: totrans-585
  prefs: []
  type: TYPE_TB
- en: '| 3 | Data processing | Chronological sampling | The volume clock | 2 |'
  id: totrans-586
  prefs: []
  type: TYPE_TB
- en: '| 4 | Data processing | Integer differentiation | Fractional differentiation
    | 5 |'
  id: totrans-587
  prefs: []
  type: TYPE_TB
- en: '| 5 | Classification | Fixed-time horizon labeling | The triple-barrier method
    | 3 |'
  id: totrans-588
  prefs: []
  type: TYPE_TB
- en: '| 6 | Classification | Learning side and size simultaneously | Meta-labeling
    | 3 |'
  id: totrans-589
  prefs: []
  type: TYPE_TB
- en: '| 7 | Classification | Weighting of non-IID samples | Uniqueness weighting;
    sequential bootstrapping | 4 |'
  id: totrans-590
  prefs: []
  type: TYPE_TB
- en: '| 8 | Evaluation | Cross-validation leakage | Purging and embargoing | 7, 9
    |'
  id: totrans-591
  prefs: []
  type: TYPE_TB
- en: '| 9 | Evaluation | Walk-forward (historical) backtesting | Combinatorial purged
    cross-validation | 11, 12 |'
  id: totrans-592
  prefs: []
  type: TYPE_TB
- en: '| 10 | Evaluation | Backtest overfitting | Backtesting on synthetic data; the
    deflated Sharpe ratio | 10–16 |'
  id: totrans-593
  prefs: []
  type: TYPE_TB
- en: '**1.4 Target Audience**'
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
- en: This book presents advanced ML methods specifically designed to address the
    challenges posed by financial datasets. By “advanced” I do not mean extremely
    difficult to grasp, or explaining the latest reincarnation of deep, recurrent,
    or convolutional neural networks. Instead, the book answers questions that senior
    researchers, who have experience applying ML algorithms to financial problems,
    will recognize as critical. If you are new to ML, and you do not have experience
    working with complex algorithms, this book may not be for you (yet). Unless you
    have confronted in practice the problems discussed in these chapters, you may
    have difficulty understanding the utility of solving them. Before reading this
    book, you may want to study several excellent introductory ML books published
    in recent years. I have listed a few of them in the references section.
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
- en: The core audience of this book is investment professionals with a strong ML
    background. My goals are that you monetize what you learn in this book, help us
    modernize finance, and deliver actual value for investors.
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
- en: 'This book also targets data scientists who have successfully implemented ML
    algorithms in a variety of fields outside finance. If you have worked at Google
    and have applied deep neural networks to face recognition, but things do not seem
    to work so well when you run your algorithms on financial data, this book will
    help you. Sometimes you may not understand the financial rationale behind some
    structures (e.g., meta-labeling, the triple-barrier method, fracdiff), but bear
    with me: Once you have managed an investment portfolio long enough, the rules
    of the game will become clearer to you, along with the meaning of these chapters.'
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
- en: '**1.5 Requisites**'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
- en: Investment management is one of the most multi-disciplinary areas of research,
    and this book reflects that fact. Understanding the various sections requires
    a practical knowledge of ML, market microstructure, portfolio management, mathematical
    finance, statistics, econometrics, linear algebra, convex optimization, discrete
    math, signal processing, information theory, object-oriented programming, parallel
    processing, and supercomputing.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
- en: Python has become the *de facto* standard language for ML, and I have to assume
    that you are an experienced developer. You must be familiar with scikit-learn
    (sklearn), pandas, numpy, scipy, multiprocessing, matplotlib and a few other libraries.
    Code snippets invoke functions from these libraries using their conventional prefix,
    pd for pandas, np for numpy, mpl for matplotlib, etc. There are numerous books
    on each of these libraries, and you cannot know enough about the specifics of
    each one. Throughout the book we will discuss some issues with their implementation,
    including unresolved bugs to keep in mind.
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
- en: '**1.6 FAQs**'
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
- en: '***How can ML algorithms be useful in finance?***'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
- en: Many financial operations require making decisions based on pre-defined rules,
    like option pricing, algorithmic execution, or risk monitoring. This is where
    the bulk of automation has taken place so far, transforming the financial markets
    into ultra-fast, hyper-connected networks for exchanging information. In performing
    these tasks, machines were asked to follow the rules as fast as possible. High-frequency
    trading is a prime example. See Easley, López de Prado, and O'Hara [2013] for
    a detailed treatment of the subject.
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
- en: 'The algorithmization of finance is unstoppable. Between June 12, 1968, and
    December 31, 1968, the NYSE was closed every Wednesday, so that back office could
    catch up with paperwork. Can you imagine that? We live in a different world today,
    and in 10 years things will be even better. Because the next wave of automation
    does not involve following rules, but making judgment calls. As emotional beings,
    subject to fears, hopes, and agendas, humans are not particularly good at making
    fact-based decisions, particularly when those decisions involve conflicts of interest.
    In those situations, investors are better served when a machine makes the calls,
    based on facts learned from hard data. This not only applies to investment strategy
    development, but to virtually every area of financial advice: granting a loan,
    rating a bond, classifying a company, recruiting talent, predicting earnings,
    forecasting inflation, etc. Furthermore, machines will comply with the law, always,
    when programmed to do so. If a dubious decision is made, investors can go back
    to the logs and understand exactly what happened. It is much easier to improve
    an algorithmic investment process than one relying entirely on humans.'
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
- en: '***How can ML algorithms beat humans at investing?***'
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
- en: Do you remember when people were certain that computers would never beat humans
    at chess? Or *Jeopardy!* ? Poker? Go? Millions of years of evolution (a genetic
    algorithm) have fine-tuned our ape brains to survive in a hostile 3-dimensional
    world where the laws of nature are static. Now, when it comes to identifying subtle
    patterns in a high-dimensional world, where the rules of the game change every
    day, all that fine-tuning turns out to be detrimental. An ML algorithm can spot
    patterns in a 100-dimensional world as easily as in our familiar 3-dimensional
    one. And while we all laugh when we see an algorithm make a silly mistake, keep
    in mind, algorithms have been around only a fraction of our millions of years.
    Every day they get better at this, we do not. Humans are slow learners, which
    puts us at a disadvantage in a fast-changing world like finance.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
- en: '***Does that mean that there is no space left for human investors?***'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
- en: Not at all. No human is better at chess than a computer. And no computer is
    better at chess than a human supported by a computer. Discretionary PMs are at
    a disadvantage when betting against an ML algorithm, but it is possible that the
    best results are achieved by combining discretionary PMs with ML algorithms. This
    is what has come to be known as the “quantamental” way. Throughout the book you
    will find techniques that can be used by quantamental teams, that is, methods
    that allow you to combine human guesses (inspired by fundamental variables) with
    mathematical forecasts. In particular, Chapter 3 introduces a new technique called
    meta-labeling, which allows you to add an ML layer on top of a discretionary one.
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
- en: '***How does financial ML differ from econometrics?***'
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
- en: Econometrics is the application of classical statistical methods to economic
    and financial series. The essential tool of econometrics is multivariate linear
    regression, an 18th-century technology that was already mastered by Gauss before
    1794 (Stigler [1981]). Standard econometric models do not learn. It is hard to
    believe that something as complex as 21st-century finance could be grasped by
    something as simple as inverting a covariance matrix.
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
- en: Every empirical science must build theories based on observation. If the statistical
    toolbox used to model these observations is linear regression, the researcher
    will fail to recognize the complexity of the data, and the theories will be awfully
    simplistic, useless. I have no doubt in my mind, econometrics is a primary reason
    economics and finance have not experienced meaningful progress over the past 70
    years (Calkin and López de Prado [2014a, 2014b]).
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
- en: For centuries, medieval astronomers made observations and developed theories
    about celestial mechanics. These theories never considered non-circular orbits,
    because they were deemed unholy and beneath God's plan. The prediction errors
    were so gross, that ever more complex theories had to be devised to account for
    them. It was not until Kepler had the temerity to consider non-circular (elliptical)
    orbits that all of the sudden a much simpler general model was able to predict
    the position of the planets with astonishing accuracy. What if astronomers had
    never considered non-circular orbits? Well . . . what if economists finally started
    to consider non-linear functions? Where is our Kepler? Finance does not have a
    *Principia* because no Kepler means no Newton.
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
- en: Financial ML methods do not replace theory. They guide it. An ML algorithm learns
    patterns in a high-dimensional space without being specifically directed. Once
    we understand what features are predictive of a phenomenon, we can build a theoretical
    explanation, which can be tested on an independent dataset. Students of economics
    and finance would do well enrolling in ML courses, rather than econometrics. Econometrics
    may be good enough to succeed in financial academia (for now), but succeeding
    in business requires ML.
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
- en: '***What do you say to people who dismiss ML algorithms as black boxes?***'
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
- en: 'If you are reading this book, chances are ML algorithms are white boxes to
    you. They are transparent, well-defined, crystal-clear, pattern-recognition functions.
    Most people do not have your knowledge, and to them ML is like a magician''s box:
    “Where did that rabbit come from? How are you tricking us, witch?” People mistrust
    what they do not understand. Their prejudices are rooted in ignorance, for which
    the Socratic remedy is simple: education. Besides, some of us enjoy using our
    brains, even though neuroscientists still have not figured out exactly how they
    work (a black box in itself).'
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
- en: From time to time you will encounter Luddites, who are beyond redemption. Ned
    Ludd was a weaver from Leicester, England, who in 1779 smashed two knitting frames
    in an outrage. With the advent of the industrial revolution, mobs infuriated by
    mechanization sabotaged and destroyed all machinery they could find. Textile workers
    ruined so much industrial equipment that Parliament had to pass laws making “machine
    breaking” a capital crime. Between 1811 and 1816, large parts of England were
    in open rebellion, to the point that there were more British troops fighting Luddites
    than there were fighting Napoleon on the Iberian Peninsula. The Luddite rebellion
    ended with brutal suppression through military force. Let us hope that the black
    box movement does not come to that.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
- en: '***Why don’t you discuss specific ML algorithms?***'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
- en: 'The book is agnostic with regards to the particular ML algorithm you choose.
    Whether you use convolutional neural networks, AdaBoost, RFs, SVMs, and so on,
    there are many shared generic problems you will face: data structuring, labeling,
    weighting, stationary transformations, cross-validation, feature selection, feature
    importance, overfitting, backtesting, etc. In the context of financial modeling,
    answering these questions is non-trivial, and framework-specific approaches need
    to be developed. That is the focus of this book.'
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
- en: '***What other books do you recommend on this subject?***'
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
- en: 'To my knowledge, this is the first book to provide a complete and systematic
    treatment of ML methods specific for finance: starting with a chapter dedicated
    to financial data structures, another chapter for labeling of financial series,
    another for sample weighting, time series differentiation,  . . . all the way
    to a full part devoted to the proper backtesting of investment strategies. To
    be sure, there are a handful of prior publications (mostly journal articles) that
    have applied standard ML to financial series, but that is not what this book offers.
    My goal has been to address the unique nuisances that make financial ML modeling
    particularly challenging. Like any new subject, it is fast evolving, and the book
    will be updated as major advances take place. Please contact me at mldp@quantresearch.org
    if there is any particular topic you would like to see treated in future editions.
    I will gladly add those chapters, while acknowledging the names of those readers
    who suggested them.'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
- en: '***I do not understand some of the sections and chapters. What should I do?***'
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
- en: My advice is that you start by reading the references listed at the end of the
    chapter. When I wrote the book, I had to assume the reader was familiar with the
    existing literature, or this book would lose its focus. If after reading those
    references the sections still do not make sense, the likely reason is that they
    are related to a problem well understood by investment professionals (even if
    there is no mention of it in the literature). For example, Chapter 2 will discuss
    effective methods to adjust futures prices for the roll, a problem known to most
    practitioners, even though it is rarely addressed in textbooks. I would encourage
    you to attend one of my regular seminars, and ask me your question at the end
    of my talk.
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
- en: '***Why is the book so fixated on backtest overfitting?***'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
- en: There are two reasons. First, backtest overfitting is arguably the most important
    open problem in all of mathematical finance. It is our equivalent to “P versus
    NP” in computer science. If there was a precise method to prevent backtest overfitting,
    we would be able to take backtests to the bank. A backtest would be almost as
    good as cash, rather than a sales pitch. Hedge funds would allocate funds to portfolio
    managers with confidence. Investors would risk less, and would be willing to pay
    higher fees. Regulators would grant licenses to hedge fund managers on the basis
    of reliable evidence of skill and knowledge, leaving no space for charlatans.
    In my opinion, an investments book that does not address this issue is not worth
    your time. Why would you read a book that deals with CAPM, APT, asset allocation
    techniques, risk management, etc. when the empirical results that support those
    arguments were selected without determining their false discovery probabilities?
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
- en: The second reason is that ML is a great weapon in your research arsenal, and
    a dangerous one to be sure. If backtest overfitting is an issue in econometric
    analysis, the flexibility of ML makes it a constant threat to your work. This
    is particularly the case in finance, because our datasets are shorter, with lower
    signal-to-noise ratio, and we do not have laboratories where we can conduct experiments
    while controlling for all environmental variables (López de Prado [2015]). An
    ML book that does not tackle these concerns can be more detrimental than beneficial
    to your career.
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
- en: '***What is the mathematical nomenclature of the book?***'
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
- en: When I started to write this book, I thought about assigning one symbol to each
    mathematical variable or function through all the chapters. That would work well
    if this book dealt with a single subject, like stochastic optimal control. However
    this book deals with a wide range of mathematical subjects, each with its own
    conventions. Readers would find it harder to consult references unless I also
    followed literature standards, which means that sometimes we must re-use symbols.
    To prevent any confusion, every chapter explains the nomenclature as it is being
    used. Most of the math is accompanied by a code snippet, so in case of doubt,
    please always follow the code.
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
- en: '***Who wrote Chapter 22?***'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
- en: A popular perception is that ML is a new fascinating technology invented or
    perfected at IBM, Google, Facebook, Amazon, Netflix, Tesla, etc. It is true that
    technology firms have become heavy users of ML, especially in recent years. Those
    firms sponsored some of the most publicized recent ML achievements (like *Jeopardy!*
    or Go), which may have reinforced that perception.
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
- en: However, the reader may be surprised to learn that, in fact, U.S. National Laboratories
    are among the research centers with the longest track record and experience in
    using ML. These centers utilized ML before it was cool, and they applied it successfully
    for many decades to produce astounding scientific discoveries. If predicting what
    movies Netflix should recommend you to watch next is a worthy endeavor, so it
    is to understand the rate of expansion of the universe, or forecasting what coastlines
    will be most impacted by global warming, or preventing a cataclysmic failure of
    our national power grid. These are just some of the amazing questions that institutions
    like Berkeley Lab work on every day, quietly but tirelessly, with the help of
    ML.
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
- en: In Chapter 22, Drs. Horst Simon and Kesheng Wu offer the perspective of a deputy
    director and a project leader at a major U.S. National Laboratory specializing
    in large-scale scientific research involving big data, high-performance computing,
    and ML. Unlike traditional university settings, National Laboratories achieve
    scientific breakthroughs by putting together interdisciplinary teams that follow
    well-devised procedures, with strong division of labor and responsibilities. That
    kind of research model by production chain was born at Berkeley Lab almost 90
    years ago and inspired the meta-strategy paradigm explained in Sections 1.2.2
    and 1.3.1.
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
- en: '**1.7 Acknowledgments**'
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
- en: Dr. Horst Simon, who is the deputy director of Lawrence Berkeley National Laboratory,
    accepted to co-author Chapter 22 with Dr. Kesheng Wu, who leads several projects
    at Berkeley Lab and the National Energy Research Scientific Computing Center (NERSC).
    ^([3](text00000.html#filepos0000152922)) ML requires extreme amounts of computing
    power, and my research would not have been possible without their generous support
    and guidance. In that chapter, Horst and Kesheng explain how Berkeley Lab satisfies
    the supercomputing needs of researchers worldwide, and the instrumental role played
    by ML and big data in today's scientific breakthroughs.
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
- en: Prof. Riccardo Rebonato was the first to read this manuscript and encouraged
    me to publish it. My many conversations with Prof. Frank Fabozzi on these topics
    were instrumental in shaping the book in its current form. Very few people in
    academia have Frank's and Riccardo's industry experience, and very few people
    in the industry have Riccardo's and Frank's academic pedigree.
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
- en: 'Over the past two decades, I have published nearly a hundred works on this
    book''s subject, including journal articles, books, chapters, lectures, source
    code, etc. In my latest count, these works were co-authored with more than 30
    leading experts in this field, including Prof. David H. Bailey (15 articles),
    Prof. David Easley (8 articles), Prof. Maureen O''Hara (8 articles), and Prof.
    Jonathan M. Borwein (6 articles). This book is to a great extent also theirs,
    for it would not have been possible without their support, insights, and continuous
    exchange of ideas over the years. It would take too long to give them proper credit,
    so instead I have published the following link where you can find our collective
    effort: [http://www.quantresearch.org/Co-authors.htm](http://www.quantresearch.org/Co-authors.htm)
    .'
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
- en: 'Last but not least, I would like to thank some of my research team members
    for proofreading the book and helping me produce some of the figures: Diego Aparicio,
    Dr. Lee Cohn, Dr. Michael Lewis, Dr. Michael Lock, Dr. Yaxiong Zeng, and Dr. Zhibai
    Zhang.'
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercises**'
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
- en: Are you aware of firms that have attempted to transition from discretionary
    investments to ML-led investments, or blending them into what they call “quantamental”
    funds?
  id: totrans-638
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Have they succeeded?
  id: totrans-639
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What are the cultural difficulties involved in this transition?
  id: totrans-640
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'What is the most important open problem in mathematical finance? If this problem
    was resolved, how could:'
  id: totrans-641
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: regulators use it to grant investment management licenses?
  id: totrans-642
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: investors use it to allocate funds?
  id: totrans-643
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: firms use it to reward researchers?
  id: totrans-644
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: According to *Institutional Investor,* only 17% of hedge fund assets are managed
    by quantitative firms. That is about $500 billion allocated in total across all
    quantitative funds as of June 2017, compared to $386 billion a year earlier. What
    do you think is driving this massive reallocation of assets?
  id: totrans-645
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: According to *Institutional Investor* ’s Rich List, how many quantitative investment
    firms are placed within the top 10 most profitable firms? How does that compare
    to the proportion of assets managed by quantitative funds?
  id: totrans-646
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: What is the key difference between econometric methods and ML? How would economics
    and finance benefit from updating their statistical toolkit?
  id: totrans-647
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Science has a very minimal understanding of how the human brain (or any brain)
    works. In this sense, the brain is an absolute black box. What do you think causes
    critics of financial ML to disregard it as a black box, while embracing discretionary
    investing?
  id: totrans-648
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: You read a journal article that describes an investment strategy. In a backtest,
    it achieves an annualized Sharpe ratio in excess of 2, with a confidence level
    of 95%. Using their dataset, you are able to reproduce their result in an independent
    backtest. Why is this discovery likely to be false?
  id: totrans-649
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Investment advisors are plagued with conflicts of interest while making decisions
    on behalf of their investors.
  id: totrans-650
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: ML algorithms can manage investments without conflict of interests. Why?
  id: totrans-651
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Suppose that an ML algorithm makes a decision that leads to a loss. The algorithm
    did what it was programmed to do, and the investor agreed to the terms of the
    program, as verified by forensic examination of the computer logs. In what sense
    is this situation better for the investor, compared to a loss caused by a discretionary
    PM's poor judgment? What is the investor's recourse in each instance?
  id: totrans-652
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Would it make sense for financial advisors to benchmark their decisions against
    the decisions made by such neutral agents?
  id: totrans-653
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**References**'
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
- en: 'Bailey, D., P. Borwein, and S. Plouffe (1997): “On the rapid computation of
    various polylogarithmic constants.” *Mathematics of Computation* , Vol. 66, No.
    218, pp. 903–913.'
  id: totrans-655
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Calkin, N. and M. López de Prado (2014a): “Stochastic flow diagrams.” *Algorithmic
    Finance* , Vol. 3, No. 1, pp. 21–42.'
  id: totrans-656
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Calkin, N. and M. López de Prado (2014b): “The topology of macro financial
    flows: An application of stochastic flow diagrams.” *Algorithmic Finance* , Vol.
    3, No. 1, pp. 43–85.'
  id: totrans-657
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2013): *High-Frequency Trading*
    , 1st ed. Risk Books.'
  id: totrans-658
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'López de Prado, M. (2014): “Quantitative meta-strategies.” *Practical Applications,
    Institutional Investor Journals* , Vol. 2, No. 3, pp. 1–3.'
  id: totrans-659
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'López de Prado, M. (2015): “The Future of Empirical Finance.” *Journal of Portfolio
    Management* , Vol. 41, No. 4, pp. 140–144.'
  id: totrans-660
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Stigler, Stephen M. (1981): “Gauss and the invention of least squares.” *Annals
    of Statistics* , Vol. 9, No. 3, pp. 465–474.'
  id: totrans-661
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Bibliography**'
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
- en: 'Abu-Mostafa, Y., M. Magdon-Ismail, and H. Lin (2012): *Learning from Data*
    , 1st ed. AMLBook.'
  id: totrans-663
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Akansu, A., S. Kulkarni, and D. Malioutov (2016): *Financial Signal Processing
    and Machine Learning* , 1st ed. John Wiley & Sons-IEEE Press.'
  id: totrans-664
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Aronson, D. and T. Masters (2013): *Statistically Sound Machine Learning for
    Algorithmic Trading of Financial Instruments: Developing Predictive-Model-Based
    Trading Systems Using TSSB* , 1st ed. CreateSpace Independent Publishing Platform.'
  id: totrans-665
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Boyarshinov, V. (2012): *Machine Learning in Computational Finance: Practical
    Algorithms for Building Artificial Intelligence Applications* , 1st ed. LAP LAMBERT
    Academic Publishing.'
  id: totrans-666
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Cerniglia, J., F. Fabozzi, and P. Kolm (2016): “Best practices in research
    for quantitative equity strategies.” *Journal of Portfolio Management* , Vol.
    42, No. 5, pp. 135–143.'
  id: totrans-667
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Chan, E. (2017): *Machine Trading: Deploying Computer Algorithms to Conquer
    the Markets* , 1st ed. John Wiley & Sons.'
  id: totrans-668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Gareth, J., D. Witten, T. Hastie, and R. Tibshirani (2013): *An Introduction
    to Statistical Learning: with Applications in R* , 1st ed. Springer.'
  id: totrans-669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Geron, A. (2017): *Hands-On Machine Learning with Scikit-Learn and TensorFlow:
    Concepts, Tools, and Techniques to Build Intelligent Systems* , 1st ed. O''Reilly
    Media.'
  id: totrans-670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Gyorfi, L., G. Ottucsak, and H. Walk (2012): *Machine Learning for Financial
    Engineering* , 1st ed. Imperial College Press.'
  id: totrans-671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Hackeling, G. (2014): *Mastering Machine Learning with Scikit-Learn* , 1st
    ed. Packt Publishing.'
  id: totrans-672
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Hastie, T., R. Tibshirani, and J. Friedman (2016): *The Elements of Statistical
    Learning* , 2nd ed. Springer-Verlag.'
  id: totrans-673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Hauck, T. (2014): *Scikit-Learn Cookbook* , 1st ed. Packt Publishing.'
  id: totrans-674
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'McNelis, P. (2005): *Neural Networks in Finance* , 1st ed. Academic Press.'
  id: totrans-675
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Raschka, S. (2015): *Python Machine Learning* , 1st ed. Packt Publishing.'
  id: totrans-676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Notes**'
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
- en: ^([1](text00000.html#filepos0000079189))    Berkeley Lab, [http://www.lbl.gov/about](http://www.lbl.gov/about)
    .
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
- en: ^([2](text00000.html#filepos0000081800))     [http://www.numbersleuth.org/worlds-gold/](http://www.numbersleuth.org/worlds-gold/)
    .
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
- en: ^([3](text00000.html#filepos0000140920))     [http://www.nersc.gov/about](http://www.nersc.gov/about)
    .
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
- en: '**PART 1**'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
- en: '**Data Analysis**'
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 2 Financial Data Structures](text00000.html#filepos0000153985)'
  id: totrans-683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 3 Labeling](text00000.html#filepos0000229506)'
  id: totrans-684
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 4 Sample Weights](text00001.html#filepos0000279229)'
  id: totrans-685
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[Chapter 5 Fractionally Differentiated Features](text00001.html#filepos0000329259)'
  id: totrans-686
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**CHAPTER 2**'
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
- en: '**Financial Data Structures**'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
- en: '**2.1 Motivation**'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter we will learn how to work with unstructured financial data,
    and from that to derive a structured dataset amenable to ML algorithms. In general,
    you do not want to consume someone else's processed dataset, as the likely outcome
    will be that you discover what someone else already knows or will figure out soon.
    Ideally your starting point is a collection of unstructured, raw data that you
    are going to process in a way that will lead to informative features.
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2 Essential Types of Financial Data**'
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
- en: Financial data comes in many shapes and forms. [Table 2.1](text00000.html#filepos0000155381)
    shows the four essential types of financial data, ordered from left to right in
    terms of increasing diversity. Next, we will discuss their different natures and
    applications.
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
- en: '[**Table 2.1**](text00000.html#filepos0000155100) **The Four Essential Types
    of Financial Data**'
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
- en: '| **Fundamental Data** | **Market Data** | **Analytics** | **Alternative Data**
    |'
  id: totrans-694
  prefs: []
  type: TYPE_TB
- en: '|'
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
- en: Assets
  id: totrans-696
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Liabilities
  id: totrans-697
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sales
  id: totrans-698
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Costs/earnings
  id: totrans-699
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Macro variables
  id: totrans-700
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: . . .
  id: totrans-701
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
- en: Price/yield/implied volatility
  id: totrans-703
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Volume
  id: totrans-704
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dividend/coupons
  id: totrans-705
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open interest
  id: totrans-706
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Quotes/cancellations
  id: totrans-707
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Aggressor side
  id: totrans-708
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: . . .
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
- en: Analyst recommendations
  id: totrans-711
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Credit ratings
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Earnings expectations
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: News sentiment
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: . . .
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
- en: Satellite/CCTV images
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Google searches
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Twitter/chats
  id: totrans-719
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Metadata
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: . . .
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '|'
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2.1 Fundamental Data**'
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
- en: Fundamental data encompasses information that can be found in regulatory filings
    and business analytics. It is mostly accounting data, reported quarterly. A particular
    aspect of this data is that it is reported with a lapse. You must confirm exactly
    when each data point was released, so that your analysis uses that information
    only after it was publicly available. A common beginner's error is to assume that
    this data was published at the end of the reporting period. That is never the
    case.
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
- en: For example, fundamental data published by Bloomberg is indexed by the last
    date included in the report, which precedes the date of the release (often by
    1.5 months). In other words, Bloomberg is assigning those values to a date when
    they were not known. You could not believe how many papers are published every
    year using misaligned fundamental data, especially in the factor-investing literature.
    Once you align the data correctly, a substantial number of findings in those papers
    cannot be reproduced.
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
- en: 'A second aspect of fundamental data is that it is often backfilled or reinstated.
    “Backfilling” means that missing data is assigned a value, even if those values
    were unknown at that time. A “reinstated value” is a corrected value that amends
    an incorrect initial release. A company may issue multiple corrections for a past
    quarter''s results long after the first publication, and data vendors may overwrite
    the initial values with their corrections. The problem is, the corrected values
    were not known on that first release date. Some data vendors circumvent this problem
    by storing multiple release dates and values for each variable. For example, we
    typically have three values for a single quarterly GDP release: the original released
    value and two monthly revisions. Still, it is very common to find studies that
    use the final released value and assign it to the time of the first release, or
    even to the last day in the reporting period. We will revisit this mistake, and
    its implications, when we discuss backtesting errors in Chapter 11.'
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
- en: Fundamental data is extremely regularized and low frequency. Being so accessible
    to the marketplace, it is rather unlikely that there is much value left to be
    exploited. Still, it may be useful in combination with other data types.
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2.2 Market Data**'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
- en: Market data includes all trading activity that takes place in an exchange (like
    CME) or trading venue (like MarketAxess). Ideally, your data provider has given
    you a raw feed, with all sorts of unstructured information, like FIX messages
    that allow you to fully reconstruct the trading book, or the full collection of
    BWIC (bids wanted in competition) responses. Every market participant leaves a
    characteristic footprint in the trading records, and with enough patience, you
    will find a way to anticipate a competitor's next move. For example, TWAP algorithms
    leave a very particular footprint that is used by predatory algorithms to front-run
    their end-of-day trading (usually hedging) activity (Easley, López de Prado, and
    O'Hara [2011]). Human GUI traders often trade in round lots, and you can use this
    fact to estimate what percentage of the volume is coming from them at a given
    point in time, then associate it with a particular market behavior.
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
- en: One appealing aspect of FIX data is that it is not trivial to process, unlike
    fundamental data. It is also very abundant, with over 10 TB being generated on
    a daily basis. That makes it a more interesting dataset for strategy research.
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2.3 Analytics**'
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
- en: You could think of analytics as derivative data, based on an original source,
    which could be fundamental, market, alternative, or even a collection of other
    analytics. What characterizes analytics is not the content of the information,
    but that it is not readily available from an original source, and that it has
    been processed for you in a particular way. Investment banks and research firms
    sell valuable information that results from in-depth analyses of companies' business
    models, activities, competition, outlook, etc. Some specialized firms sell statistics
    derived from alternative data, for example, the sentiment extracted from news
    reports and social media.
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
- en: A positive aspect of analytics is that the signal has been extracted for you
    from a raw source. The negative aspects are that analytics may be costly, the
    methodology used in their production may be biased or opaque, and you will not
    be the sole consumer.
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2.4 Alternative Data**'
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
- en: Kolanovic and Krishnamachari [2017] differentiate among alternative data produced
    by individuals (social media, news, web searches, etc.), business processes (transactions,
    corporate data, government agencies, etc.), and sensors (satellites, geolocation,
    weather, CCTV, etc.). Some popular satellite image or video feeds include monitoring
    of tankers, tunnel traffic activity, or parking lot occupancies.
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
- en: What truly characterizes alternative data is that it is primary information,
    that is, information that has not made it to the other sources. Before Exxon Mobile
    reported increased earnings, before its market price shot up, before analysts
    wrote their commentary of their latest filings, before all of that, there were
    movements of tankers and drillers and pipeline traffic. They happened months before
    those activities were reflected in the other data types. Two problematic aspects
    of alternative data are their cost and privacy concerns. All that spy craft is
    expensive, and the surveilled company may object, not to mention bystanders.
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
- en: Alternative data offers the opportunity to work with truly unique, hard-to-process
    datasets. Remember, data that is hard to store, manipulate, and operate is always
    the most promising. You will recognize that a dataset *may be* useful if it annoys
    your data infrastructure team. Perhaps your competitors did not try to use it
    for logistic reasons, gave up midway, or processed it incorrectly.
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
- en: '**2.3 Bars**'
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to apply ML algorithms on your unstructured data, we need to parse
    it, extract valuable information from it, and store those extractions in a regularized
    format. Most ML algorithms assume a table representation of the extracted data.
    Finance practitioners often refer to those tables’ rows as “bars.” We can distinguish
    between two categories of bar methods: (1) standard bar methods, which are common
    in the literature, and (2) more advanced, information-driven methods, which sophisticated
    practitioners use although they cannot be found (yet) in journal articles. In
    this section, we will discuss how to form those bars.'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
- en: '**2.3.1 Standard Bars**'
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
- en: Some bar construction methods are very popular in the financial industry, to
    the point that most data vendors’ APIs offer several of them. The purpose of these
    methods is to transform a series of observations that arrive at irregular frequency
    (often referred to as “inhomogeneous series”) into a homogeneous series derived
    from regular sampling.
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.1.1 Time Bars***'
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
- en: 'Time bars are obtained by sampling information at fixed time intervals, e.g.,
    once every minute. The information collected usually includes:'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
- en: Timestamp
  id: totrans-744
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Volume-weighted average price (VWAP)
  id: totrans-745
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open (i.e., first) price
  id: totrans-746
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Close (i.e., last) price
  id: totrans-747
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: High price
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Low price
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Volume traded, etc.
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Although time bars are perhaps the most popular among practitioners and academics,
    they should be avoided for two reasons. First, markets do not process information
    at a constant time interval. The hour following the open is much more active than
    the hour around noon (or the hour around midnight in the case of futures). As
    biological beings, it makes sense for humans to organize their day according to
    the sunlight cycle. But today's markets are operated by algorithms that trade
    with loose human supervision, for which CPU processing cycles are much more relevant
    than chronological intervals (Easley, López de Prado, and O'Hara [2011]). This
    means that time bars oversample information during low-activity periods and undersample
    information during high-activity periods. Second, time-sampled series often exhibit
    poor statistical properties, like serial correlation, heteroscedasticity, and
    non-normality of returns (Easley, López de Prado, and O'Hara [2012]). GARCH models
    were developed, in part, to deal with the heteroscedasticity associated with incorrect
    sampling. As we will see next, forming bars as a subordinated process of trading
    activity avoids this problem in the first place.
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.1.2 Tick Bars***'
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
- en: 'The idea behind tick bars is straightforward: The sample variables listed earlier
    (timestamp, VWAP, open price, etc.) will be extracted each time a pre-defined
    number of transactions takes place, e.g., 1,000 ticks. This allows us to synchronize
    sampling with a proxy of information arrival (the speed at which ticks are originated).'
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
- en: 'Mandelbrot and Taylor [1967] were among the first to realize that sampling
    as a function of the number of transactions exhibited desirable statistical properties:
    “Price changes over a fixed number of transactions may have a Gaussian distribution.
    Price changes over a fixed time period may follow a stable Paretian distribution,
    whose variance is infinite. Since the number of transactions in any time period
    is random, the above statements are not necessarily in disagreement.”'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
- en: Ever since Mandelbrot and Taylor's paper, multiple studies have confirmed that
    sampling as a function of trading activity allows us to achieve returns closer
    to IID Normal (see Ané and Geman [2000]). This is important, because many statistical
    methods rely on the assumption that observations are drawn from an IID Gaussian
    process. Intuitively, we can only draw inference from a random variable that is
    invariant, and tick bars allow for better inference than time bars.
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
- en: When constructing tick bars, you need to be aware of outliers. Many exchanges
    carry out an auction at the open and an auction at the close. This means that
    for a period of time, the order book accumulates bids and offers without matching
    them. When the auction concludes, a large trade is published at the clearing price,
    for an outsized amount. This auction trade could be the equivalent of thousands
    of ticks, even though it is reported as one tick.
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.1.3 Volume Bars***'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
- en: One problem with tick bars is that order fragmentation introduces some arbitrariness
    in the number of ticks. For example, suppose that there is one order sitting on
    the offer, for a size of 10\. If we buy 10 lots, our one order will be recorded
    as one tick. If instead on the offer there are 10 orders of size 1, our one buy
    will be recorded as 10 separate transactions. In addition, matching engine protocols
    can further split one fill into multiple artificial partial fills, as a matter
    of operational convenience.
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
- en: Volume bars circumvent that problem by sampling every time a pre-defined amount
    of the security's units (shares, futures contracts, etc.) have been exchanged.
    For example, we could sample prices every time a futures contract exchanges 1,000
    units, regardless of the number of ticks involved.
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
- en: It is hard to imagine these days, but back in the 1960s vendors rarely published
    volume data, as customers were mostly concerned with tick prices. After volume
    started to be reported as well, Clark [1973] realized that sampling returns by
    volume achieved even better statistical properties (i.e., closer to an IID Gaussian
    distribution) than sampling by tick bars. Another reason to prefer volume bars
    over time bars or tick bars is that several market microstructure theories study
    the interaction between prices and volume. Sampling as a function of one of these
    variables is a convenient artifact for these analyses, as we will find out in
    Chapter 19.
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.1.4 Dollar Bars***'
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
- en: Dollar bars are formed by sampling an observation every time a pre-defined market
    value is exchanged. Of course, the reference to dollars is meant to apply to the
    currency in which the security is denominated, but nobody refers to euro bars,
    pound bars, or yen bars (although gold bars would make for a fun pun).
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
- en: Let me illustrate the rationale behind dollar bars with a couple of examples.
    First, suppose that we wish to analyze a stock that has exhibited an appreciation
    of 100% over a certain period of time. Selling $1,000 worth of that stock at the
    end of the period requires trading half the number of shares it took to buy $1,000
    worth of that stock at the beginning. In other words, the number of shares traded
    is a function of the actual value exchanged. Therefore, it makes sense sampling
    bars in terms of dollar value exchanged, rather than ticks or volume, particularly
    when the analysis involves significant price fluctuations. This point can be verified
    empirically. If you compute tick bars and volume bars on E-mini S&P 500 futures
    for a given bar size, the number of bars per day will vary wildly over the years.
    That range and speed of variation will be reduced once you compute the number
    of dollar bars per day over the years, for a constant bar size. [Figure 2.1](text00000.html#filepos0000174100)
    plots the exponentially weighted average number of bars per day when we apply
    a fixed bar size on tick, volume, and dollar sampling methods.
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00522.jpg)'
  id: totrans-764
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 2.1**](text00000.html#filepos0000173735) Average daily frequency
    of tick, volume, and dollar bars'
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
- en: A second argument that makes dollar bars more interesting than time, tick, or
    volume bars is that the number of outstanding shares often changes multiple times
    over the course of a security's life, as a result of corporate actions. Even after
    adjusting for splits and reverse splits, there are other actions that will impact
    the amount of ticks and volumes, like issuing new shares or buying back existing
    shares (a very common practice since the Great Recession of 2008). Dollar bars
    tend to be robust in the face of those actions. Still, you may want to sample
    dollar bars where the size of the bar is not kept constant over time. Instead,
    the bar size could be adjusted dynamically as a function of the free-floating
    market capitalization of a company (in the case of stocks), or the outstanding
    amount of issued debt (in the case of fixed-income securities).
  id: totrans-766
  prefs: []
  type: TYPE_NORMAL
- en: '**2.3.2 Information-Driven Bars**'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
- en: The purpose of information-driven bars is to sample more frequently when new
    information arrives to the market. In this context, the word “information” is
    used in a market microstructural sense. As we will see in Chapter 19, market microstructure
    theories confer special importance to the persistence of imbalanced signed volumes,
    as that phenomenon is associated with the presence of informed traders. By synchronizing
    sampling with the arrival of informed traders, we may be able to make decisions
    before prices reach a new equilibrium level. In this section we will explore how
    to use various indices of information arrival to sample bars.
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.2.1 Tick Imbalance Bars***'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
- en: Consider a sequence of ticks {( *p [*t*]* , *v [*t*]* )} [*t* = 1, …, *T*] ,
    where *p [*t*]* is the price associated with tick *t* and *v [*t*]* is the volume
    associated with tick *t.* The so-called tick rule defines a sequence { *b [*t*]*
    } [*t* = 1, …, *T*] where
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00529.jpg)'
  id: totrans-771
  prefs: []
  type: TYPE_IMG
- en: with *b [*t*]* ∈ { − 1, 1}, and the boundary condition *b [0]* is set to match
    the terminal value *b [*T*]* from the immediately preceding bar. The idea behind
    tick imbalance bars (TIBs) is to sample bars whenever tick imbalances exceed our
    expectations. We wish to determine the tick index, *T* , such that the accumulation
    of signed ticks (signed according to the tick rule) exceeds a given threshold.
    Next, let us discuss the procedure to determine  *T.*
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
- en: First, we define the tick imbalance at time *T* as
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00530.jpg)'
  id: totrans-774
  prefs: []
  type: TYPE_IMG
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar,
    E [0] [θ [*T*] ] = E [0] [ *T* ](P[ *b [*t*]* = 1] − P[ *b [*t*]* = −1]), where
    E [0] [ *T* ] is the expected size of the tick bar, P[ *b [*t*]* = 1] is the unconditional
    probability that a tick is classified as a buy, and P[ *b [*t*]* = −1] is the
    unconditional probability that a tick is classified as a sell. Since P[ *b [*t*]*
    = 1] + P[ *b [*t*]* = −1] = 1, then E [0] [θ [*T*] ] = E [0] [ *T* ](2P[ *b [*t*]*
    = 1] − 1). In practice, we can estimate E [0] [ *T* ] as an exponentially weighted
    moving average of *T* values from prior bars, and (2P[ *b [*t*]* = 1] − 1) as
    an exponentially weighted moving average of *b [*t*]* values from prior bars.
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
- en: 'Third, we define a tick imbalance bar (TIB) as a *T* *-contiguous subset of
    ticks such that the following condition is met:'
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00532.jpg)'
  id: totrans-777
  prefs: []
  type: TYPE_IMG
- en: where the size of the expected imbalance is implied by |2P[ *b [*t*]* = 1] −
    1|. When θ [*T*] is more imbalanced than expected, a low *T* will satisfy these
    conditions. Accordingly, TIBs are produced more frequently under the presence
    of informed trading (asymmetric information that triggers one-side trading). In
    fact, we can understand TIBs as buckets of trades containing equal amounts of
    information (regardless of the volumes, prices, or ticks traded).
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.2.2 Volume/Dollar Imbalance Bars***'
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
- en: The idea behind volume imbalance bars (VIBs) and dollar imbalance bars (DIBs)
    is to extend the concept of tick imbalance bars (TIBs). We would like to sample
    bars when volume or dollar imbalances diverge from our expectations. Based on
    the same notions of tick rule and boundary condition *b [0]* as we discussed for
    TIBs, we will define a procedure to determine the index of the next sample, *T.*
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
- en: First, we define the imbalance at time *T* as
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00534.jpg)'
  id: totrans-782
  prefs: []
  type: TYPE_IMG
- en: where *v [*t*]* may represent either the number of securities traded (VIB) or
    the dollar amount exchanged (DIB). Your choice of *v [*t*]* is what determines
    whether you are sampling according to the former or the latter.
  id: totrans-783
  prefs: []
  type: TYPE_NORMAL
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00535.jpg)'
  id: totrans-785
  prefs: []
  type: TYPE_IMG
- en: Let us denote *v ^+* = P[ *b [*t*]* = 1]E [0] [ *v [*t*]* | *b [*t*]* = 1],
    *v ^−* = P[ *b [*t*]* = −1]E [0] [ *v [*t*]* | *b [*t*]* = −1], so that ![](Image00690.jpg)
    . You can think of *v ^+ * and *v ^− * as decomposing the initial expectation
    of *v [*t*] * into the component contributed by buys and the component contributed
    by sells. Then
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00539.jpg)'
  id: totrans-787
  prefs: []
  type: TYPE_IMG
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, and (2 *v ^+* − E [0] [ *v [*t*]* ]) as
    an exponentially weighted moving average of *b [*t*] v [*t*]* values from prior
    bars.
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
- en: 'Third, we define VIB or DIB as a *T* *-contiguous subset of ticks such that
    the following condition is met:'
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00540.jpg)'
  id: totrans-790
  prefs: []
  type: TYPE_IMG
- en: where the size of the expected imbalance is implied by |2 *v ^+* − E [0] [ *v
    [*t*]* ]|. When θ [*T*] is more imbalanced than expected, a low *T* will satisfy
    these conditions. This is the information-based analogue of volume and dollar
    bars, and like its predecessors, it addresses the same concerns regarding tick
    fragmentation and outliers. Furthermore, it also addresses the issue of corporate
    actions, because the above procedure does not rely on a constant bar size. Instead,
    the bar size is adjusted dynamically.
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.2.3 Tick Runs Bars***'
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
- en: TIBs, VIBs, and DIBs monitor order flow imbalance, as measured in terms of ticks,
    volumes, and dollar values exchanged. Large traders will sweep the order book,
    use iceberg orders, or slice a parent order into multiple children, all of which
    leave a trace of runs in the { *b [*t*]* } [*t* = 1, …, *T*] sequence. For this
    reason, it can be useful to monitor the *sequence* of buys in the overall volume,
    and take samples when that sequence diverges from our expectations.
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
- en: First, we define the length of the current run as
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00542.jpg)'
  id: totrans-795
  prefs: []
  type: TYPE_IMG
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00545.jpg)'
  id: totrans-797
  prefs: []
  type: TYPE_IMG
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, and P[ *b [*t*]* = 1] as an exponentially
    weighted moving average of the proportion of buy ticks from prior bars.
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
- en: 'Third, we define a tick runs bar (TRB) as a *T* *-contiguous subset of ticks
    such that the following condition is met:'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00547.jpg)'
  id: totrans-800
  prefs: []
  type: TYPE_IMG
- en: where the expected count of ticks from runs is implied by max{P[ *b [*t*]* =
    1], 1 − P[ *b [*t*]* = −1]}. When θ [*T*] exhibits more runs than expected, a
    low *T* will satisfy these conditions. Note that in this definition of runs we
    allow for sequence breaks. That is, instead of measuring the length of the longest
    sequence, we count the number of ticks of each side, without offsetting them (no
    imbalance). In the context of forming bars, this turns out to be a more useful
    definition than measuring sequence lengths.
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
- en: '***2.3.2.4 Volume/Dollar Runs Bars***'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
- en: Volume runs bars (VRBs) and dollar runs bars (DRBs) extend the above definition
    of runs to volumes and dollars exchanged, respectively. The intuition is that
    we wish to sample bars whenever the volumes or dollars traded by one side exceed
    our expectation for a bar. Following our customary nomenclature for the tick rule,
    we need to determine the index *T* of the last observation in the bar.
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
- en: First, we define the volumes or dollars associated with a run as
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00548.jpg)'
  id: totrans-805
  prefs: []
  type: TYPE_IMG
- en: where *v [*t*]* may represent either number of securities traded (VRB) or dollar
    amount exchanged (DRB). Your choice of *v [*t*]* is what determines whether you
    are sampling according to the former or the latter.
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
- en: Second, we compute the expected value of θ [*T*] at the beginning of the bar,
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00551.jpg)'
  id: totrans-808
  prefs: []
  type: TYPE_IMG
- en: In practice, we can estimate E [0] [ *T* ] as an exponentially weighted moving
    average of *T* values from prior bars, P[ *b [*t*]* = 1] as an exponentially weighted
    moving average of the proportion of buy ticks from prior bars, E [0] [ *v [*t*]*
    | *b [*t*]* = 1] as an exponentially weighted moving average of the buy volumes
    from prior bars, and E [0] [ *v [*t*]* | *b [*t*]* = −1] as an exponentially weighted
    moving average of the sell volumes from prior bars.
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
- en: 'Third, we define a volume runs bar (VRB) as a *T* *-contiguous subset of ticks
    such that the following condition is met:'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00200.jpg)'
  id: totrans-811
  prefs: []
  type: TYPE_IMG
- en: where the expected volume from runs is implied by max{P[ *b [*t*]* = 1]E [0]
    [ *v [*t*]* | *b [*t*]* = 1], (1 − P[ *b [*t*]* = 1])E [0] [ *v [*t*]* | *b [*t*]*
    = −1]}. When θ [*T*] exhibits more runs than expected, or the volume from runs
    is greater than expected, a low *T* will satisfy these conditions.
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
- en: '**2.4 Dealing with Multi-Product Series**'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
- en: 'Sometimes we are interested in modelling a time series of instruments, where
    the weights need to be dynamically adjusted over time. Other times we must deal
    with products that pay irregular coupons or dividends, or that are subject to
    corporate actions. Events that alter the nature of the time series under study
    need to be treated properly, or we will inadvertently introduce a structural break
    that will mislead our research efforts (more on this in Chapter 17). This problem
    appears in many guises: when we model spreads with changing weights, or baskets
    of securities where dividends/coupons must be reinvested, or baskets that must
    be rebalanced, or when an index''s constituents are changed, or when we must replace
    an expired/matured contract/security with another, etc.'
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
- en: Futures are a case in point. In my experience, people struggle unnecessarily
    when manipulating futures, mainly because they do not know how to handle the roll
    well. The same can be said of strategies based on spreads of futures, or baskets
    of stocks or bonds. In the next section, I'll show you one way to model a basket
    of securities as if it was a single cash product. I call it the “ETF trick” because
    the goal is to transform any complex multi-product dataset into a single dataset
    that resembles a total-return ETF. Why is this useful? Because your code can always
    assume that you only trade cashlike products (non-expiring cash instruments),
    regardless of the complexity and composition of the underlying series.
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
- en: '**2.4.1 The ETF Trick**'
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
- en: Suppose we wish to develop a strategy that trades a spread of futures. A few
    nuisances arise from dealing with a spread rather than an outright instrument.
    First, the spread is characterized by a vector of weights that changes over time.
    As a result, the spread itself may converge even if prices do not change. When
    that happens, a model trading that series will be misled to believe that PnL (the
    net mark-to-market value of profits and losses) has resulted from that weight-induced
    convergence. Second, spreads can acquire negative values, because they do not
    represent a price. This can often be problematic, as most models assume positive
    prices. Third, trading times will not align exactly for all constituents, so the
    spread is not always tradeable at the last levels published, or with zero latency
    risk. Also, execution costs must be considered, like crossing the bid-ask spread.
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
- en: One way to avoid these issues is to produce a time series that reflects the
    value of $1 invested in a spread. Changes in the series will reflect changes in
    PnL, the series will be strictly positive (at worst, infinitesimal), and the implementation
    shortfall will be taken into account. This will be the series used to model, generate
    signals, and trade, as if it were an ETF.
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
- en: 'Suppose that we are given a history of bars, as derived from any of the methods
    explained in Section 2.3\. These bars contain the following columns:'
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
- en: '*o [*i* , *t*]* is the raw open price of instrument *i* = 1, …, *I* at bar
    *t* = 1, …, *T* .'
  id: totrans-820
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*p [*i* , *t*]* is the raw close price of instrument *i* = 1, …, *I* at bar
    *t* = 1, …, *T* .'
  id: totrans-821
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: φ [*i* , *t*] is the USD value of one point of instrument *i* = 1, …, *I* at
    bar *t* = 1, …, *T* . This includes foreign exchange rate.
  id: totrans-822
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*v [*i* , *t*]* is the volume of instrument *i* = 1, …, *I* at bar *t* = 1,
    …, *T* .'
  id: totrans-823
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*d [*i* , *t*]* is the carry, dividend, or coupon paid by instrument *i* at
    bar *t.* This variable can also be used to charge margin costs, or costs of funding.'
  id: totrans-824
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: where all instruments *i* = 1, …, *I* were tradeable at bar *t* = 1, …, *T*
    . In other words, even if some instruments were not tradeable over the entirety
    of the time interval [ *t* − 1, *t* ], at least they were tradeable at times *t*
    − 1 and *t* (markets were open and able to execute orders at those instants).
    For a basket of futures characterized by an allocations vector ω [*t*] rebalanced
    (or rolled) on bars *B* ⊆{1, …, *T* }, the $1 investment value { *K [*t*]* } is
    derived as
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00554.jpg)'
  id: totrans-826
  prefs: []
  type: TYPE_IMG
- en: '![](Image00291.jpg)'
  id: totrans-827
  prefs: []
  type: TYPE_IMG
- en: '![](Image00557.jpg)'
  id: totrans-828
  prefs: []
  type: TYPE_IMG
- en: and *K [0]* = 1 in the initial AUM. Variable *h [*i* , *t*]* represents the
    holdings (number of securities or contracts) of instrument *i* at time *t.* Variable
    δ [*i* , *t*] is the change of market value between *t* − 1 and *t* for instrument
    *i.* Note that profits or losses are being reinvested whenever *t* ∈ *B* , hence
    preventing the negative prices. Dividends *d [*i* , *t*]* are already embedded
    in *K [*t*]* , so there is no need for the strategy to know about them. The purpose
    of ![](Image00559.jpg) in *h [*i*  ,  *t*] * is to de-lever the allocations. For
    series of futures, we may not know *p [*i*  ,  *t*] * of the new contract at a
    roll time *t* , so we use *o [*i*  ,  *t*  + 1] * as the closest in time.
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
- en: 'Let τ [*i*] be the transaction cost associated with trading $1 of instrument
    *i* , e.g., τ [*i*] = 1 *E* − 4 (one basis point). There are three additional
    variables that the strategy needs to know for every observed bar *t* :'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
- en: '**Rebalance costs:** The variable cost {*c [*t*]* } associated with the allocation
    rebalance is ![](Image00561.jpg) , ∀*t* ∈ *B* . We do not embed *c [*t*] * in
    *K [*t*] * , or shorting the spread will generate fictitious profits when the
    allocation is rebalanced. In your code, you can treat {*c [*t*] * } as a (negative)
    dividend.'
  id: totrans-831
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Bid-ask spread:** The cost ![](Image00562.jpg) of buying or selling one unit
    of this virtual ETF is ![](Image00565.jpg) . When a unit is bought or sold, the
    strategy must charge this cost ![](Image00567.jpg) , which is the equivalent to
    crossing the bid-ask spread of this virtual ETF.'
  id: totrans-832
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Volume:** The volume traded {*v [*t*]* } is determined by the least active
    member in the basket. Let *v [*i* , *t*]* be the volume traded by instrument *i*
    over bar *t.* The number of tradeable basket units is ![](Image00570.jpg) .'
  id: totrans-833
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Transaction costs functions are not necessarily linear, and those non-linear
    costs can be simulated by the strategy based on the above information. Thanks
    to the ETF trick, we can model a basket of futures (or a single futures) as if
    it was a single non-expiring cash product.
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
- en: '**2.4.2 PCA Weights**'
  id: totrans-835
  prefs: []
  type: TYPE_NORMAL
- en: The interested reader will find many practical ways of computing hedging weights
    in López de Prado and Leinweber [2012] and Bailey and López de Prado [2012]. For
    the sake of completeness, let us review one way to derive the vector {ω [*t*]
    } used in the previous section. Consider an IID multivariate Gaussian process
    characterized by a vector of means μ, of size *Nx1* , and a covariance matrix
    *V* , of size *NxN.* This stochastic process describes an invariant random variable,
    like the returns of stocks, the changes in yield of bonds, or changes in options’
    volatilities, for a portfolio of *N* instruments. We would like to compute the
    vector of allocations ω that conforms to a particular distribution of risks across
    *V* ’s principal components.
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
- en: First, we perform a spectral decomposition, *VW* = *W* Λ, where the columns
    in *W* are reordered so that the elements of Λ’s diagonal are sorted in descending
    order. Second, given a vector of allocations ω, we can compute the portfolio's
    risk as ![](Image00043.jpg) , where β represents the projection of ω on the orthogonal
    basis. Third, Λ is a diagonal matrix, thus ![](Image00574.jpg) , and the risk
    attributed to the *n* th component is *R [*n*] * = β ² [   *n*   ] Λ [*n*  ,  *n*]
    σ ^(− 2) = [ *W* 'ω] ² [   *n*   ] Λ [*n*  ,  *n*] σ ^(− 2) , with *R* '1 [*N*]
    = 1, and 1 [*N*] is a vector of *N* ones. You can interpret { *R [*n*] * } [*n*  =
    1, …,  *N*] as the distribution of risks across the orthogonal components.
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
- en: Fourth, we would like to compute the vector ω that delivers a user-defined risk
    distribution *R* . From earlier steps, ![](Image00575.jpg) , which represents
    the allocation in the new (orthogonal) basis. Fifth, the allocation in the old
    basis is given by ω = *W* β. Re-scaling ω merely re-scales σ, hence keeping the
    risk distribution constant.  [ Figure 2.2 ](text00000.html#filepos0000209254)
    illustrates the contribution to risk per principal component for an inverse variance
    allocation. Almost all principal components contribute risk, including those with
    highest variance (components 1 and 2). In contrast, for the PCA portfolio, only
    the component with lowest variance contributes risk.
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00576.jpg)'
  id: totrans-839
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 2.2**](text00000.html#filepos0000208723) Contribution to risk per
    principal component'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
- en: Snippet 2.1 implements this method, where the user-defined risk distribution
    *R* is passed through argument `riskDist` (optional None). If `riskDist` is None,
    the code will assume all risk must be allocated to the principal component with
    smallest eigenvalue, and the weights will be the last eigenvector re-scaled to
    match σ ( `riskTarget` ).
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
- en: '**SNIPPET 2.1 PCA WEIGHTS FROM A RISK DISTRIBUTION R**'
  id: totrans-842
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00579.jpg)'
  id: totrans-843
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: '**2.4.3 Single Future Roll**'
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
- en: 'The ETF trick can handle the rolls of a single futures contract, as a particular
    case of a 1-legged spread. However, when dealing with a single futures contract,
    an equivalent and more direct approach is to form a time series of cumulative
    roll gaps, and detract that gaps series from the price series. Snippet 2.2 shows
    a possible implementation of this logic, using a series of tick bars downloaded
    from Bloomberg and stored in a HDF5 table. The meaning of the Bloomberg fields
    is as follows:'
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
- en: '`FUT_CUR_GEN_TICKER` : It identifies the contract associated with that price.
    Its value changes with every roll.'
  id: totrans-846
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PX_OPEN` : The open price associated with that bar.'
  id: totrans-847
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PX_LAST` : The close price associated with the bar.'
  id: totrans-848
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`VWAP` : The volume-weighted average price associated with that bar.'
  id: totrans-849
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The argument `matchEnd` in function `rollGaps` determines whether the futures
    series should be rolled forward ( `matchEnd=False` ) or backward ( `matchEnd=True`
    ). In a forward roll, the price at the start of the rolled series matches the
    price at the start of the raw series. In a backward roll, the price at the end
    of the rolled series matches the price at the end of the raw series.
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
- en: '**SNIPPET 2.2 FORM A GAPS SERIES, DETRACT IT FROM PRICES**'
  id: totrans-851
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00581.jpg)'
  id: totrans-852
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: 'Rolled prices are used for simulating PnL and portfolio mark-to-market values.
    However, raw prices should still be used to size positions and determine capital
    consumption. Keep in mind, rolled prices can indeed become negative, particularly
    in futures contracts that sold off while in contango. To see this, run Snippet
    2.2 on a series of Cotton #2 futures or Natural Gas futures.'
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
- en: 'In general, we wish to work with non-negative rolled series, in which case
    we can derive the price series of a $1 investment as follows: (1) Compute a time
    series of rolled futures prices, (2) compute the return ( *r* ) as rolled price
    change divided by the previous raw price, and (3) form a price series using those
    returns (i.e., `(1+r).cumprod()` ). Snippet 2.3 illustrates this logic.'
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
- en: '**SNIPPET 2.3 NON-NEGATIVE ROLLED PRICE SERIES**'
  id: totrans-855
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00099.jpg)'
  id: totrans-856
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: '**2.5 Sampling Features**'
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
- en: So far we have learned how to produce a continuous, homogeneous, and structured
    dataset from a collection of unstructured financial data. Although you could attempt
    to apply an ML algorithm on such a dataset, in general that would not be a good
    idea, for a couple of reasons. First, several ML algorithms do not scale well
    with sample size (e.g., SVMs). Second, ML algorithms achieve highest accuracy
    when they attempt to learn from relevant examples. Suppose that you wish to predict
    whether the next 5% absolute return will be positive (a 5% rally) or negative
    (a 5% sell-off). At any random time, the accuracy of such a prediction will be
    low. However, if we ask a classifier to predict the sign of the next 5% absolute
    return after certain catalytic conditions, we are more likely to find informative
    features that will help us achieve a more accurate prediction. In this section
    we discuss ways of sampling bars to produce a features matrix with relevant training
    examples.
  id: totrans-858
  prefs: []
  type: TYPE_NORMAL
- en: '**2.5.1 Sampling for Reduction**'
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
- en: As we have mentioned earlier, one reason for sampling features from a structured
    dataset is to reduce the amount of data used to fit the ML algorithm. This operation
    is also referred to as *downsampling* . This is often done by either sequential
    sampling at a constant step size (linspace sampling), or by sampling randomly
    using a uniform distribution (uniform sampling).
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
- en: The main advantage of linspace sampling is its simplicity. The disadvantages
    are that the step size is arbitrary, and that outcomes may vary depending on the
    seed bar. Uniform sampling addresses these concerns by drawing samples uniformly
    across the entire set of bars. Still, both methods suffer the criticism that the
    sample does not necessarily contain the subset of most relevant observations in
    terms of their predictive power or informational content.
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
- en: '**2.5.2 Event-Based Sampling**'
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
- en: Portfolio managers typically place a bet after some event takes place, such
    as a structural break (Chapter 17), an extracted signal (Chapter 18), or microstructural
    phenomena (Chapter 19). These events could be associated with the release of some
    macroeconomic statistics, a spike in volatility, a significant departure in a
    spread away from its equilibrium level, etc. We can characterize an event as significant,
    and let the ML algorithm learn whether there is an accurate prediction function
    under those circumstances. Perhaps the answer is no, in which case we would redefine
    what constitutes an event, or try again with alternative features. For illustration
    purposes, let us discuss one useful event-based sampling method.
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
- en: '***2.5.2.1 The CUSUM Filter***'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
- en: The CUSUM filter is a quality-control method, designed to detect a shift in
    the mean value of a measured quantity away from a target value. Consider IID observations
    { *y [*t*]* } [*t* = 1, …, *T*] arising from a locally stationary process. We
    define the cumulative sums
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00584.jpg)'
  id: totrans-866
  prefs: []
  type: TYPE_IMG
- en: with boundary condition *S [0]* = 0 *.* This procedure would recommend an action
    at the first *t* satisfying *S [*t*]* ≥ *h* , for some threshold *h* (the filter
    size). Note that *S [*t*]* = 0 whenever *y [*t*]* ≤ E [*t* − 1] [ *y [*t*]* ]
    − *S [*t* − 1]* . This zero floor means that we will skip some downward deviations
    that otherwise would make *S [*t*]* negative. The reason is, the filter is set
    up to identify a sequence of upside divergences from any reset level zero. In
    particular, the threshold is activated when
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00116.jpg)'
  id: totrans-868
  prefs: []
  type: TYPE_IMG
- en: 'This concept of run-ups can be extended to include run-downs, giving us a symmetric
    CUSUM filter:'
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00587.jpg)'
  id: totrans-870
  prefs: []
  type: TYPE_IMG
- en: '![](Image00224.jpg)'
  id: totrans-871
  prefs: []
  type: TYPE_IMG
- en: '![](Image00590.jpg)'
  id: totrans-872
  prefs: []
  type: TYPE_IMG
- en: 'Lam and Yam [1997] propose an investment strategy whereby alternating buy-sell
    signals are generated when an absolute return *h* is observed relative to a prior
    high or low. Those authors demonstrate that such strategy is equivalent to the
    so-called “filter trading strategy” studied by Fama and Blume [1966]. Our use
    of the CUSUM filter is different: We will sample a bar *t* if and only if *S [*t*]*
    ≥ *h* , at which point *S [*t*]* is reset. Snippet 2.4 shows an implementation
    of the symmetric CUSUM filter, where E [*t* − 1] [ *y [*t*]* ] = *y [*t* − 1]*
    .'
  id: totrans-873
  prefs: []
  type: TYPE_NORMAL
- en: '**SNIPPET 2.4 THE SYMMETRIC CUSUM FILTER**'
  id: totrans-874
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00315.jpg)'
  id: totrans-875
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: 'The function `getTEvents` receives two arguments: the raw time series we wish
    to filter ( `gRaw` ) and the threshold, `h` . One practical aspect that makes
    CUSUM filters appealing is that multiple events are not triggered by `gRaw` hovering
    around a threshold level, which is a flaw suffered by popular market signals such
    as Bollinger bands. It will require a full run of length `h` for `gRaw` to trigger
    an event. [Figure 2.3](text00000.html#filepos0000221897) illustrates the samples
    taken by a CUSUM filter on a price series.'
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00595.jpg)'
  id: totrans-877
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 2.3**](text00000.html#filepos0000221606) CUSUM sampling of a price
    series'
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
- en: Variable *S [*t*]* could be based on any of the features we will discuss in
    Chapters 17–19, like structural break statistics, entropy, or market microstructure
    measurements. For example, we could declare an event whenever SADF departs sufficiently
    from a previous reset level (to be defined in Chapter 17). Once we have obtained
    this subset of event-driven bars, we will let the ML algorithm determine whether
    the occurrence of such events constitutes actionable intelligence.
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercises**'
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
- en: 'On a series of E-mini S&P 500 futures tick data:'
  id: totrans-881
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Form tick, volume, and dollar bars. Use the ETF trick to deal with the roll.
  id: totrans-882
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Count the number of bars produced by tick, volume, and dollar bars on a weekly
    basis. Plot a time series of that bar count. What bar type produces the most stable
    weekly count? Why?
  id: totrans-883
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Compute the serial correlation of returns for the three bar types. What bar
    method has the lowest serial correlation?
  id: totrans-884
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Partition the bar series into monthly subsets. Compute the variance of returns
    for every subset of every bar type. Compute the variance of those variances. What
    method exhibits the smallest variance of variances?
  id: totrans-885
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Apply the Jarque-Bera normality test on returns from the three bar types. What
    method achieves the lowest test statistic?
  id: totrans-886
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: On a series of E-mini S&P 500 futures tick data, compute dollar bars and dollar
    imbalance bars. What bar type exhibits greater serial correlation? Why?
  id: totrans-887
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'On dollar bar series of E-mini S&P 500 futures and Eurostoxx 50 futures:'
  id: totrans-888
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Apply Section 2.4.2 to compute the ![](Image00405.jpg) vector used by the ETF
    trick. (Hint: You will need FX values for EUR/USD at the roll dates.)'
  id: totrans-889
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Derive the time series of the S&P 500/Eurostoxx 50 spread.
  id: totrans-890
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Confirm that the series is stationary, with an ADF test.
  id: totrans-891
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Form E-mini S&P 500 futures dollar bars:'
  id: totrans-892
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Compute Bollinger bands of width 5% around a rolling moving average. Count how
    many times prices cross the bands out (from within the bands to outside the bands).
  id: totrans-893
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Now sample those bars using a CUSUM filter, where {*y [*t*]* } are returns and
    *h* = 0.05*.* How many samples do you get?
  id: totrans-894
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Compute the rolling standard deviation of the two-sampled series. Which one
    is least heteroscedastic? What is the reason for these results?
  id: totrans-895
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Using the bars from exercise 4:'
  id: totrans-896
  prefs:
  - PREF_OL
  - PREF_BQ
  - PREF_BQ
  type: TYPE_NORMAL
- en: Sample bars using the CUSUM filter, where {*y [*t*]* } are absolute returns
    and *h* = 0.05*.*
  id: totrans-897
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Compute the rolling standard deviation of the sampled bars.
  id: totrans-898
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Compare this result with the results from exercise 4\. What procedure delivered
    the least heteroscedastic sample? Why?
  id: totrans-899
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '**References**'
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
- en: 'Ané, T. and H. Geman (2000): “Order flow, transaction clock and normality of
    asset returns.” *Journal of Finance* , Vol. 55, pp. 2259–2284.'
  id: totrans-901
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Bailey, David H., and M. López de Prado (2012): “Balanced baskets: A new approach
    to trading and hedging risks.” *Journal of Investment Strategies (Risk Journals)*
    , Vol. 1, No. 4 (Fall), pp. 21–62.'
  id: totrans-902
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Clark, P. K. (1973): “A subordinated stochastic process model with finite variance
    for speculative prices.” *Econometrica* , Vol. 41, pp. 135–155.'
  id: totrans-903
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2011): “The volume clock: Insights
    into the high frequency paradigm.” *Journal of Portfolio Management* , Vol. 37,
    No. 2, pp. 118–128.'
  id: totrans-904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Easley, D., M. López de Prado, and M. O''Hara (2012): “Flow toxicity and liquidity
    in a high frequency world.” *Review of Financial Studies* , Vol. 25, No. 5, pp.
    1457–1493.'
  id: totrans-905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Fama, E. and M. Blume (1966): “Filter rules and stock market trading.” *Journal
    of Business* , Vol. 40, pp. 226–241.'
  id: totrans-906
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Kolanovic, M. and R. Krishnamachari (2017): “Big data and AI strategies: Machine
    learning and alternative data approach to investing.” White paper, JP Morgan,
    Quantitative and Derivatives Strategy. May 18.'
  id: totrans-907
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Lam, K. and H. Yam (1997): “CUSUM techniques for technical trading in financial
    markets.” *Financial Engineering and the Japanese Markets* , Vol. 4, pp. 257–274.'
  id: totrans-908
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'López de Prado, M. and D. Leinweber (2012): “Advances in cointegration and
    subset correlation hedging methods.” *Journal of Investment Strategies (Risk Journals)*
    , Vol. 1, No. 2 (Spring), pp. 67–115.'
  id: totrans-909
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Mandelbrot, B. and M. Taylor (1967): “On the distribution of stock price differences.”
    *Operations Research* , Vol. 15, No. 5, pp. 1057–1062.'
  id: totrans-910
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**CHAPTER 3**'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
- en: '**Labeling**'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
- en: '**3.1 Motivation**'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
- en: In Chapter 2 we discussed how to produce a matrix *X* of financial features
    out of an unstructured dataset. Unsupervised learning algorithms can learn the
    patterns from that matrix *X* , for example whether it contains hierarchical clusters.
    On the other hand, supervised learning algorithms require that the rows in *X*
    are associated with an array of labels or values *y* , so that those labels or
    values can be predicted on unseen features samples. In this chapter we will discuss
    ways to label financial data.
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
- en: '**3.2 The Fixed-Time Horizon Method**'
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
- en: As it relates to finance, virtually all ML papers label observations using the
    fixed-time horizon method. This method can be described as follows. Consider a
    features matrix *X* with *I* rows, { *X [*i*]* } [*i* = 1, …, *I*] , drawn from
    some bars with index *t* = 1, …, *T* , where *I* ≤ *T* . Chapter 2, Section 2.5
    discussed sampling methods that produce the set of features { *X [*i*]* } [*i*
    = 1, …, *I*] . An observation *X [*i*]* is assigned a label *y [*i*]* ∈ { − 1,
    0, 1},
  id: totrans-916
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00599.jpg)'
  id: totrans-917
  prefs: []
  type: TYPE_IMG
- en: where τ is a pre-defined constant threshold, *t [*i* , 0]* is the index of the
    bar immediately after *X [*i*]* takes place, *t [*i* , 0]* + *h* is the index
    of the *h* -th bar after *t [*i* , 0]* , and ![](Image00188.jpg) is the price
    return over a bar horizon *h* ,
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00602.jpg)'
  id: totrans-919
  prefs: []
  type: TYPE_IMG
- en: Because the literature almost always works with time bars, *h* implies a fixed-time
    horizon. The bibliography section lists multiple ML studies, of which Dixon et
    al. [2016] is a recent example of this labeling method. Despite its popularity,
    there are several reasons to avoid this approach in most cases. First, as we saw
    in Chapter 2, time bars do not exhibit good statistical properties. Second, the
    same threshold τ is applied regardless of the observed volatility. Suppose that
    τ = 1 *E* − 2, where sometimes we label an observation as *y [*i*]* = 1 subject
    to a realized bar volatility of ![](Image00207.jpg) (e.g., during the night session),
    and sometimes ![](Image00606.jpg) (e.g., around the open). The large majority
    of labels will be 0, even if return ![](Image00657.jpg) was predictable and statistically
    significant.
  id: totrans-920
  prefs: []
  type: TYPE_NORMAL
- en: 'In other words, it is a very common error to label observations according to
    a fixed threshold on time bars. Here are a couple of better alternatives. First,
    label per a varying threshold ![](Image00610.jpg) , estimated using a rolling
    exponentially weighted standard deviation of returns. Second, use volume or dollar
    bars, as their volatilities are much closer to constant (homoscedasticity). But
    even these two improvements miss a key flaw of the fixed-time horizon method:
    the path followed by prices. Every investment strategy has stop-loss limits, whether
    they are self-imposed by the portfolio manager, enforced by the risk department,
    or triggered by a margin call. It is simply unrealistic to build a strategy that
    profits from positions that would have been stopped-out by the exchange. That
    virtually no publication accounts for that when labeling observations tells you
    something about the current state of the investment literature.'
  id: totrans-921
  prefs: []
  type: TYPE_NORMAL
- en: '**3.3 Computing Dynamic Thresholds**'
  id: totrans-922
  prefs: []
  type: TYPE_NORMAL
- en: As argued in the previous section, in practice we want to set profit taking
    and stop-loss limits that are a function of the risks involved in a bet. Otherwise,
    sometimes we will be aiming too high ( ![](Image00733.jpg) ), and sometimes too
    low ( ![](Image00614.jpg) ), considering the prevailing volatility.
  id: totrans-923
  prefs: []
  type: TYPE_NORMAL
- en: Snippet 3.1 computes the daily volatility at intraday estimation points, applying
    a span of `span0` days to an exponentially weighted moving standard deviation.
    See the pandas documentation for details on the `pandas.Series.ewm` function.
  id: totrans-924
  prefs: []
  type: TYPE_NORMAL
- en: '**SNIPPET 3.1 DAILY VOLATILITY ESTIMATES**'
  id: totrans-925
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00615.jpg)'
  id: totrans-926
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: We can use the output of this function to set default profit taking and stop-loss
    limits throughout the rest of this chapter.
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
- en: '**3.4 The Triple-Barrier Method**'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
- en: 'Here I will introduce an alternative labeling method that I have not found
    in the literature. If you are an investment professional, I think you will agree
    that it makes more sense. I call it the triple-barrier method because it labels
    an observation according to the first barrier touched out of three barriers. First,
    we set two horizontal barriers and one vertical barrier. The two horizontal barriers
    are defined by profit-taking and stop-loss limits, which are a dynamic function
    of estimated volatility (whether realized or implied). The third barrier is defined
    in terms of number of bars elapsed since the position was taken (an expiration
    limit). If the upper barrier is touched first, we label the observation as a 1\.
    If the lower barrier is touched first, we label the observation as a −1\. If the
    vertical barrier is touched first, we have two choices: the sign of the return,
    or a 0\. I personally prefer the former as a matter of realizing a profit or loss
    within limits, but you should explore whether a 0 works better in your particular
    problems.'
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
- en: You may have noticed that the triple-barrier method is path-dependent. In order
    to label an observation, we must take into account the entire path spanning [
    *t [*i* , 0]* , *t [*i* , 0]* + *h* ], where *h* defines the vertical barrier
    (the expiration limit). We will denote *t [*i* , 1]* the time of the first barrier
    touch, and the return associated with the observed feature is ![](Image00618.jpg)
    . For the sake of clarity, *t [*i*  , 1] * ≤ *t [*i*  , 0] * + *h* and the horizontal
    barriers are not necessarily symmetric.
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
- en: 'Snippet 3.2 implements the triple-barrier method. The function receives four
    arguments:'
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
- en: '`close` : A pandas series of prices.'
  id: totrans-932
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`events` : A pandas dataframe, with columns,'
  id: totrans-933
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`t1` : The timestamp of vertical barrier. When the value is `np.nan` , there
    will not be a vertical barrier.'
  id: totrans-934
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`trgt` : The unit width of the horizontal barriers.'
  id: totrans-935
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ptSl` : A list of two non-negative float values:'
  id: totrans-936
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ptSl[0]` : The factor that multiplies `trgt` to set the width of the upper
    barrier. If 0, there will not be an upper barrier.'
  id: totrans-937
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`ptSl[1]` : The factor that multiplies `trgt` to set the width of the lower
    barrier. If 0, there will not be a lower barrier.'
  id: totrans-938
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`molecule` : A list with the subset of event indices that will be processed
    by a single thread. Its use will become clear later on in the chapter.'
  id: totrans-939
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**SNIPPET 3.2 TRIPLE-BARRIER LABELING METHOD**'
  id: totrans-940
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](Image00619.jpg)'
  id: totrans-941
  prefs:
  - PREF_BQ
  type: TYPE_IMG
- en: 'The output from this function is a pandas dataframe containing the timestamps
    (if any) at which each barrier was touched. As you can see from the previous description,
    the method considers the possibility that each of the three barriers may be disabled.
    Let us denote a barrier configuration by the triplet [ `pt,sl,t1` ], where a 0
    means that the barrier is inactive and a 1 means that the barrier is active. The
    possible eight configurations are:'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
- en: 'Three useful configurations:'
  id: totrans-943
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[1,1,1]: This is the standard setup, where we define three barrier exit conditions.
    We would like to realize a profit, but we have a maximum tolerance for losses
    and a holding period.'
  id: totrans-944
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[0,1,1]: In this setup, we would like to exit after a number of bars, unless
    we are stopped-out.'
  id: totrans-945
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[1,1,0]: Here we would like to take a profit as long as we are not stopped-out.
    This is somewhat unrealistic in that we are willing to hold the position for as
    long as it takes.'
  id: totrans-946
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Three less realistic configurations:'
  id: totrans-947
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[0,0,1]: This is equivalent to the fixed-time horizon method. It may still
    be useful when applied to volume-, dollar-, or information-driven bars, and multiple
    forecasts are updated within the horizon.'
  id: totrans-948
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[1,0,1]: A position is held until a profit is made or the maximum holding period
    is exceeded, without regard for the intermediate unrealized losses.'
  id: totrans-949
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[1,0,0]: A position is held until a profit is made. It could mean being locked
    on a losing position for years.'
  id: totrans-950
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Two illogical configurations:'
  id: totrans-951
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[0,1,0]: This is an aimless configuration, where we hold a position until we
    are stopped-out.'
  id: totrans-952
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[0,0,0]: There are no barriers. The position is locked forever, and no label
    is generated.'
  id: totrans-953
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Figure 3.1](text00000.html#filepos0000244523) shows two alternative configurations
    of the triple-barrier method. On the left, the configuration is [1,1,0], where
    the first barrier touched is the lower horizontal one. On the right, the configuration
    is [1,1,1], where the first barrier touched is the vertical one.'
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
- en: '![](Image00621.jpg)'
  id: totrans-955
  prefs: []
  type: TYPE_IMG
- en: '[**Figure 3.1**](text00000.html#filepos0000243978) Two alternative configurations
    of the triple-barrier method'
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL

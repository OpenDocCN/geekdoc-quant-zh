# 夏普比率:计算、应用、限制

> 原文：<https://blog.quantinsti.com/sharpe-ratio-applications-algorithmic-trading/>

由[阿波瓦·辛格](https://goo.gl/ldUcij)和[雷基特·帕查内卡](https://www.linkedin.com/in/rekhit/)

夏普比率有助于比较不同的投资组合，找到最可行的。这个博客解释了它的机制和你需要知道的一切。

我们涵盖:

*   [什么是夏普比率？](#what-is-sharpe-ratio)
*   [夏普比率公式](#formula-of-sharpe-ratio)
*   [夏普比率的计算](#calculation-of-sharpe-ratio)
*   [夏普比率示例](#example-of-sharpe-ratio)
*   [Python 中的夏普比率](#sharpe-ratio-in-python)
*   [夏普比率的限制](/sharpe-ratio-applications-algorithmic-trading/#Limitation)
*   [夏普比率与索蒂诺比率](/sharpe-ratio-applications-algorithmic-trading/#Sortino)

* * *

我们都知道你不应该把所有的鸡蛋放在一个篮子里。因此，我们试图建立一个由不同金融工具组成的投资组合。与此同时，你可能会制定不同的策略来平衡各种措施，如风险、波动性、预期收益等。

但是你怎么说一个策略比另一个更好呢？

通常的答案，即它的返回，在范围上有些狭窄，并且无助于抓住全局。

有些策略可能是方向性的，有些是市场中性的，有些可能是杠杆化的，这使得年化回报率本身成为一种无效的业绩衡量指标。此外，即使两种策略的年回报率相当，风险仍然是需要衡量的一个重要方面。

一个年回报率高的策略，如果有高风险的成分，不一定很有吸引力；我们通常更喜欢更好的风险调整回报，而不仅仅是“更好的回报”。

考虑到这一点，William Sharpe 引入了一个简单的公式来帮助比较不同的投资组合，并帮助我们找到其中最可行的——夏普比率。

## ****什么是夏普比率？**T3】**

夏普比率是一种计算风险调整回报率的方法。它是投资的每单位波动率
或投资收益标准差的
超额预期收益(超过无风险利率)的比率。

让我们看看夏普比率的公式，这将使事情更清楚。

* * *

## 夏普比率公式

夏普比率公式为:

Sharpe Ratio = \((R_x – R_f ) / StdDev_x\)

在哪里，

*   R <sub>x</sub> 是 x 的平均收益率
*   R <sub>f</sub> 为无风险利率
*   StdDev <sub>x</sub> 是投资回报的标准差

* * *

## 夏普比率的计算

一旦你看到公式，你就会明白我们扣除了无风险收益率，这有助于我们弄清楚策略是否有意义。

如果分子结果是负数，投资保证你无风险回报率的政府债券不是更好吗？你们中的一些人会认为这是风险调整后的回报。

在分母中，我们有投资回报的标准差。它帮助我们识别与投资相关的波动性和风险。因此，夏普比率有助于我们识别哪种策略与波动性相比回报更高。这就是夏普比率计算的全部内容。

* * *

## 夏普比率示例

现在让我们举一个例子，看看夏普比率计算如何帮助我们。

你设计了一个策略，创建了一个不同股票的投资组合。经过回溯测试，你观察到这个投资组合，姑且称之为投资组合 A，会给出 11%的回报率。然而，你关心的是 8%的波动率。

现在，你改变某些参数，选择不同的金融工具来创建另一个投资组合，投资组合 b。这个投资组合的预期回报率为 8%，但波动率现在下降到 4%。

考虑到无风险收益率为 3%，两个投资组合的夏普比率计算。如下所示

|   | **投资组合 A** | **投资组合 B** |
| **收益率** | Eleven | eight |
| **无风险收益率** | three | three |
| **波动性** | eight | four |
| **夏普比率** | (11-3)/8 = 1 | (8-3)/4 = 1.25 |

因此，根据夏普比率计算，我们应该考虑投资组合 B，因为即使预期回报低于投资组合 B，投资组合 B 的波动性也低于投资组合 A，因此风险更低。

目前，大多数交易所交易基金也在其网站上提供其投资的夏普比率。

夏普比率可用于许多不同的情况，如业绩衡量，风险管理和测试市场效率。谈到战略绩效衡量，作为一个行业标准，夏普比率通常被称为“年度夏普”。

年度夏普是根据衡量回报的交易期计算的。如果一年中有 N 个交易周期，则年度夏普比率的计算方法如下:

**夏普比率=√N(E(R<sub>x</sub>–R<sub>f</sub>)/StdDev<sub>(x)</sub>)**

### ****交易水平夏普比率为日内策略****

对于日内交易策略，我们可以计算交易级别夏普，而不是使用传统的夏普计算，以更好地了解策略的表现。

在这种情况下，无风险利率可以被认为是 0，因为我们没有滚动头寸，没有利息费用。夏普比率可以通过以下简单步骤计算:

假设这个策略一天做了“N”笔交易；计算:

1.  每笔交易的 P&L(本质上是你支付的佣金之外的收入)
2.  所有交易损益的平均值
3.  所有交易损益的标准差

现在，根据定义，当你考虑所有的交易时，分子，也就是 PnL 的平均值乘以 N。此外，在分母中，标准偏差乘以“N”的平方根。所以实际上，夏普比率是 sqrt(N) *(平均值/标准差)。

对于高频策略，特定数量的大量小规模成功交易使 PnL 曲线变得平滑，标准偏差接近于零，这大大增加了夏普比率，因此它可能在两位数的范围内。

就其本身而言，任何“年化夏普比率”小于 1(包括执行成本后)的策略通常都会被忽略。大多数量化对冲基金忽略年化夏普比率小于 2 的策略。

*   对于散户算法交易者来说，年化夏普比率大于 2 就很不错了。
*   如前所述，对于高频交易，这一比例也可能达到两位数，尤其是对于机会驱动但不具备高度可扩展性的策略。

当个人在现有投资组合中增加新的金融工具时，他们会使用该比率，并希望检查它对投资组合的影响。

* * *

## ****夏普**R**atio in Python**T5】**

如果您想自己找到夏普比率，可以尝试以下 Python 代码:
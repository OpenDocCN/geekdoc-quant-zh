# 烛台交易——有例子的动量策略

> 原文：<https://blog.quantinsti.com/candlestick-trading-a-momentum-strategy-with-example-excel-model/>

由[查尼卡·塔卡](https://www.linkedin.com/in/chainika-bahl-thakar-b32971155/)和 [](https://www.linkedin.com/in/akshay-iitk/) [阿克谢·乔杜里](mailto:akshay.c@quantinsti.com)

烛台交易是一种策略，观察前 n 个烛台上的价格，然后根据观察结果决定下一次交易。因此，如果价格持续上涨，比如说，3 个烛台，那么它很可能会进一步上涨。

蜡烛图基本上显示了一个可交易项目的最高价、最低价、开盘价和收盘价，该项目可以是证券、衍生品或货币。

让我们通过这篇博客来了解烛台交易作为一种动量策略的全部内容，这篇博客包括:

*   [什么是动量策略？](#what-is-momentum-strategy)
*   [动量策略为什么存在？](#why-does-the-momentum-strategy-exist)
*   [Excel 中烛台交易-动量策略示例](#example-of-candlestick-trading-momentum-strategy-in-excel)

* * *

## 什么是动量策略？

动量策略意味着金融安全的趋势，以继续价格运动在一个特定的方向。资产价格的价格动力可以是向上的，也可以是向下的。

例如，当特斯拉于 2020 年 2 月 14 日开始在中国交付汽车时，特斯拉的收盘价一直上涨，直到 2020 年 2 月 19 日。

相反，动量也可以是向下的。下降趋势的一个例子是新冠肺炎疫情期间的石油价格，它随着俄国和石油输出国组织的石油战争而持续暴跌。

* * *

## 动量策略为什么存在？

动量策略寻求从那些有趋势且有高交易量支持的证券中获利。简单地说，高买高卖是这种策略的主要目的。这可以通过在上涨或下跌的股票中建仓来实现，然后持有这个头寸直到证券出现反转的迹象。

动量交易者可能会持仓几秒、几分钟、几小时、几个月甚至几年，这取决于金融资产改变方向的速度。

与大多数其他策略相比，动量交易具有很高的波动性。正确把握买卖时机以避免重大损失是很重要的。动量交易者通常利用[止损](https://quantra.quantinsti.com/glossary/Stop-Order)、投资组合多样化和其他风险管理技术来最小化损失。

* * *

## 烛台交易示例 Excel 中的动量策略

现在，让我们看看用 excel 进行烛台交易的例子。该 excel 模型将帮助您:

*   学习如何实施动量策略
*   理解策略实施的交易逻辑
*   优化交易参数
*   理解动量交易的日内回报

在本例中，我们采用了币安交易所的 BTCUSDT 数据。将在该资产上实施[动量策略](https://quantra.quantinsti.com/course/momentum-trading-strategies)。BTCUSDT 使用的数据是 5 分钟蜡烛线数据。数据的时间间隔为 2021 年 12 月 12 日至 2021 年 12 月 22 日。

现在，我们想从市场波动中受益，通过指定止损和止盈来优化我们的赌注。这种模式是灵活的，可以根据交易者的风险偏好改变，以达到不同的退出交易的限制。

现在让我们看看我们的假设。

### 假设

1.  出于简化的目的，我们忽略买卖价差。
2.  价格以 5 分钟为间隔，我们只以 5 分钟收盘价交易。
3.  由于这是离散数据，平仓发生在蜡烛线结束时，即在 5 分钟结束时的可用价格。
4.  交易成本因交易所而异。为了简单起见，我们假设它为 0。

此外，我们还准备了一些输入参数。让我们也看看那些。

### 输入参数

请注意，下面提到的输入参数的所有值都是可配置的。

*   考虑 3 根蜡烛的高/低(1 根蜡烛=每 5 分钟价格)。
*   止损 50，利润限制 200。

从第 12 行开始，市场数据和交易模型包含在电子表格中。因此，当参考 D 列时，显然应该从 D12 开始参考。

*   C 列表示 BTCUSDT 的价格。
*   D 列代表 3 支蜡烛的最高价格，意味着前 3 支蜡烛的最高价格。
*   E 列代表 3 根蜡烛线低点，意味着前 3 根蜡烛线的最低价格。
*   F 列计算交易信号。

公式 **=IF(D13= ""，" "，IF(C13 > D13，"买入")，IF(C13 < E13，"卖出"，" "))**表示
-如果单元格 D13 中的条目为空，则保持 F13 为空，否则保持为空
-如果 C13 (BTCUSDT 价格)大于 D13 (3 蜡烛线高)，则生成 BTCUSDT 的买入信号，否则生成
-如果 C13 低于 E13 (3 蜡烛线低)，则生成 BTCUSDT 的卖出信号

*   G 列代表进场价格。这是产生交易信号的价格。

公式 **=IF(H13=H12，G12，IF(OR(H13=“买入”，H13=“卖出”)，C13，“)**
表示，
-如果单元格 H13 中的值与 H12 相同，则 G13 中的值应为 G12 中的值，否则，
-如果 H13 为“买入”或“卖出”，则 G13 中的值为 C13 中的值(BTCUSDT 价格)否则，
-如果 H13 既不是“买入”也不是“卖出”

*   H 列代表交易的状态。给定我们的假设和输入参数，有四种状态可能发生，“买入”、“卖出”、“TP(止盈)”和“SL(止损)”。

公式:

**=IF(OR(H17= " "，H17="TP "，H17="SL ")，F18，IF(H17= "买入"，IF(C18 < G17+$C$4，" SL)，IF(C18 > G17+$C$5，" TP "，H17))，IF(H17= "卖出"，IF(C18 > G17-$C$4，" SL)，IF(C18 < G17-$C$5，" TP "，H17)，" "))**

可以简化如下:

如果 H17 中的条目为空或 TP 或 SL，则选择 F18 中的值(F 列具有买入或卖出值或空值)。否则，查看下一个 If 条件。

如果 H17 中的条目是“买入”，意味着我们有买入头寸，如果资产价格低于止损限额，那么我们在止损时退出头寸，如果资产价格高于止盈限额，那么我们在止盈时退出头寸。

类似地，如果头寸为“卖出”并且资产价格超过止损限额，则在止损时退出头寸，如果资产价格低于止盈限额，则通过止盈退出头寸。

*   列 I 表示交易的利润/损失状态。只有当我们结清头寸时，才能计算损益。公式= IF(OR(H13 =“SL”，H13 =“TP”)，IF(H12 =“Buy”，C13-G12，IF(H12 =“Sell”，G12-C13，0)，0)可以总结如下:-

第一个 if 条件表明，只有当 H 列中的相应状态是“SL”或“TP”时，才进行到下一个 if 条件，否则该单元中的条目为零。

下一组 if 条件在假设止损或止盈已经实现的情况下计算利润。如果 H 列中的状态是“买入”，则损益计算为 C13-G12。

请记住，G 列是您交易的价格(在本例中是“买入”)，C 列是 BTCUSDT 的市场数据。因此，利润/亏损就是你卖出的价格减去你买入的价格之间的差额。

如果 H 列中的状态是“卖出”，那么利润/损失计算为 G12-C13，简单地说就是你卖出(做空)的价格和你后来买入的价格之间的差额，因此平仓。

*   J 列计算累计利润。

* * *

### 输出

输出表列出了一些性能指标。所有亏损交易的损失是 35405 美元，而触及 TP 的交易的利润是 41850 美元。所以总损益是 41850 美元-35405 美元= 6445 美元。

亏损交易是指导致交易头寸亏损的交易。有利可图的交易是成功的交易。平均利润是总利润与交易总数的比率，总计 13.45 美元，因为我们假设交易成本为 0。

**下载中的文件:**

*   Excel 模型-烛台交易

[下载](https://d1rwhvwstyk9gu.cloudfront.net/2022/06/BTCUSDT_Candlestick.xlsx.zip)

* * *

### 结论

交易蜡烛图是一个有用的实践，在交易前观察历史数据。当价格向某一特定方向发展时，可以使用蜡烛图模式观察动量，该模式具有特定时间段的开盘价、最高价、最低价和收盘价。

如果你也想学习动量交易风格，你必须学习我们的[动量交易策略](https://quantra.quantinsti.com/course/momentum-trading-strategies)课程。通过这个动量交易的课程，你将学会在股票、股票指数、固定收益和商品期货上创建时间序列和横截面动量策略。此外，你将学习定量分析时间序列，投资组合的回报和风险，设计和回测动量交易系统。

* * *

*<small>免责声明:股票市场的所有投资和交易都涉及风险。在金融市场进行交易的任何决定，包括股票或期权或其他金融工具的交易，都是个人决定，只能在彻底研究后做出，包括个人风险和财务评估以及在您认为必要的范围内寻求专业帮助。本文提到的交易策略或相关信息仅供参考。</small>T3】*
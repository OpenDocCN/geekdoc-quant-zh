# 使用情绪分析进行股票交易[EPAT 项目]

> 原文：<https://blog.quantinsti.com/sentiment-analysis-trade-equities/>

本文是作者提交的最后一个项目，作为他们在 QuantInsti 的[算法交易(EPAT)](https://www.quantinsti.com/epat)高管课程的一部分。请务必查看我们的项目页面，看看我们的学生正在构建什么。

![Siddhant Vaidya](img/ad00970e7eb7c68f55c6a41cdfc1a804.png)

### **关于作者**

Siddhant R Vaidya 是一名 EPATian 人，现居印度浦那，拥有浦那大学的工程学学士学位。

作为一名在 Capstone Securities Analysis PVT . Ltd .工作的交易员，他拥有 EPAT 优秀证书。

#### 平台:Python

### **项目摘要**

市场是由人驱动的，人是由情绪驱动的。我们遇到过许多事件，在这些事件中，情绪比任何其他与股票基本面或技术面相关的因素更能影响股票的涨跌。此类事件的几个例子:新 iPhone 的发布、加密货币热潮、特斯拉推出新车、高管辞职或被解雇等。

我相信，在任何时候，如果我们能够衡量市场上一项资产的情绪，我们就能够成功地交易这项资产并获利。评估市场情绪的最好方法是分析人们使用的主要信息来源；**新闻**。

#### 所需数据:

过去 6 个月的历史新闻数据来自 newsapi.org。我的项目选择的资产是英伟达公司( **NVDA** )，我从雅虎财经下载了相同 6 个月期间的历史数据。

### **程序:**

该项目分为三个主要部分。新闻提取、情感得分生成和策略执行。

#### 1.新闻摘录

为了获得所有与 Nvidia 相关的新闻文章，我们在查询 URL 中使用了多个过滤器。我们得到的输出是新闻文章的 URL。我们将这些 URL 保存在一个 excel 文件中。

#### 2.情感得分生成

一旦我们有了所需新闻文章的 URL，我们就使用 python 的请求和新闻包从每篇文章中提取文本。一旦我们获得了文本，我们需要在消费它之前处理数据。我们删除所有符号和特殊字符以及停用词。完成后，我们分析每篇文章，以获得该文章的情感分数。

a.Textblob 包为我们提供了极性和主观性得分 b. [Vader 情感](/vader-sentiment/)情感强度分析器包中的分析器，为我们提供了-1 到+1 之间的得分

对于最终策略，我们将只使用 Vader 情绪评分，因为它更简单，结果也更好。

#### 3.战略执行

我们有几天的多个分数，因为那天我们可能有多篇新闻文章。但是我们只对最有影响力的新闻文章感兴趣。因此，使用 groupby，我们找到每天的最大和最小情感分数。然后，我们将两者相加，创建一个名为“极端得分”的指标。这背后的逻辑是，比如说，在某一天，我们得到 2 篇相互矛盾的新闻文章，一篇非常正面，一篇非常负面，我们应该远离这些事件，不要交易。我们的指示器会处理这个问题。

然后，我们为我们的多头和空头头寸设置阈值，然后将我们的策略结果与买入并持有策略进行比较。

### **结果:**

测试期(2018 年 3 月-2018 年 8 月)

*   买入并持有回报(绝对): **17.76%**
*   策略回报(绝对): **24.72%**
*   买入并持有夏普比率: **0.906**
*   策略夏普比率: **1.34** (假设无风险利率为 4%)

### **收益图**

![Graph of returns](img/3f075d6c4a10ec7a0c61a0c4f9af5216.png)

### **项目的限制**

Vader 情绪分析器是社交媒体分析的首选。在我们的例子中，它很好地告诉我们一篇新闻文章是正面还是负面地谈论英伟达，但它不能理解商业方面。新闻提供者在他们的文章中相当有礼貌，即使事情在现实中是灾难性的。因此，在这种情况下，衡量真实情绪变得很困难。解决方案是创建一个包含业务方面的词典。

### **项目的进一步范围**

1.  可以进一步改进该指标，并且可以优化阈值
2.  使用机器学习来生成更有效的情感分数
3.  对于任何其他策略，情绪分析可以用于风险管理
4.  利用情感分析识别黑天鹅事件

### **下一步**

如果你想学习算法交易的各个方面，那就去看看我们的算法交易(EPAT)执行项目(T2)。该课程涵盖了统计学&计量经济学、金融计算&技术和算法&定量交易等培训模块。EPAT 旨在让你具备成为成功交易者的正确技能。[现在报名](https://www.quantinsti.com/epat/)！

你可以报名参加 Quantra 上的[情绪分析课程](https://quantra.quantinsti.com/course/sentiment-analysis-in-trading)，这将帮助你利用 Twitter、新闻情绪数据设计新的交易策略。在本课程中，你将学习通过量化市场情绪来预测市场趋势。

#### 推荐阅读:

*   [众包情绪分析交易策略](/crowdsourced-sentiment-analysis-strategy)
*   情绪分析在交易中的应用:它在哪里起作用？

免责声明:就我们学生所知，本项目中的信息是真实和完整的。所有推荐都不代表学生或 QuantInsti 的保证。学生和 QuantInsti 否认与使用这些信息有关的任何责任。本项目中提供的所有内容仅供参考，我们不保证通过使用该指南您将获得一定的利润。

**zip 存档中的文件列表:**

*   包含日期范围的 Excel 文件
*   提取新闻网址的 Python 代码
*   情感得分生成策略
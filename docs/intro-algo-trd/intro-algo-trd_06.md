# 第六章 – 如何独立开始算法交易

既然你已经读到这里，我祝贺你。你对算法交易的了解已经超过了大约 90%的人。你已经了解了它是什么，是什么样子，以及哪种性格最适合它。

你也了解了这种交易风格的优缺点，希望劣势没有让你退缩。算法交易可以是一种有趣且有回报的体验，但并不容易。但正如我常说的，有时生活中最好的事情是最难做到的。如果算法交易容易，人人都会去做，那么就不会有经济激励了。

算法交易确实可以帮助你与“大佬”们竞争，但它并不自动创造“超级交易员”。没有简单的交易方式，算法交易也不例外。请放心，市场上有零售算法交易员在对抗对冲基金、商品交易顾问等。

此时，是时候抛开理论和文字，开始实际操作：真正开始算法交易的业务。本书接下来的三章将帮助你入门：

+   独立开始算法交易

+   选择一个交易平台

+   关于流行平台的信息

接下来，我将给你一个简单的算法示例，然后提供成功交易的技巧，最后介绍阅读本书后应采取的推荐步骤。当你把这些结合起来时，你就会处于一个很好的位置，认真地实施算法交易。

那么，让我们开始吧！

## 测试的最佳方式是什么？

去年，我在美国乔治亚州亚特兰大遇到了一位交易员。根据我们的讨论，我知道他是一位知识渊博的交易员。当然，我无法确切知道他是否盈利（谁能百分之百确定呢，除非你看到经过验证的交易记录？），但他似乎是。无论如何，我想和他聊聊，就像我与许多交易员交流时一样。

我问这位交易员：“你如何进行历史回测？”他的回答让我震惊。“我不相信回测，”他说，“因为有很多作弊的方法。我觉得历史回测毫无用处。所以，我从来不做。”我感到难以置信。怎么可能有人在没有至少先测试策略的情况下交易，看看它是否产生盈利？

显然，这位交易员认为不需要进行历史测试，虽然我个人觉得这很疯狂，但每个人有自己的选择。我假设你想要对交易算法进行历史测试，这正是我使用的方式。你是如何做到的？

测试策略有四种主要方法。我将强调每种方法的优缺点，然后确定我认为对新算法交易员来说是最佳的长期解决方案。不过，我讨论的任何方法都可能效果良好。

## 进行手动测试

即使在这个数字化的电脑时代，许多人仍然害怕电脑。虽然对电脑知识的增加通常会让它们不再那么令人生畏，但假设有些人就是不想用电脑测试他们的交易算法，他们该如何做呢？

答案让我想起我早期的交易经历，那时我在纸上写下收盘价，并用简单的手持计算器计算移动平均线。所以我知道这是可以做到的。

手动测试涉及交易者查看每个柱，手动计算，并手动记录交易，因为他或她正在测试的算法发出信号。如果这听起来像是一个缓慢而痛苦的过程，那我描述得非常到位。手动测试缓慢、繁琐，并且非常容易出错。

你还记得我们之前看到的那位趋势线交易者和他的“幽灵”交易吗？有人手动测试可能会把它算作一笔盈利交易。“差不多可以”常常被许多手动测试者采用，尤其是在涉及利润时。这就是人性——总是寻求交易的乐观结果。问题在于，这些乐观的回测交易通常在实时交易中并不会如愿以偿。

手动测试 – 优点。

+   交易者对他们的算法策略有了深入的了解。

+   交易者对结果感到自信，因为他是仔细创建这些结果的。

手动测试 – 缺点。

+   非常耗时。

+   易出错。

+   非常容易作弊，错过糟糕交易，接受“差不多可以”的交易。

+   在短暂的测试期后，很容易从一种策略跳到另一种策略，而不是以相同的标准测试每种策略（缺乏一致性）。

判决：不推荐，除非你只有一个策略需要测试——永远如此！

## 雇佣程序员/测试员。

我每周大概会收到一封来自有抱负的交易者的电子邮件。他们兴奋不已，想让我编程和测试他们的“圣杯”交易策略。不幸的是，他们缺乏自行完成的编程技能，但如果我能为他们免费编程和测试，他们愿意让我免费交易他们的创作。

我总是拒绝，因为我知道可能的结果。该策略可能无法良好回测，然后无休止的调整（记得它们有多糟吗？）和修改在试图挽救所谓的圣杯时被尝试。当这失败后，新策略被提出以进行编程，循环再次开始。

这就是为什么雇佣程序员或测试员通常是不好的原因。程序员很贵，如果你认真对待算法交易，你将有数十种，甚至数百种策略需要编程和测试。这项工作的账单将是相当可观的。

走这条路的好处是，如果你的策略复杂，而你的编程技能较弱，一个优秀的程序员可以比你更快、更高效地完成工作。而且，机会是，有经验的测试者会让结果看起来可信。

雇佣程序员/测试员 – 优点。

+   优质的工作。

+   可能比自己做得更快。

聘请程序员/测试员 – 缺点。

+   编程大量策略需要较大的预算。

+   你需要花时间向程序员和测试员提供详细的工作需求。

+   对于简单变更的工作范围，通常会导致成本大幅增加的倾向。

+   没有保证生产出的东西会有用。

+   大多数程序员和测试员不是交易者，因此最终产品可能看起来不错，但也可能无法交易。

结论：仅在你没有时间自己编程和测试，并且有足够资金聘请程序员时推荐。

## 创建自己的回测工具。

在早期的家用计算机时代，我买了一台笔记本电脑，白天用于工作，晚上进行交易系统评估。由于预算紧张，我无法负担 Omega Research（后更名为 Tradestation）的高级测试软件。因此，鉴于我在 Fortran 和 Visual Basic 方面有一定的编程知识，以及对电子表格（Microsoft Excel、Lotus 1-2-3 和 Borland Quattro Pro）的高级知识，我决定创建自己的回测程序。

随着时间的推移，我发现自己有一个相当不错的回测包。我不断添加功能，以加快测试速度，自动化测试，模拟真实条件等等。但随着软件的不断发展，我意识到自己并没有任何可以交易的成品算法！

这显然是个问题。在某个时刻，我的目标变成了开发一个优秀的回测程序，而不是开发一些交易算法。

如果你尝试开发自己的回测工具，这将是你遇到的陷阱。虽然它会根据你的需求进行定制，但你也会花费大量时间在软件本身上，而不是开发策略。即使是像 Python 或 R 这样的高级编程语言也是如此。这些软件语言中有许多开源模块可用，给你提供了很大的起步优势，但你仍然会花费很多时间在集成、测试和修改这些模块上。

对于一个更感兴趣于编写测试软件而不是开发算法的人来说，这是一条不错的路径。

开发自己的回测工具 – 优点。

+   你可以控制外观、感觉和功能。

+   你可以信任结果，因为你对编程代码非常熟悉（当然，前提是你正确编写了代码！）。

+   你可能能够测试许多零售平台难以处理的想法（差价交易、期权）。

开发自己的回测工具 – 缺点。

+   你需要具备编程专业知识。

+   你需要具备交易专业知识，以便你的测试引擎能够复制真实世界。

+   软件开发本身很容易，但不涉及交易，容易成为焦点。

+   消耗时间。

结论：推荐给希望拥有定制交易解决方案的硬核程序员。

## 使用零售交易软件。

最终的替代方案可能是大多数零售交易者的最佳选择。在今天的市场上，确实有数十种为零售交易者设计的交易软件包。显然，所有软件都有优缺点，但最好的软件允许那些编程知识不多的交易者成功开发自己的交易算法。

零售软件选项的好处在于，一旦你知道如何操作软件，并进行一些简单的策略编程，你的重点就可以放在开发算法上——这正是它应该关注的地方。

零售交易软件 – 优点

+   大多数平台都易于使用和学习

+   被其他交易者使用和调试，因此你可以信任结果

+   相对便宜，有些平台甚至是免费的

+   容易与使用相同软件的其他交易者分享策略

零售交易软件 – 缺点

+   很容易让大多数软件包给出错误的结果

+   选择这么多，很难挑选出“正确”的平台

+   如果软件公司倒闭，算法可能变得无用

结论：推荐给大多数零售交易者。可用的软件实在太强大和方便，不容忽视。

如果你在想，我的交易生涯开始于第一个选项，手动回测。真是太痛苦了！一旦我晚上在个人电脑上有了访问权限，超出我常规的工作时间，我就切换到了选项 3——构建自己的回测平台。我这样做了好几年，在编程平台方面比在构建算法方面取得了更多成功。

我有几个不错的算法——我曾这样认为——但在与一些更有经验的交易者交谈后，我意识到我的定制平台存在我没有正确考虑的问题（例如，一些滚动的复杂性）。我意识到我必须进行彻底的改变。

最终，我决定选择零售平台的路线，并购买了一份 Tradestation 的副本。一开始我对这个软件感到非常害怕和畏惧（例如，多年来我只信任“在市场上以市价买卖下一根柱”的订单），但最终我开始理解，并对策略开发感到舒适。你猜怎么着？我开始构建的算法策略变得好多了！

今天，我已经使用 Tradestation 超过 10 年了。如果没有一些不可预见的情况，我认为我会继续使用它多年。
